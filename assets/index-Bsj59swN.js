const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-3hPKAxw8.js","assets/react-BqZl3bYn.js"])))=>i.map(i=>d[i]);
var e,t,n,r,i,a,s,o,l,c,u,h,d,f,p,m,g,v,y,b,x,w,_,S,T,E,M,A,C,P,O,k,R,I,N,D,L,F,U,j,B=e=>{throw TypeError(e)},z=(e,t,n)=>t.has(e)||B("Cannot "+n),V=(e,t,n)=>(z(e,t,"read from private field"),n?n.call(e):t.get(e)),H=(e,t,n)=>t.has(e)?B("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W=(e,t,n,r)=>(z(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),G=(e,t,n)=>(z(e,t,"access private method"),n),X=(e,t,n,r)=>({set _(r){W(e,t,r,n)},get _(){return V(e,t,r)}});import{j as q,P as Y,c as K,a as J,u as Z,B as Q,b as ee,d as te,e as ne,f as re,R as ie,g as ae,h as se,i as oe,k as le,A as ce,D as ue,C as he,S as de,l as fe,m as pe,_ as me,n as ge,o as ve,p as ye,z as be,s as xe,q as we,r as _e,t as Se,v as Te,O as Ee,w as Me,x as Ae,T as Ce,y as Pe,E as Oe,F as ke}from"./ui-Cq3_MabZ.js";import{a as Re,r as Ie,R as Ne,$ as De,c as Le,g as Fe,b as Ue,d as je,u as Be,H as ze,e as Ve,f as He}from"./react-BqZl3bYn.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var We=Re;j=We.createRoot,We.hydrateRoot;let Ge=0;const $e=new Map,Xe=e=>{if($e.has(e))return;const t=setTimeout((()=>{$e.delete(e),Je({type:"REMOVE_TOAST",toastId:e})}),1e6);$e.set(e,t)},qe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Xe(n):e.toasts.forEach((e=>{Xe(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},Ye=[];let Ke={toasts:[]};function Je(e){Ke=qe(Ke,e),Ye.forEach((e=>{e(Ke)}))}function Ze({...e}){const t=(Ge=(Ge+1)%Number.MAX_SAFE_INTEGER,Ge.toString()),n=()=>Je({type:"DISMISS_TOAST",toastId:t});return Je({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Je({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var Qe=Ie.forwardRef(((e,t)=>q.jsx(Y.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));Qe.displayName="VisuallyHidden";var et=Qe,tt="ToastProvider",[nt,rt,it]=K("Toast"),[at,st]=J("Toast",[it]),[ot,lt]=at(tt),ct=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[o,l]=Ie.useState(null),[c,u]=Ie.useState(0),h=Ie.useRef(!1),d=Ie.useRef(!1);return n.trim(),q.jsx(nt.Provider,{scope:t,children:q.jsx(ot,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:Ie.useCallback((()=>u((e=>e+1))),[]),onToastRemove:Ie.useCallback((()=>u((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:s})})};ct.displayName=tt;var ut="ToastViewport",ht=["F8"],dt="toast.viewportPause",ft="toast.viewportResume",pt=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,hotkey:r=ht,label:i="Notifications ({hotkey})",...a}=e,s=lt(ut,n),o=rt(n),l=Ie.useRef(null),c=Ie.useRef(null),u=Ie.useRef(null),h=Ie.useRef(null),d=Z(t,h,s.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;Ie.useEffect((()=>{const e=e=>{var t;0!==r.length&&r.every((t=>e[t]||e.code===t))&&(null==(t=h.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),Ie.useEffect((()=>{const e=l.current,t=h.current;if(p&&e&&t){const n=()=>{if(!s.isClosePausedRef.current){const e=new CustomEvent(dt);t.dispatchEvent(e),s.isClosePausedRef.current=!0}},r=()=>{if(s.isClosePausedRef.current){const e=new CustomEvent(ft);t.dispatchEvent(e),s.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},a=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",a),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",a),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[p,s.isClosePausedRef]);const m=Ie.useCallback((({tabbingDirection:e})=>{const t=o().map((t=>{const n=t.ref.current,r=[n,...Rt(n)];return"forwards"===e?r:r.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[o]);return Ie.useEffect((()=>{const e=h.current;if(e){const t=t=>{var n,r,i;const a=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!a){const a=document.activeElement,s=t.shiftKey;if(t.target===e&&s)return void(null==(n=c.current)||n.focus());const o=m({tabbingDirection:s?"backwards":"forwards"}),l=o.findIndex((e=>e===a));It(o.slice(l+1))?t.preventDefault():s?null==(r=c.current)||r.focus():null==(i=u.current)||i.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[o,m]),q.jsxs(Q,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&q.jsx(gt,{ref:c,onFocusFromOutsideViewport:()=>{It(m({tabbingDirection:"forwards"}))}}),q.jsx(nt.Slot,{scope:n,children:q.jsx(Y.ol,{tabIndex:-1,...a,ref:d})}),p&&q.jsx(gt,{ref:u,onFocusFromOutsideViewport:()=>{It(m({tabbingDirection:"backwards"}))}})]})}));pt.displayName=ut;var mt="ToastFocusProxy",gt=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=lt(mt,n);return q.jsx(Qe,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null==(t=a.viewport)?void 0:t.contains(n))&&r()}})}));gt.displayName=mt;var vt="Toast",yt=Ie.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=e,[o=!0,l]=ee({prop:r,defaultProp:i,onChange:a});return q.jsx(te,{present:n||o,children:q.jsx(wt,{open:o,...s,ref:t,onClose:()=>l(!1),onPause:ne(e.onPause),onResume:ne(e.onResume),onSwipeStart:re(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:re(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:re(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:re(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)}))})})}));yt.displayName=vt;var[bt,xt]=at(vt,{onClose(){}}),wt=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:f,...p}=e,m=lt(vt,n),[g,v]=Ie.useState(null),y=Z(t,(e=>v(e))),b=Ie.useRef(null),x=Ie.useRef(null),w=i||m.duration,_=Ie.useRef(0),S=Ie.useRef(w),T=Ie.useRef(0),{onToastAdd:E,onToastRemove:M}=m,A=ne((()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=m.viewport)||e.focus()),s()})),C=Ie.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(T.current),_.current=(new Date).getTime(),T.current=window.setTimeout(A,e))}),[A]);Ie.useEffect((()=>{const e=m.viewport;if(e){const t=()=>{C(S.current),null==c||c()},n=()=>{const e=(new Date).getTime()-_.current;S.current=S.current-e,window.clearTimeout(T.current),null==l||l()};return e.addEventListener(dt,n),e.addEventListener(ft,t),()=>{e.removeEventListener(dt,n),e.removeEventListener(ft,t)}}}),[m.viewport,w,l,c,C]),Ie.useEffect((()=>{a&&!m.isClosePausedRef.current&&C(w)}),[a,w,m.isClosePausedRef,C]),Ie.useEffect((()=>(E(),()=>M())),[E,M]);const P=Ie.useMemo((()=>g?Pt(g):null),[g]);return m.viewport?q.jsxs(q.Fragment,{children:[P&&q.jsx(_t,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:P}),q.jsx(bt,{scope:n,onClose:A,children:Re.createPortal(q.jsx(nt.ItemSlot,{scope:n,children:q.jsx(ie,{asChild:!0,onEscapeKeyDown:re(o,(()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1})),children:q.jsx(Y.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,(e=>{"Escape"===e.key&&(null==o||o(e.nativeEvent),e.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))})),onPointerDown:re(e.onPointerDown,(e=>{0===e.button&&(b.current={x:e.clientX,y:e.clientY})})),onPointerMove:re(e.onPointerMove,(e=>{if(!b.current)return;const t=e.clientX-b.current.x,n=e.clientY-b.current.y,r=Boolean(x.current),i=["left","right"].includes(m.swipeDirection),a=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,s=i?a(0,t):0,o=i?0:a(0,n),l="touch"===e.pointerType?10:2,c={x:s,y:o},d={originalEvent:e,delta:c};r?(x.current=c,Ot("toast.swipeMove",h,d,{discrete:!1})):kt(c,m.swipeDirection,l)?(x.current=c,Ot("toast.swipeStart",u,d,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(b.current=null)})),onPointerUp:re(e.onPointerUp,(e=>{const t=x.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),x.current=null,b.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};kt(t,m.swipeDirection,m.swipeThreshold)?Ot("toast.swipeEnd",f,r,{discrete:!0}):Ot("toast.swipeCancel",d,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),m.viewport)})]}):null})),_t=e=>{const{__scopeToast:t,children:n,...r}=e,i=lt(vt,t),[a,s]=Ie.useState(!1),[o,l]=Ie.useState(!1);return function(e=()=>{}){const t=ne(e);se((()=>{let e=0,n=0;return e=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}}),[t])}((()=>s(!0))),Ie.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),o?null:q.jsx(ae,{asChild:!0,children:q.jsx(Qe,{...r,children:a&&q.jsxs(q.Fragment,{children:[i.label," ",n]})})})},St=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return q.jsx(Y.div,{...r,ref:t})}));St.displayName="ToastTitle";var Tt=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return q.jsx(Y.div,{...r,ref:t})}));Tt.displayName="ToastDescription";var Et=Ie.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?q.jsx(Ct,{altText:n,asChild:!0,children:q.jsx(At,{...r,ref:t})}):null}));Et.displayName="ToastAction";var Mt="ToastClose",At=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,i=xt(Mt,n);return q.jsx(Ct,{asChild:!0,children:q.jsx(Y.button,{type:"button",...r,ref:t,onClick:re(e.onClick,i.onClose)})})}));At.displayName=Mt;var Ct=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return q.jsx(Y.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})}));function Pt(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...Pt(e))}})),t}function Ot(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?oe(i,a):i.dispatchEvent(a)}var kt=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return"left"===t||"right"===t?a&&r>n:!a&&i>n};function Rt(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function It(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var Nt=ct,Dt=pt,Lt=yt,Ft=St,Ut=Tt,jt=Et,Bt=At;function zt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=zt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Vt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=zt(e))&&(r&&(r+=" "),r+=t);return r}const Ht=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Wt=Vt,Gt=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Wt(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map((e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const s=Ht(t)||Ht(r);return i[e][s]})),o=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...o}[t]):{...a,...o}[t]===n}))?[...e,n,r]:e}),[]);return Wt(e,s,l,null==n?void 0:n.class,null==n?void 0:n.className)},$t=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim();
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Xt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Ie.forwardRef((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>Ie.createElement("svg",{ref:l,...Xt,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:$t("lucide",i),...o},[...s.map((([e,t])=>Ie.createElement(e,t))),...Array.isArray(a)?a:[a]]))),Yt=(e,t)=>{const n=Ie.forwardRef((({className:n,...r},i)=>{return Ie.createElement(qt,{ref:i,iconNode:t,className:$t(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r});var a}));return n.displayName=`${e}`,n},Kt=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Jt=Yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Zt=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Qt=Yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),en=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),tn=Yt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),nn=Yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),rn=Yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),an=Yt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),sn=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),on=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ln=e=>{const t=dn(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),cn(n,t)||hn(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},cn=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?cn(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return null==(n=t.validators.find((({validator:e})=>e(s))))?void 0:n.classGroupId},un=/^\[(.+)\]$/,hn=e=>{if(un.test(e)){const t=un.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},dn=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gn(Object.entries(e.classGroups),n).forEach((([e,n])=>{fn(n,r,e,t)})),r},fn=(e,t,n,r)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return mn(e)?void fn(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,i])=>{fn(i,pn(t,e),n,r)}))}else{(""===e?t:pn(t,e)).classGroupId=n}}))},pn=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},mn=e=>e.isThemeGetter,gn=(e,t)=>t?e.map((([e,n])=>[e,n.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e,vn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},yn=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],a=t.length,s=e=>{const n=[];let s,o=0,l=0;for(let h=0;h<e.length;h++){let c=e[h];if(0===o){if(c===i&&(r||e.slice(h,h+a)===t)){n.push(e.slice(l,h)),l=h+a;continue}if("/"===c){s=h;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return n?e=>n({className:e,parseClassName:s}):s},bn=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},xn=/\s+/;
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function wn(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=_n(e))&&(r&&(r+=" "),r+=t);return r}const _n=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=_n(e[r]))&&(n&&(n+=" "),n+=t);return n};function Sn(e,...t){let n,r,i,a=function(o){const l=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:vn(e.cacheSize),parseClassName:yn(e),...ln(e)}))(l),r=n.cache.get,i=n.cache.set,a=s,s(o)};function s(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(xn);let o="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:h}=n(e);let d=Boolean(h),f=r(d?u.substring(0,h):u);if(!f){if(!d){o=e+(o.length>0?" "+o:o);continue}if(f=r(u),!f){o=e+(o.length>0?" "+o:o);continue}d=!1}const p=bn(t).join(":"),m=c?p+"!":p,g=m+f;if(a.includes(g))continue;a.push(g);const v=i(f,d);for(let n=0;n<v.length;++n){const e=v[n];a.push(m+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return i(e,a),a}return function(){return a(wn.apply(null,arguments))}}const Tn=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},En=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mn=/^\d+\/\d+$/,An=new Set(["px","full","screen"]),Cn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,On=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,In=e=>Dn(e)||An.has(e)||Mn.test(e),Nn=e=>qn(e,"length",Yn),Dn=e=>Boolean(e)&&!Number.isNaN(Number(e)),Ln=e=>qn(e,"number",Dn),Fn=e=>Boolean(e)&&Number.isInteger(Number(e)),Un=e=>e.endsWith("%")&&Dn(e.slice(0,-1)),jn=e=>En.test(e),Bn=e=>Cn.test(e),zn=new Set(["length","size","percentage"]),Vn=e=>qn(e,zn,Kn),Hn=e=>qn(e,"position",Kn),Wn=new Set(["image","url"]),Gn=e=>qn(e,Wn,Zn),$n=e=>qn(e,"",Jn),Xn=()=>!0,qn=(e,t,n)=>{const r=En.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},Yn=e=>Pn.test(e)&&!On.test(e),Kn=()=>!1,Jn=e=>kn.test(e),Zn=e=>Rn.test(e),Qn=Sn((()=>{const e=Tn("colors"),t=Tn("spacing"),n=Tn("blur"),r=Tn("brightness"),i=Tn("borderColor"),a=Tn("borderRadius"),s=Tn("borderSpacing"),o=Tn("borderWidth"),l=Tn("contrast"),c=Tn("grayscale"),u=Tn("hueRotate"),h=Tn("invert"),d=Tn("gap"),f=Tn("gradientColorStops"),p=Tn("gradientColorStopPositions"),m=Tn("inset"),g=Tn("margin"),v=Tn("opacity"),y=Tn("padding"),b=Tn("saturate"),x=Tn("scale"),w=Tn("sepia"),_=Tn("skew"),S=Tn("space"),T=Tn("translate"),E=()=>["auto",jn,t],M=()=>[jn,t],A=()=>["",In,Nn],C=()=>["auto",Dn,jn],P=()=>["","0",jn],O=()=>[Dn,jn];return{cacheSize:500,separator:":",theme:{colors:[Xn],spacing:[In,Nn],blur:["none","",Bn,jn],brightness:O(),borderColor:[e],borderRadius:["none","","full",Bn,jn],borderSpacing:M(),borderWidth:A(),contrast:O(),grayscale:P(),hueRotate:O(),invert:P(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[Un,Nn],inset:E(),margin:E(),opacity:O(),padding:M(),saturate:O(),scale:O(),sepia:P(),skew:O(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",jn]}],container:["container"],columns:[{columns:[Bn]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",jn]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fn,jn]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",jn]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Fn,jn]}],"grid-cols":[{"grid-cols":[Xn]}],"col-start-end":[{col:["auto",{span:["full",Fn,jn]},jn]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Xn]}],"row-start-end":[{row:["auto",{span:[Fn,jn]},jn]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",jn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",jn]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",jn,t]}],"min-w":[{"min-w":[jn,t,"min","max","fit"]}],"max-w":[{"max-w":[jn,t,"none","full","min","max","fit","prose",{screen:[Bn]},Bn]}],h:[{h:[jn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[jn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[jn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[jn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bn,Nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ln]}],"font-family":[{font:[Xn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",jn]}],"line-clamp":[{"line-clamp":["none",Dn,Ln]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",In,jn]}],"list-image":[{"list-image":["none",jn]}],"list-style-type":[{list:["none","disc","decimal",jn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",In,Nn]}],"underline-offset":[{"underline-offset":["auto",In,jn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Hn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gn]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[In,jn]}],"outline-w":[{outline:[In,Nn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[In,Nn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bn,$n]}],"shadow-color":[{shadow:[Xn]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bn,jn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",jn]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",jn]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",jn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Fn,jn]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[In,Nn,Ln]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}));function er(...e){return Qn(Vt(e))}const tr=Nt,nr=Ie.forwardRef((({className:e,...t},n)=>q.jsx(Dt,{ref:n,className:er("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t})));nr.displayName=Dt.displayName;const rr=Gt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ir=Ie.forwardRef((({className:e,variant:t,...n},r)=>q.jsx(Lt,{ref:r,className:er(rr({variant:t}),e),...n})));ir.displayName=Lt.displayName;Ie.forwardRef((({className:e,...t},n)=>q.jsx(jt,{ref:n,className:er("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}))).displayName=jt.displayName;const ar=Ie.forwardRef((({className:e,...t},n)=>q.jsx(Bt,{ref:n,className:er("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:q.jsx(on,{className:"h-4 w-4"})})));ar.displayName=Bt.displayName;const sr=Ie.forwardRef((({className:e,...t},n)=>q.jsx(Ft,{ref:n,className:er("text-sm font-semibold",e),...t})));sr.displayName=Ft.displayName;const or=Ie.forwardRef((({className:e,...t},n)=>q.jsx(Ut,{ref:n,className:er("text-sm opacity-90",e),...t})));function lr(){const{toasts:e}=function(){const[e,t]=Ie.useState(Ke);return Ie.useEffect((()=>(Ye.push(t),()=>{const e=Ye.indexOf(t);e>-1&&Ye.splice(e,1)})),[e]),{...e,toast:Ze,dismiss:e=>Je({type:"DISMISS_TOAST",toastId:e})}}();return q.jsxs(tr,{children:[e.map((function({id:e,title:t,description:n,action:r,...i}){return q.jsxs(ir,{...i,children:[q.jsxs("div",{className:"grid gap-1",children:[t&&q.jsx(sr,{children:t}),n&&q.jsx(or,{children:n})]}),r,q.jsx(ar,{})]},e)})),q.jsx(nr,{})]})}or.displayName=Ut.displayName;var cr=["light","dark"],ur=Ie.createContext(void 0),hr={setTheme:e=>{},themes:[]};Ie.memo((({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let c="system"===a,u="class"===n?`var d=document.documentElement,c=d.classList;c.remove(${o.map((e=>`'${e}'`)).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?cr.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(e,t=!1,r=!0)=>{let a=s?s[e]:e,o=t?e+"|| ''":`'${a}'`,l="";return i&&r&&!t&&cr.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===n?l+=t||a?`c.add(${o})`:"null":a&&(l+=`d[s](n,${o})`),l},f=e?`!function(){${u}${d(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${d(s?"x[e]":"e",!0)}}${c?"":"else{"+d(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${d(s?"x[e]":"e",!0)}}else{${d(a,!1,!1)};}${h}}catch(t){}}();`;return Ie.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})}));var dr=Array(12).fill(0),fr=({visible:e})=>Ne.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Ne.createElement("div",{className:"sonner-spinner"},dr.map(((e,t)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),pr=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mr=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gr=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vr=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yr=1,br=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:yr++,a=this.toasts.find((e=>e.id===i)),s=void 0===e.dismissible||e.dismissible;return a?this.toasts=this.toasts.map((t=>t.id===i?(this.publish({...t,...e,id:i,title:n}),{...t,...e,id:i,dismissible:s,title:n}):t)):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=e instanceof Promise?e:e(),i=void 0!==n;return r.then((async e=>{if(xr(e)&&!e.ok){i=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:a})}else if(void 0!==t.success){i=!1;let r="function"==typeof t.success?await t.success(e):t.success,a="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:r,description:a})}})).catch((async e=>{if(void 0!==t.error){i=!1;let r="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:r,description:a})}})).finally((()=>{var e;i&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)})),n},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||yr++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},xr=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,wr=(e,t)=>{let n=(null==t?void 0:t.id)||yr++;return br.addToast({title:e,...t,id:n}),n};function _r(e){return void 0!==e.label}Object.assign(wr,{success:br.success,info:br.info,warning:br.warning,error:br.error,custom:br.custom,message:br.message,promise:br.promise,dismiss:br.dismiss,loading:br.loading},{getHistory:()=>br.toasts}),function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Sr=3,Tr=14;function Er(...e){return e.filter(Boolean).join(" ")}var Mr=e=>{var t,n,r,i,a,s,o,l,c,u;let{invert:h,toast:d,unstyled:f,interacting:p,setHeights:m,visibleToasts:g,heights:v,index:y,toasts:b,expanded:x,removeToast:w,defaultRichColors:_,closeButton:S,style:T,cancelButtonStyle:E,actionButtonStyle:M,className:A="",descriptionClassName:C="",duration:P,position:O,gap:k,loadingIcon:R,expandByDefault:I,classNames:N,icons:D,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:F,cn:U}=e,[j,B]=Ne.useState(!1),[z,V]=Ne.useState(!1),[H,W]=Ne.useState(!1),[G,$]=Ne.useState(!1),[X,q]=Ne.useState(0),[Y,K]=Ne.useState(0),J=Ne.useRef(null),Z=Ne.useRef(null),Q=0===y,ee=y+1<=g,te=d.type,ne=!1!==d.dismissible,re=d.className||"",ie=d.descriptionClassName||"",ae=Ne.useMemo((()=>v.findIndex((e=>e.toastId===d.id))||0),[v,d.id]),se=Ne.useMemo((()=>{var e;return null!=(e=d.closeButton)?e:S}),[d.closeButton,S]),oe=Ne.useMemo((()=>d.duration||P||4e3),[d.duration,P]),le=Ne.useRef(0),ce=Ne.useRef(0),ue=Ne.useRef(0),he=Ne.useRef(null),[de,fe]=O.split("-"),pe=Ne.useMemo((()=>v.reduce(((e,t,n)=>n>=ae?e:e+t.height),0)),[v,ae]),me=(()=>{let[e,t]=Ne.useState(document.hidden);return Ne.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),ge=d.invert||h,ve="loading"===te;ce.current=Ne.useMemo((()=>ae*k+pe),[ae,pe]),Ne.useEffect((()=>{B(!0)}),[]),Ne.useLayoutEffect((()=>{if(!j)return;let e=Z.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,K(n),m((e=>e.find((e=>e.toastId===d.id))?e.map((e=>e.toastId===d.id?{...e,height:n}:e)):[{toastId:d.id,height:n,position:d.position},...e]))}),[j,d.title,d.description,m,d.id]);let ye=Ne.useCallback((()=>{V(!0),q(ce.current),m((e=>e.filter((e=>e.toastId!==d.id)))),setTimeout((()=>{w(d)}),200)}),[d,w,m,ce]);return Ne.useEffect((()=>{if(d.promise&&"loading"===te||d.duration===1/0||"loading"===d.type)return;let e,t=oe;return x||p||F&&me?(()=>{if(ue.current<le.current){let e=(new Date).getTime()-le.current;t-=e}ue.current=(new Date).getTime()})():t!==1/0&&(le.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=d.onAutoClose)||e.call(d,d),ye()}),t)),()=>clearTimeout(e)}),[x,p,I,d,oe,ye,d.promise,te,F,me]),Ne.useEffect((()=>{let e=Z.current;if(e){let t=e.getBoundingClientRect().height;return K(t),m((e=>[{toastId:d.id,height:t,position:d.position},...e])),()=>m((e=>e.filter((e=>e.toastId!==d.id))))}}),[m,d.id]),Ne.useEffect((()=>{d.delete&&ye()}),[ye,d.delete]),Ne.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Z,className:U(A,re,null==N?void 0:N.toast,null==(t=null==d?void 0:d.classNames)?void 0:t.toast,null==N?void 0:N.default,null==N?void 0:N[te],null==(n=null==d?void 0:d.classNames)?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":null!=(r=d.richColors)?r:_,"data-styled":!(d.jsx||d.unstyled||f),"data-mounted":j,"data-promise":!!d.promise,"data-removed":z,"data-visible":ee,"data-y-position":de,"data-x-position":fe,"data-index":y,"data-front":Q,"data-swiping":H,"data-dismissible":ne,"data-type":te,"data-invert":ge,"data-swipe-out":G,"data-expanded":!!(x||I&&j),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${z?X:ce.current}px`,"--initial-height":I?"auto":`${Y}px`,...T,...d.style},onPointerDown:e=>{ve||!ne||(J.current=new Date,q(ce.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(W(!0),he.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(G||!ne)return;he.current=null;let i=Number((null==(e=Z.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),a=(new Date).getTime()-(null==(t=J.current)?void 0:t.getTime()),s=Math.abs(i)/a;if(Math.abs(i)>=20||s>.11)return q(ce.current),null==(n=d.onDismiss)||n.call(d,d),ye(),void $(!0);null==(r=Z.current)||r.style.setProperty("--swipe-amount","0px"),W(!1)},onPointerMove:e=>{var t;if(!he.current||!ne)return;let n=e.clientY-he.current.y,r=e.clientX-he.current.x,i=("top"===de?Math.min:Math.max)(0,n),a="touch"===e.pointerType?10:2;Math.abs(i)>a?null==(t=Z.current)||t.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>a&&(he.current=null)}},se&&!d.jsx?Ne.createElement("button",{"aria-label":L,"data-disabled":ve,"data-close-button":!0,onClick:ve||!ne?()=>{}:()=>{var e;ye(),null==(e=d.onDismiss)||e.call(d,d)},className:U(null==N?void 0:N.closeButton,null==(i=null==d?void 0:d.classNames)?void 0:i.closeButton)},Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||Ne.isValidElement(d.title)?d.jsx||d.title:Ne.createElement(Ne.Fragment,null,te||d.icon||d.promise?Ne.createElement("div",{"data-icon":"",className:U(null==N?void 0:N.icon,null==(a=null==d?void 0:d.classNames)?void 0:a.icon)},d.promise||"loading"===d.type&&!d.icon?d.icon||(null!=D&&D.loading?Ne.createElement("div",{className:"sonner-loader","data-visible":"loading"===te},D.loading):R?Ne.createElement("div",{className:"sonner-loader","data-visible":"loading"===te},R):Ne.createElement(fr,{visible:"loading"===te})):null,"loading"!==d.type?d.icon||(null==D?void 0:D[te])||(e=>{switch(e){case"success":return pr;case"info":return gr;case"warning":return mr;case"error":return vr;default:return null}})(te):null):null,Ne.createElement("div",{"data-content":"",className:U(null==N?void 0:N.content,null==(s=null==d?void 0:d.classNames)?void 0:s.content)},Ne.createElement("div",{"data-title":"",className:U(null==N?void 0:N.title,null==(o=null==d?void 0:d.classNames)?void 0:o.title)},d.title),d.description?Ne.createElement("div",{"data-description":"",className:U(C,ie,null==N?void 0:N.description,null==(l=null==d?void 0:d.classNames)?void 0:l.description)},d.description):null),Ne.isValidElement(d.cancel)?d.cancel:d.cancel&&_r(d.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||E,onClick:e=>{var t,n;_r(d.cancel)&&ne&&(null==(n=(t=d.cancel).onClick)||n.call(t,e),ye())},className:U(null==N?void 0:N.cancelButton,null==(c=null==d?void 0:d.classNames)?void 0:c.cancelButton)},d.cancel.label):null,Ne.isValidElement(d.action)?d.action:d.action&&_r(d.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||M,onClick:e=>{var t,n;_r(d.action)&&(e.defaultPrevented||(null==(n=(t=d.action).onClick)||n.call(t,e),ye()))},className:U(null==N?void 0:N.actionButton,null==(u=null==d?void 0:d.classNames)?void 0:u.actionButton)},d.action.label):null))};function Ar(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var Cr=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:o,theme:l="light",richColors:c,duration:u,style:h,visibleToasts:d=Sr,toastOptions:f,dir:p=Ar(),gap:m=Tr,loadingIcon:g,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:x=Er}=e,[w,_]=Ne.useState([]),S=Ne.useMemo((()=>Array.from(new Set([n].concat(w.filter((e=>e.position)).map((e=>e.position)))))),[w,n]),[T,E]=Ne.useState([]),[M,A]=Ne.useState(!1),[C,P]=Ne.useState(!1),[O,k]=Ne.useState("system"!==l?l:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=Ne.useRef(null),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=Ne.useRef(null),D=Ne.useRef(!1),L=Ne.useCallback((e=>{var t;null!=(t=w.find((t=>t.id===e.id)))&&t.delete||br.dismiss(e.id),_((t=>t.filter((({id:t})=>t!==e.id))))}),[w]);return Ne.useEffect((()=>br.subscribe((e=>{e.dismiss?_((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{De.flushSync((()=>{_((t=>{let n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[]),Ne.useEffect((()=>{"system"===l?("system"===l&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{k(e?"dark":"light")}))):k(l)}),[l]),Ne.useEffect((()=>{w.length<=1&&A(!1)}),[w]),Ne.useEffect((()=>{let e=e=>{var t,n;r.every((t=>e[t]||e.code===t))&&(A(!0),null==(t=R.current)||t.focus()),"Escape"===e.code&&(document.activeElement===R.current||null!=(n=R.current)&&n.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),Ne.useEffect((()=>{if(R.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,D.current=!1)}}),[R.current]),w.length?Ne.createElement("section",{"aria-label":`${y} ${I}`,tabIndex:-1},S.map(((e,n)=>{var r;let[l,y]=e.split("-");return Ne.createElement("ol",{key:e,dir:"auto"===p?Ar():p,tabIndex:-1,ref:R,className:s,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":l,"data-x-position":y,style:{"--front-toast-height":`${(null==(r=T[0])?void 0:r.height)||0}px`,"--offset":"number"==typeof o?`${o}px`:o||"32px","--width":"356px","--gap":`${m}px`,...h},onBlur:e=>{D.current&&!e.currentTarget.contains(e.relatedTarget)&&(D.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D.current||(D.current=!0,N.current=e.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{C||A(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},w.filter((t=>!t.position&&0===n||t.position===e)).map(((n,r)=>{var s,o;return Ne.createElement(Mr,{key:n.id,icons:v,index:r,toast:n,defaultRichColors:c,duration:null!=(s=null==f?void 0:f.duration)?s:u,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:t,visibleToasts:d,closeButton:null!=(o=null==f?void 0:f.closeButton)?o:a,interacting:C,position:e,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,removeToast:L,toasts:w.filter((e=>e.position==n.position)),heights:T.filter((e=>e.position==n.position)),setHeights:E,expandByDefault:i,gap:m,loadingIcon:g,expanded:M,pauseWhenPageIsHidden:b,cn:x})})))}))):null};const Pr=({...e})=>{const{theme:t="system"}=null!=(n=Ie.useContext(ur))?n:hr;var n;return q.jsx(Cr,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[Or,kr]=J("Tooltip",[le]),Rr=le(),Ir="TooltipProvider",Nr=700,Dr="tooltip.open",[Lr,Fr]=Or(Ir),Ur=e=>{const{__scopeTooltip:t,delayDuration:n=Nr,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,[s,o]=Ie.useState(!0),l=Ie.useRef(!1),c=Ie.useRef(0);return Ie.useEffect((()=>{const e=c.current;return()=>window.clearTimeout(e)}),[]),q.jsx(Lr,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:Ie.useCallback((()=>{window.clearTimeout(c.current),o(!1)}),[]),onClose:Ie.useCallback((()=>{window.clearTimeout(c.current),c.current=window.setTimeout((()=>o(!0)),r)}),[r]),isPointerInTransitRef:l,onPointerInTransitChange:Ie.useCallback((e=>{l.current=e}),[]),disableHoverableContent:i,children:a})};Ur.displayName=Ir;var jr="Tooltip",[Br,zr]=Or(jr),Vr="TooltipTrigger";Ie.forwardRef(((e,t)=>{const{__scopeTooltip:n,...r}=e,i=zr(Vr,n),a=Fr(Vr,n),s=Rr(n),o=Ie.useRef(null),l=Z(t,o,i.onTriggerChange),c=Ie.useRef(!1),u=Ie.useRef(!1),h=Ie.useCallback((()=>c.current=!1),[]);return Ie.useEffect((()=>()=>document.removeEventListener("pointerup",h)),[h]),q.jsx(ce,{asChild:!0,...s,children:q.jsx(Y.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:re(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(u.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))})),onPointerLeave:re(e.onPointerLeave,(()=>{i.onTriggerLeave(),u.current=!1})),onPointerDown:re(e.onPointerDown,(()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})})),onFocus:re(e.onFocus,(()=>{c.current||i.onOpen()})),onBlur:re(e.onBlur,i.onClose),onClick:re(e.onClick,i.onClose)})})})).displayName=Vr;var[Hr,Wr]=Or("TooltipPortal",{forceMount:void 0}),Gr="TooltipContent",$r=Ie.forwardRef(((e,t)=>{const n=Wr(Gr,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,s=zr(Gr,e.__scopeTooltip);return q.jsx(te,{present:r||s.open,children:s.disableHoverableContent?q.jsx(Kr,{side:i,...a,ref:t}):q.jsx(Xr,{side:i,...a,ref:t})})})),Xr=Ie.forwardRef(((e,t)=>{const n=zr(Gr,e.__scopeTooltip),r=Fr(Gr,e.__scopeTooltip),i=Ie.useRef(null),a=Z(t,i),[s,o]=Ie.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,d=Ie.useCallback((()=>{o(null),h(!1)}),[h]),f=Ie.useCallback(((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=function(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;n.length>=2;){const e=n[n.length-1],r=n[n.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...i,...function(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}(t.getBoundingClientRect())]);o(a),h(!0)}),[h]);return Ie.useEffect((()=>()=>d()),[d]),Ie.useEffect((()=>{if(l&&u){const e=e=>f(e,u),t=e=>f(e,l);return l.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}}),[l,u,f,d]),Ie.useEffect((()=>{if(s){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=(null==l?void 0:l.contains(t))||(null==u?void 0:u.contains(t)),i=!function(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const e=t[a].x,o=t[a].y,l=t[s].x,c=t[s].y;o>r!=c>r&&n<(l-e)*(r-o)/(c-o)+e&&(i=!i)}return i}(n,s);r?d():i&&(d(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[l,u,s,c,d]),q.jsx(Kr,{...e,ref:a})})),[qr,Yr]=Or(jr,{isInside:!1}),Kr=Ie.forwardRef(((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=e,l=zr(Gr,n),c=Rr(n),{onClose:u}=l;return Ie.useEffect((()=>(document.addEventListener(Dr,u),()=>document.removeEventListener(Dr,u))),[u]),Ie.useEffect((()=>{if(l.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(l.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[l.trigger,u]),q.jsx(ue,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:q.jsxs(he,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[q.jsx(de,{children:r}),q.jsx(qr,{scope:n,isInside:!0,children:q.jsx(et,{id:l.contentId,role:"tooltip",children:i||r})})]})})}));$r.displayName=Gr;var Jr="TooltipArrow";Ie.forwardRef(((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Rr(n);return Yr(Jr,n).isInside?null:q.jsx(fe,{...i,...r,ref:t})})).displayName=Jr;var Zr=$r;const Qr=Ur;Ie.forwardRef((({className:e,sideOffset:t=4,...n},r)=>q.jsx(Zr,{ref:r,sideOffset:t,className:er("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}))).displayName=Zr.displayName;var ei=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ti="undefined"==typeof window||"Deno"in globalThis;function ni(){}function ri(e,t){return"function"==typeof e?e(t):e}function ii(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s)if(r){if(t.queryHash!==si(s,t.options))return!1}else if(!li(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!i||i===t.state.fetchStatus)&&!(a&&!a(t)))}function ai(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(oi(t.options.mutationKey)!==oi(a))return!1}else if(!li(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function si(e,t){return((null==t?void 0:t.queryKeyHashFn)||oi)(e)}function oi(e){return JSON.stringify(e,((e,t)=>hi(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function li(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!li(e[n],t[n]))))}function ci(e,t){if(e===t)return e;const n=ui(e)&&ui(t);if(n||hi(e)&&hi(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const i=n?c:a[c];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(o[i]=void 0,l++):(o[i]=ci(e[i],t[i]),o[i]===e[i]&&void 0!==e[i]&&l++)}return i===s&&l===i?e:o}return t}function ui(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hi(e){if(!di(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!di(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function di(e){return"[object Object]"===Object.prototype.toString.call(e)}function fi(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?ci(e,t):t}function pi(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mi(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gi=Symbol();function vi(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==gi?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var yi=new(r=class extends ei{constructor(){super(),H(this,e),H(this,t),H(this,n),W(this,n,(e=>{if(!ti&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){V(this,t)||this.setEventListener(V(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=V(this,t))||e.call(this),W(this,t,void 0))}setEventListener(e){var r;W(this,n,e),null==(r=V(this,t))||r.call(this),W(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){V(this,e)!==t&&(W(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof V(this,e)?V(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r),bi=new(o=class extends ei{constructor(){super(),H(this,i,!0),H(this,a),H(this,s),W(this,s,(e=>{if(!ti&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){V(this,a)||this.setEventListener(V(this,s))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=V(this,a))||e.call(this),W(this,a,void 0))}setEventListener(e){var t;W(this,s,e),null==(t=V(this,a))||t.call(this),W(this,a,e(this.setOnline.bind(this)))}setOnline(e){V(this,i)!==e&&(W(this,i,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return V(this,i)}},i=new WeakMap,a=new WeakMap,s=new WeakMap,o);function xi(e){return Math.min(1e3*2**e,3e4)}function wi(e){return"online"!==(e??"online")||bi.isOnline()}var _i=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Si(e){return e instanceof _i}function Ti(e){let t,n=!1,r=0,i=!1;const a=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),s=()=>yi.isFocused()&&("always"===e.networkMode||bi.isOnline())&&e.canRun(),o=()=>wi(e.networkMode)&&e.canRun(),l=n=>{var r;i||(i=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),a.resolve(n))},c=n=>{var r;i||(i=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),a.reject(n))},u=()=>new Promise((n=>{var r;t=e=>{(i||s())&&n(e)},null==(r=e.onPause)||r.call(e)})).then((()=>{var n;t=void 0,i||null==(n=e.onContinue)||n.call(e)})),h=()=>{if(i)return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch((t=>{var a;if(i)return;const o=e.retry??(ti?0:3),l=e.retryDelay??xi,d="function"==typeof l?l(r,t):l,f=!0===o||"number"==typeof o&&r<o||"function"==typeof o&&o(r,t);var p;!n&&f?(r++,null==(a=e.onFail)||a.call(e,r,t),(p=d,new Promise((e=>{setTimeout(e,p)}))).then((()=>s()?void 0:u())).then((()=>{n?c(t):h()}))):c(t)}))};return{promise:a,cancel:t=>{var n;i||(c(new _i(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),a),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?h():u().then(h),a)}}var Ei=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const a=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:a=>{let s;t++;try{s=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>(...t)=>{a((()=>{e(...t)}))},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),Mi=(c=class{constructor(){H(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&W(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ti?1/0:3e5))}clearGcTimeout(){V(this,l)&&(clearTimeout(V(this,l)),W(this,l,void 0))}},l=new WeakMap,c),Ai=(y=class extends Mi{constructor(e){super(),H(this,g),H(this,u),H(this,h),H(this,d),H(this,f),H(this,p),H(this,m),W(this,m,!1),W(this,p,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,d,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,u,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??V(this,u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=V(this,f))?void 0:e.promise}setOptions(e){this.options={...V(this,p),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||V(this,d).remove(this)}setData(e,t){const n=fi(this.state.data,e,this.options);return G(this,g,v).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){G(this,g,v).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=V(this,f))?void 0:t.promise;return null==(n=V(this,f))||n.cancel(e),r?r.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,u))}isActive(){return this.observers.some((e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n}))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=V(this,f))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=V(this,f))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,d).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(V(this,f)&&(V(this,m)?V(this,f).cancel({revert:!0}):V(this,f).cancelRetry()),this.scheduleGc()),V(this,d).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,g,v).call(this,{type:"invalidate"})}fetch(e,t){var n,r,i;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(V(this,f))return V(this,f).continueRetry(),V(this,f).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const a=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(W(this,m,!0),a.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=vi(this.options,t),n={queryKey:this.queryKey,meta:this.meta};return s(n),W(this,m,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};s(o),null==(n=this.options.behavior)||n.onFetch(o,this),W(this,h,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=o.fetchOptions)?void 0:r.meta)||G(this,g,v).call(this,{type:"fetch",meta:null==(i=o.fetchOptions)?void 0:i.meta});const l=e=>{var t,n,r,i;Si(e)&&e.silent||G(this,g,v).call(this,{type:"error",error:e}),Si(e)||(null==(n=(t=V(this,d).config).onError)||n.call(t,e,this),null==(i=(r=V(this,d).config).onSettled)||i.call(r,this.state.data,e,this)),this.scheduleGc()};return W(this,f,Ti({initialPromise:null==t?void 0:t.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:e=>{var t,n,r,i;if(void 0!==e){try{this.setData(e)}catch(a){return void l(a)}null==(n=(t=V(this,d).config).onSuccess)||n.call(t,e,this),null==(i=(r=V(this,d).config).onSettled)||i.call(r,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{G(this,g,v).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{G(this,g,v).call(this,{type:"pause"})},onContinue:()=>{G(this,g,v).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,f).start()}},u=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakSet,v=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Ci(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Si(n)&&n.revert&&V(this,h)?{...V(this,h),fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Ei.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),V(this,d).notify({query:this,type:"updated",action:e})}))},y);function Ci(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wi(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Pi=(x=class extends ei{constructor(e={}){super(),H(this,b),this.config=e,W(this,b,new Map)}build(e,t,n){const r=t.queryKey,i=t.queryHash??si(r,t);let a=this.get(i);return a||(a=new Ai({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){V(this,b).has(e.queryHash)||(V(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=V(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&V(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ei.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return V(this,b).get(e)}getAll(){return[...V(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>ii(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>ii(e,t))):t}notify(e){Ei.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Ei.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Ei.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},b=new WeakMap,x),Oi=(M=class extends Mi{constructor(e){super(),H(this,T),H(this,w),H(this,_),H(this,S),this.mutationId=e.mutationId,W(this,_,e.mutationCache),W(this,w,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,w).includes(e)||(V(this,w).push(e),this.clearGcTimeout(),V(this,_).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,w,V(this,w).filter((t=>t!==e))),this.scheduleGc(),V(this,_).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,w).length||("pending"===this.state.status?this.scheduleGc():V(this,_).remove(this))}continue(){var e;return(null==(e=V(this,S))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,i,a,s,o,l,c,u,h,d,f,p,m,g,v,y,b,x;W(this,S,Ti({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{G(this,T,E).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{G(this,T,E).call(this,{type:"pause"})},onContinue:()=>{G(this,T,E).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,_).canRun(this)}));const w="pending"===this.state.status,M=!V(this,S).canStart();try{if(!w){G(this,T,E).call(this,{type:"pending",variables:e,isPaused:M}),await(null==(n=(t=V(this,_).config).onMutate)?void 0:n.call(t,e,this));const a=await(null==(i=(r=this.options).onMutate)?void 0:i.call(r,e));a!==this.state.context&&G(this,T,E).call(this,{type:"pending",context:a,variables:e,isPaused:M})}const f=await V(this,S).start();return await(null==(s=(a=V(this,_).config).onSuccess)?void 0:s.call(a,f,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,f,e,this.state.context)),await(null==(u=(c=V(this,_).config).onSettled)?void 0:u.call(c,f,null,this.state.variables,this.state.context,this)),await(null==(d=(h=this.options).onSettled)?void 0:d.call(h,f,null,e,this.state.context)),G(this,T,E).call(this,{type:"success",data:f}),f}catch(A){try{throw await(null==(p=(f=V(this,_).config).onError)?void 0:p.call(f,A,e,this.state.context,this)),await(null==(g=(m=this.options).onError)?void 0:g.call(m,A,e,this.state.context)),await(null==(y=(v=V(this,_).config).onSettled)?void 0:y.call(v,void 0,A,this.state.variables,this.state.context,this)),await(null==(x=(b=this.options).onSettled)?void 0:x.call(b,void 0,A,e,this.state.context)),A}finally{G(this,T,E).call(this,{type:"error",error:A})}}finally{V(this,_).runNext(this)}}},w=new WeakMap,_=new WeakMap,S=new WeakMap,T=new WeakSet,E=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Ei.batch((()=>{V(this,w).forEach((t=>{t.onMutationUpdate(e)})),V(this,_).notify({mutation:this,type:"updated",action:e})}))},M);var ki=(P=class extends ei{constructor(e={}){super(),H(this,A),H(this,C),this.config=e,W(this,A,new Map),W(this,C,Date.now())}build(e,t,n){const r=new Oi({mutationCache:this,mutationId:++X(this,C)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=Ri(e),n=V(this,A).get(t)??[];n.push(e),V(this,A).set(t,n),this.notify({type:"added",mutation:e})}remove(e){var t;const n=Ri(e);if(V(this,A).has(n)){const r=null==(t=V(this,A).get(n))?void 0:t.filter((t=>t!==e));r&&(0===r.length?V(this,A).delete(n):V(this,A).set(n,r))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const n=null==(t=V(this,A).get(Ri(e)))?void 0:t.find((e=>"pending"===e.state.status));return!n||n===e}runNext(e){var t;const n=null==(t=V(this,A).get(Ri(e)))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==n?void 0:n.continue())??Promise.resolve()}clear(){Ei.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}getAll(){return[...V(this,A).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find((e=>ai(t,e)))}findAll(e={}){return this.getAll().filter((t=>ai(e,t)))}notify(e){Ei.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Ei.batch((()=>Promise.all(e.map((e=>e.continue().catch(ni))))))}},A=new WeakMap,C=new WeakMap,P);function Ri(e){var t;return(null==(t=e.options.scope)?void 0:t.id)??String(e.mutationId)}function Ii(e){return{onFetch:(t,n)=>{var r,i,a,s,o;const l=t.options,c=null==(a=null==(i=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:i.fetchMore)?void 0:a.direction,u=(null==(s=t.state.data)?void 0:s.pages)||[],h=(null==(o=t.state.data)?void 0:o.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const p=async()=>{let n=!1;const r=vi(t.options,t.fetchOptions),i=async(e,i,a)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const s={queryKey:t.queryKey,pageParam:i,direction:a?"backward":"forward",meta:t.options.meta};var o;o=s,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const l=await r(s),{maxPages:c}=t.options,u=a?mi:pi;return{pages:u(e.pages,l,c),pageParams:u(e.pageParams,i,c)}};if(c&&u.length){const e="backward"===c,t={pages:u,pageParams:h},n=(e?Di:Ni)(l,t);d=await i(t,n,e)}else{const t=e??u.length;do{const e=0===f?h[0]??l.initialPageParam:Ni(l,d);if(f>0&&null==e)break;d=await i(d,e),f++}while(f<t)}return d};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Ni(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Di(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var Li=(U=class{constructor(e={}){H(this,O),H(this,k),H(this,R),H(this,I),H(this,N),H(this,D),H(this,L),H(this,F),W(this,O,e.queryCache||new Pi),W(this,k,e.mutationCache||new ki),W(this,R,e.defaultOptions||{}),W(this,I,new Map),W(this,N,new Map),W(this,D,0)}mount(){X(this,D)._++,1===V(this,D)&&(W(this,L,yi.subscribe((async e=>{e&&(await this.resumePausedMutations(),V(this,O).onFocus())}))),W(this,F,bi.subscribe((async e=>{e&&(await this.resumePausedMutations(),V(this,O).onOnline())}))))}unmount(){var e,t;X(this,D)._--,0===V(this,D)&&(null==(e=V(this,L))||e.call(this),W(this,L,void 0),null==(t=V(this,F))||t.call(this),W(this,F,void 0))}isFetching(e){return V(this,O).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,k).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=V(this,O).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=V(this,O).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(ri(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return V(this,O).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=V(this,O).get(r.queryHash),a=function(e,t){return"function"==typeof e?e(t):e}(t,null==i?void 0:i.state.data);if(void 0!==a)return V(this,O).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ei.batch((()=>V(this,O).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=V(this,O).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=V(this,O);Ei.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=V(this,O),r={type:"active",...e};return Ei.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ei.batch((()=>V(this,O).findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then(ni).catch(ni)}invalidateQueries(e={},t={}){return Ei.batch((()=>{if(V(this,O).findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)}))}refetchQueries(e={},t){const n={...t,cancelRefetch:(null==t?void 0:t.cancelRefetch)??!0},r=Ei.batch((()=>V(this,O).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(ni)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=V(this,O).build(this,t);return n.isStaleByTime(ri(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=Ii(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=Ii(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bi.isOnline()?V(this,k).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,O)}getMutationCache(){return V(this,k)}getDefaultOptions(){return V(this,R)}setDefaultOptions(e){W(this,R,e)}setQueryDefaults(e,t){V(this,I).set(oi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,I).values()];let n={};return t.forEach((t=>{li(e,t.queryKey)&&(n={...n,...t.defaultOptions})})),n}setMutationDefaults(e,t){V(this,N).set(oi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,N).values()];let n={};return t.forEach((t=>{li(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,R).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=si(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===gi&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...V(this,R).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,O).clear(),V(this,k).clear()}},O=new WeakMap,k=new WeakMap,R=new WeakMap,I=new WeakMap,N=new WeakMap,D=new WeakMap,L=new WeakMap,F=new WeakMap,U),Fi=Ie.createContext(void 0),Ui=({client:e,children:t})=>(Ie.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),q.jsx(Fi.Provider,{value:e,children:t}));const ji=Ie.createContext({});const Bi="undefined"!=typeof window,zi=Bi?Ie.useLayoutEffect:Ie.useEffect,Vi=Ie.createContext(null);function Hi(e,t){-1===e.indexOf(t)&&e.push(t)}function Wi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gi=(e,t,n)=>n>t?t:n<e?e:n;const $i={},Xi=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function qi(e){return"object"==typeof e&&null!==e}const Yi=e=>/^0[^.\s]+$/u.test(e);function Ki(e){let t;return()=>(void 0===t&&(t=e()),t)}const Ji=e=>e,Zi=(e,t)=>n=>t(e(n)),Qi=(...e)=>e.reduce(Zi),ea=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class ta{constructor(){this.subscriptions=[]}add(e){return Hi(this.subscriptions,e),()=>Wi(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const na=e=>1e3*e,ra=e=>e/1e3;function ia(e,t){return t?e*(1e3/t):0}const aa=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function sa(e,t,n,r){if(e===t&&n===r)return Ji;const i=t=>function(e,t,n,r,i){let a,s,o=0;do{s=t+(n-t)/2,a=aa(s,r,i)-e,a>0?n=s:t=s}while(Math.abs(a)>1e-7&&++o<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:aa(i(e),t,r)}const oa=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,la=e=>t=>1-e(1-t),ca=sa(.33,1.53,.69,.99),ua=la(ca),ha=oa(ua),da=e=>(e*=2)<1?.5*ua(e):.5*(2-Math.pow(2,-10*(e-1))),fa=e=>1-Math.sin(Math.acos(e)),pa=la(fa),ma=oa(fa),ga=sa(.42,0,1,1),va=sa(0,0,.58,1),ya=sa(.42,0,.58,1),ba=e=>Array.isArray(e)&&"number"==typeof e[0],xa={linear:Ji,easeIn:ga,easeInOut:ya,easeOut:va,circIn:fa,circInOut:ma,circOut:pa,backIn:ua,backInOut:ha,backOut:ca,anticipate:da},wa=e=>{if(ba(e)){e.length;const[t,n,r,i]=e;return sa(t,n,r,i)}return"string"==typeof e?xa[e]:e},_a=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Sa={value:null,addProjectionMetrics:null};function Ta(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=_a.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:(e,t=!1,a=!1)=>{const o=a&&i?n:r;return t&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{o=e,i?a=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Sa.value&&Sa.value.frameloop[t].push(l),l=0,n.clear(),i=!1,a&&(a=!1,u.process(e)))}};return u}(a,t?n:void 0),e)),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:f,postRender:p}=s,m=()=>{const a=$i.useManualTiming?i.timestamp:performance.now();n=!1,$i.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))};return{schedule:_a.reduce(((t,a)=>{const o=s[a];return t[a]=(t,a=!1,s=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(m)),o.schedule(t,a,s)),t}),{}),cancel:e=>{for(let t=0;t<_a.length;t++)s[_a[t]].cancel(e)},state:i,steps:s}}const{schedule:Ea,cancel:Ma,state:Aa,steps:Ca}=Ta("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Ji,!0);let Pa;function Oa(){Pa=void 0}const ka={now:()=>(void 0===Pa&&ka.set(Aa.isProcessing||$i.useManualTiming?Aa.timestamp:performance.now()),Pa),set:e=>{Pa=e,queueMicrotask(Oa)}},Ra=e=>t=>"string"==typeof t&&t.startsWith(e),Ia=Ra("--"),Na=Ra("var(--"),Da=e=>!!Na(e)&&La.test(e.split("/*")[0].trim()),La=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fa={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Ua={...Fa,transform:e=>Gi(0,1,e)},ja={...Fa,default:1},Ba=e=>Math.round(1e5*e)/1e5,za=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Va=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ha=(e,t)=>n=>Boolean("string"==typeof n&&Va.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Wa=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,a,s,o]=r.match(za);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},Ga={...Fa,transform:e=>Math.round((e=>Gi(0,255,e))(e))},$a={test:Ha("rgb","red"),parse:Wa("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ga.transform(e)+", "+Ga.transform(t)+", "+Ga.transform(n)+", "+Ba(Ua.transform(r))+")"};const Xa={test:Ha("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:$a.transform},qa=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Ya=qa("deg"),Ka=qa("%"),Ja=qa("px"),Za=qa("vh"),Qa=qa("vw"),es=(()=>({...Ka,parse:e=>Ka.parse(e)/100,transform:e=>Ka.transform(100*e)}))(),ts={test:Ha("hsl","hue"),parse:Wa("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ka.transform(Ba(t))+", "+Ka.transform(Ba(n))+", "+Ba(Ua.transform(r))+")"},ns={test:e=>$a.test(e)||Xa.test(e)||ts.test(e),parse:e=>$a.test(e)?$a.parse(e):ts.test(e)?ts.parse(e):Xa.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?$a.transform(e):ts.transform(e)},rs=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const is="number",as="color",ss=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function os(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(ss,(e=>(ns.test(e)?(r.color.push(a),i.push(as),n.push(ns.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(is),n.push(parseFloat(e))),++a,"${}"))).split("${}");return{values:n,split:s,indexes:r,types:i}}function ls(e){return os(e).values}function cs(e){const{split:t,types:n}=os(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===is?Ba(e[a]):t===as?ns.transform(e[a]):e[a]}return i}}const us=e=>"number"==typeof e?0:e;const hs={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(za))?void 0:t.length)||0)+((null==(n=e.match(rs))?void 0:n.length)||0)>0},parse:ls,createTransformer:cs,getAnimatableNone:function(e){const t=ls(e);return cs(e)(t.map(us))}};function ds(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fs(e,t){return n=>n>0?t:e}const ps=(e,t,n)=>e+(t-e)*n,ms=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},gs=[Xa,$a,ts];function vs(e){const t=(n=e,gs.find((e=>e.test(n))));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===ts&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;i=ds(o,r,e+1/3),a=ds(o,r,e),s=ds(o,r,e-1/3)}else i=a=s=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:r}}(r)),r}const ys=(e,t)=>{const n=vs(e),r=vs(t);if(!n||!r)return fs(e,t);const i={...n};return e=>(i.red=ms(n.red,r.red,e),i.green=ms(n.green,r.green,e),i.blue=ms(n.blue,r.blue,e),i.alpha=ps(n.alpha,r.alpha,e),$a.transform(i))},bs=new Set(["none","hidden"]);function xs(e,t){return n=>ps(e,t,n)}function ws(e){return"number"==typeof e?xs:"string"==typeof e?Da(e)?fs:ns.test(e)?ys:Ts:Array.isArray(e)?_s:"object"==typeof e?ns.test(e)?ys:Ss:fs}function _s(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>ws(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Ss(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=ws(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Ts=(e,t)=>{const n=hs.createTransformer(t),r=os(e),i=os(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?bs.has(e)&&!i.values.length||bs.has(t)&&!r.values.length?function(e,t){return bs.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Qi(_s(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][r[a]],o=e.values[s]??0;n[i]=o,r[a]++}return n}(r,i),i.values),n):fs(e,t)};function Es(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return ps(e,t,n);return ws(e)(e,t)}const Ms=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>Ea.update(t,e),stop:()=>Ma(t),now:()=>Aa.isProcessing?Aa.timestamp:ka.now()}},As=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(a/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Cs=2e4;function Ps(e){let t=0;let n=e.next(t);for(;!n.done&&t<Cs;)t+=50,n=e.next(t);return t>=Cs?1/0:t}function Os(e,t,n){const r=Math.max(t-5,0);return ia(n-e(r),t-r)}const ks=100,Rs=10,Is=1,Ns=0,Ds=800,Ls=.3,Fs=.3,Us={granular:.01,default:2},js={granular:.005,default:.5},Bs=.01,zs=10,Vs=.05,Hs=1,Ws=.001;function Gs({duration:e=Ds,bounce:t=Ls,velocity:n=Ns,mass:r=Is}){let i,a,s=1-t;s=Gi(Vs,Hs,s),e=Gi(Bs,zs,ra(e)),s<1?(i=t=>{const r=t*s,i=r*e,a=r-n,o=Xs(t,s),l=Math.exp(-i);return Ws-a/o*l},a=t=>{const r=t*s*e,a=r*n+n,o=Math.pow(s,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Xs(Math.pow(t,2),s);return(-i(t)+Ws>0?-1:1)*((a-o)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let i=1;i<$s;i++)r-=e(r)/t(r);return r}(i,a,5/e);if(e=na(e),isNaN(o))return{stiffness:ks,damping:Rs,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}const $s=12;function Xs(e,t){return e*Math.sqrt(1-t*t)}const qs=["duration","bounce"],Ys=["stiffness","damping","mass"];function Ks(e,t){return t.some((t=>void 0!==e[t]))}function Js(e=Fs,t=Ls){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:Ns,stiffness:ks,damping:Rs,mass:Is,isResolvedFromDuration:!1,...e};if(!Ks(e,Ys)&&Ks(e,qs))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*Gi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Is,stiffness:i,damping:a}}else{const n=Gs(e);t={...t,...n,mass:Is},t.isResolvedFromDuration=!0}return t}({...n,velocity:-ra(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=s-a,v=ra(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?Us.granular:Us.default),i||(i=y?js.granular:js.default),m<1){const e=Xs(v,m);b=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)o.done=e>=h;else{let n=0===e?p:0;m<1&&(n=0===e?na(p):Os(b,e,t));const a=Math.abs(n)<=r,l=Math.abs(s-t)<=i;o.done=a&&l}return o.value=o.done?s:t,o},toString:()=>{const e=Math.min(Ps(x),Cs),t=As((t=>x.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return x}function Zs({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],d={done:!1,value:h},f=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=n*t;const m=h+p,g=void 0===s?m:s(m);g!==m&&(p=g-h);const v=e=>-p*Math.exp(-e/r),y=e=>g+v(e),b=e=>{const t=v(e),n=y(e);d.done=Math.abs(t)<=c,d.value=d.done?g:n};let x,w;const _=e=>{var t;(t=d.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(x=e,w=Js({keyframes:[d.value,f(d.value)],velocity:Os(y,e,d.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==x||(t=!0,b(e),_(e)),void 0!==x&&e>=x?w.next(e-x):(!t&&b(e),d)}}}function Qs(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||$i.mix||Es,a=e.length-1;for(let s=0;s<a;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Ji:t;n=Qi(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=ea(e[r],e[r+1],n);return o[r](i)};return n?t=>c(Gi(e[0],e[a-1],t)):c}function eo(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ea(0,t,r);e.push(ps(n,1,i))}}(t,e.length-1),t}function to({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(wa):wa(r),a={done:!1,value:t[0]},s=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:eo(t),e),o=Qs(s,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map((()=>c||ya)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}Js.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Ps(r),Cs);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:ra(i)}}(e,100,Js);return e.ease=t.ease,e.duration=na(t.duration),e.type="keyframes",e};const no=e=>null!==e;function ro(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(no),s=i<0||t&&"loop"!==n&&t%2==1?0:a.length-1;return s&&void 0!==r?r:a[s]}const io={decay:Zs,inertia:Zs,tween:to,keyframes:to,spring:Js};function ao(e){"string"==typeof e.type&&(e.type=io[e.type])}class so{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const oo=e=>e/100;class lo extends so{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==ka.now()&&this.tick(ka.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(t=(e=this.options).onStop)||t.call(e))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;ao(e);const{type:t=to,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:s}=e;const o=t||to;o!==to&&"number"!=typeof s[0]&&(this.mixKeyframes=Qi(oo,Es(s[0],s[1])),s=[0,100]);const l=o({...e,keyframes:s});"mirror"===i&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=Ps(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/s)):"mirror"===h&&(b=a)),y=Gi(0,1,n)*s}const x=v?{done:!1,value:c[0]}:b.next(y);i&&(x.value=i(x.value));let{done:w}=x;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return _&&f!==Zs&&(x.value=ro(c,this.options,m,this.speed)),p&&p(x.value),_&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return ra(this.calculatedDuration)}get time(){return ra(this.currentTime)}set time(e){var t;e=na(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ka.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ra(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Ms,startTime:r}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null==(t=(e=this.options).onPlay)||t.call(e);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ka.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const co=e=>180*e/Math.PI,uo=e=>{const t=co(Math.atan2(e[1],e[0]));return fo(t)},ho={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:uo,rotateZ:uo,skewX:e=>co(Math.atan(e[1])),skewY:e=>co(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fo=e=>((e%=360)<0&&(e+=360),e),po=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mo=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),go={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:po,scaleY:mo,scale:e=>(po(e)+mo(e))/2,rotateX:e=>fo(co(Math.atan2(e[6],e[5]))),rotateY:e=>fo(co(Math.atan2(-e[2],e[0]))),rotateZ:uo,rotate:uo,skewX:e=>co(Math.atan(e[4])),skewY:e=>co(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function vo(e){return e.includes("scale")?1:0}function yo(e,t){if(!e||"none"===e)return vo(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=go,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ho,i=t}if(!i)return vo(t);const a=r[t],s=i[1].split(",").map(bo);return"function"==typeof a?a(s):s[a]}function bo(e){return parseFloat(e.trim())}const xo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wo=(()=>new Set(xo))(),_o=e=>e===Fa||e===Ja,So=new Set(["x","y","z"]),To=xo.filter((e=>!So.has(e)));const Eo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yo(t,"x"),y:(e,{transform:t})=>yo(t,"y")};Eo.translateX=Eo.x,Eo.translateY=Eo.y;const Mo=new Set;let Ao=!1,Co=!1,Po=!1;function Oo(){if(Co){const e=Array.from(Mo).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return To.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{var r;null==(r=e.getValue(t))||r.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Co=!1,Ao=!1,Mo.forEach((e=>e.complete(Po))),Mo.clear()}function ko(){Mo.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Co=!0)}))}class Ro{constructor(e,t,n,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Mo.add(this),Ao||(Ao=!0,Ea.read(ko),Ea.resolveKeyframes(Oo))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null==r?void 0:r.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mo.delete(this)}cancel(){"scheduled"===this.state&&(Mo.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Io=Ki((()=>void 0!==window.ScrollTimeline)),No={};function Do(e,t){const n=Ki(e);return()=>No[t]??n()}const Lo=Do((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),Fo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Uo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fo([0,.65,.55,1]),circOut:Fo([.55,0,1,.45]),backIn:Fo([.31,.01,.66,-.59]),backOut:Fo([.33,1.53,.69,.99])};function jo(e,t){return e?"function"==typeof e?Lo()?As(e,t):"ease-out":ba(e)?Fo(e):Array.isArray(e)?e.map((e=>jo(e,t)||Uo.easeOut)):Uo[e]:void 0}function Bo(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const h=jo(o,i);Array.isArray(h)&&(u.easing=h);const d={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"};c&&(d.pseudoElement=c);return e.animate(u,d)}function zo(e){return"function"==typeof e&&"applyToOptions"in e}class Vo extends so{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=a,this.options=e,e.type;const l=function({type:e,...t}){return zo(e)&&Lo()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=Bo(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=ro(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const n=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return ra(Number(n))}get time(){return ra(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=na(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Io()?(this.animation.timeline=e,Ji):t(this)}}const Ho={anticipate:da,backInOut:ha,circInOut:ma};function Wo(e){"string"==typeof e.ease&&e.ease in Ho&&(e.ease=Ho[e.ease])}class Go extends Vo{constructor(e){Wo(e),ao(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const s=new lo({...a,autoplay:!1}),o=na(this.finishedTime??this.time);t.setWithVelocity(s.sample(o-10).value,s.sample(o).value,10),s.stop()}}const $o=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!hs.test(e)&&"0"!==e||e.startsWith("url(")));function Xo(e){return qi(e)&&"offsetHeight"in e}const qo=new Set(["opacity","clipPath","filter","transform"]),Yo=Ki((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class Ko extends so{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:s,name:o,motionValue:l,element:c,...u}){var h;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=ka.now();const d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:o,motionValue:l,element:c,...u},f=(null==c?void 0:c.KeyframeResolver)||Ro;this.keyframeResolver=new f(s,((e,t,n)=>this.onKeyframesResolved(e,t,d,!n)),o,l,c),null==(h=this.keyframeResolver)||h.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:s,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=ka.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],s=$o(i,t),o=$o(a,t);return!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||zo(n))&&r)}(e,i,a,s)||(!$i.instantAnimations&&o||null==c||c(ro(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!Xo(null==(t=null==n?void 0:n.owner)?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Yo()&&r&&qo.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==a&&0!==s&&"inertia"!==o}(u)?new Go({...u,element:u.motionValue.owner.current}):new lo(u);h.finished.then((()=>this.notifyFinished())).catch(Ji),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),Po=!0,ko(),Oo(),Po=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const Jo=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zo(e,t,n=1){const[r,i]=function(e){const t=Jo.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return Xi(e)?parseFloat(e):e}return Da(i)?Zo(i,t,n+1):i}function Qo(e,t){return(null==e?void 0:e[t])??(null==e?void 0:e.default)??e}const el=new Set(["width","height","top","left","right","bottom",...xo]),tl=e=>t=>t.test(e),nl=[Fa,Ja,Ka,Ya,Qa,Za,{test:e=>"auto"===e,parse:e=>e}],rl=e=>nl.find(tl(e));const il=new Set(["brightness","contrast","saturate","opacity"]);function al(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(za)||[];if(!r)return e;const i=n.replace(r,"");let a=il.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const sl=/\b([a-z-]*)\(.*?\)/gu,ol={...hs,getAnimatableNone:e=>{const t=e.match(sl);return t?t.map(al).join(" "):e}},ll={...Fa,transform:Math.round},cl={borderWidth:Ja,borderTopWidth:Ja,borderRightWidth:Ja,borderBottomWidth:Ja,borderLeftWidth:Ja,borderRadius:Ja,radius:Ja,borderTopLeftRadius:Ja,borderTopRightRadius:Ja,borderBottomRightRadius:Ja,borderBottomLeftRadius:Ja,width:Ja,maxWidth:Ja,height:Ja,maxHeight:Ja,top:Ja,right:Ja,bottom:Ja,left:Ja,padding:Ja,paddingTop:Ja,paddingRight:Ja,paddingBottom:Ja,paddingLeft:Ja,margin:Ja,marginTop:Ja,marginRight:Ja,marginBottom:Ja,marginLeft:Ja,backgroundPositionX:Ja,backgroundPositionY:Ja,...{rotate:Ya,rotateX:Ya,rotateY:Ya,rotateZ:Ya,scale:ja,scaleX:ja,scaleY:ja,scaleZ:ja,skew:Ya,skewX:Ya,skewY:Ya,distance:Ja,translateX:Ja,translateY:Ja,translateZ:Ja,x:Ja,y:Ja,z:Ja,perspective:Ja,transformPerspective:Ja,opacity:Ua,originX:es,originY:es,originZ:Ja},zIndex:ll,fillOpacity:Ua,strokeOpacity:Ua,numOctaves:ll},ul={...cl,color:ns,backgroundColor:ns,outlineColor:ns,fill:ns,stroke:ns,borderColor:ns,borderTopColor:ns,borderRightColor:ns,borderBottomColor:ns,borderLeftColor:ns,filter:ol,WebkitFilter:ol},hl=e=>ul[e];function dl(e,t){let n=hl(e);return n!==ol&&(n=hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fl=new Set(["auto","none","0"]);class pl extends Ro{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),Da(n))){const r=Zo(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!el.has(n)||2!==e.length)return;const[r,i]=e,a=rl(r),s=rl(i);if(a!==s)if(_o(a)&&_o(s))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else Eo[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(null===e[i]||("number"==typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||Yi(r)))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!fl.has(t)&&os(t).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=dl(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=Eo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach((([e,n])=>{t.getValue(e).set(n)})),this.resolveNoneKeyframes()}}const ml=(e,t)=>t&&"number"==typeof e?t.transform(e):e;class gl{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{var n,r;const i=ka.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(n=this.events.change)||n.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty();t&&(null==(r=this.events.renderRequest)||r.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=ka.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ta);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ea.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ka.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ia(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(e,t){return new gl(e,t)}const{schedule:yl,cancel:bl}=Ta(queueMicrotask,!1),xl={x:!1,y:!1};function wl(){return xl.x||xl.y}function _l(e,t){const n=function(e){if(e instanceof EventTarget)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Sl(e){return!("touch"===e.pointerType||wl())}const Tl=(e,t)=>!!t&&(e===t||Tl(e,t.parentElement)),El=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Ml=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Al=new WeakSet;function Cl(e){return t=>{"Enter"===t.key&&e(t)}}function Pl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Ol(e){return El(e)&&!wl()}function kl(e,t,n={}){const[r,i,a]=_l(e,n),s=e=>{const r=e.currentTarget;if(!Ol(e))return;Al.add(r);const a=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Al.has(r)&&Al.delete(r),Ol(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||Tl(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),Xo(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Cl((()=>{if(Al.has(n))return;Pl(n,"down");const e=Cl((()=>{Pl(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>Pl(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i))),t=e,Ml.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),a}function Rl(e){return qi(e)&&"ownerSVGElement"in e}const Il=e=>Boolean(e&&e.getVelocity),Nl=[...nl,ns,hs],Dl=Ie.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});const Ll=Ie.createContext({strict:!1}),Fl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const $ in Fl)Ul[$]={isEnabled:e=>Fl[$].some((t=>!!e[t]))};const jl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jl.has(e)}let zl=e=>!Bl(e);try{(Vl=require("@emotion/is-prop-valid").default)&&(zl=e=>e.startsWith("on")?!Bl(e):Vl(e))}catch{}var Vl;function Hl(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Wl=Ie.createContext({});function Gl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function $l(e){return"string"==typeof e||Array.isArray(e)}const Xl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ql=["initial",...Xl];function Yl(e){return Gl(e.animate)||ql.some((t=>$l(e[t])))}function Kl(e){return Boolean(Yl(e)||e.variants)}function Jl(e){const{initial:t,animate:n}=function(e,t){if(Yl(e)){const{initial:t,animate:n}=e;return{initial:!1===t||$l(t)?t:void 0,animate:$l(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,Ie.useContext(Wl));return Ie.useMemo((()=>({initial:t,animate:n})),[Zl(t),Zl(n)])}function Zl(e){return Array.isArray(e)?e.join(" "):e}const Ql=Symbol.for("motionComponentSymbol");function ec(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tc(e,t,n){return Ie.useCallback((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):ec(n)&&(n.current=r))}),[t])}const nc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rc="data-"+nc("framerAppearId"),ic=Ie.createContext({});function ac(e,t,n,r,i){var a,s;const{visualElement:o}=Ie.useContext(Wl),l=Ie.useContext(Ll),c=Ie.useContext(Vi),u=Ie.useContext(Dl).reducedMotion,h=Ie.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u}));const d=h.current,f=Ie.useContext(ic);!d||d.projection||!i||"html"!==d.type&&"svg"!==d.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sc(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(s)||o&&ec(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(h.current,n,i,f);const p=Ie.useRef(!1);Ie.useInsertionEffect((()=>{d&&p.current&&d.update(n,c)}));const m=n[rc],g=Ie.useRef(Boolean(m)&&!(null==(a=window.MotionHandoffIsComplete)?void 0:a.call(window,m))&&(null==(s=window.MotionHasOptimisedAnimation)?void 0:s.call(window,m)));return zi((()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),yl.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())})),Ie.useEffect((()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,m)})),g.current=!1))})),d}function sc(e){if(e)return!1!==e.options.allowProjection?e.projection:sc(e.parent)}function oc({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){function a(e,a){let s;const o={...Ie.useContext(Dl),...e,layoutId:lc(e)},{isStatic:l}=o,c=Jl(e),u=r(e,l);if(!l&&Bi){Ie.useContext(Ll).strict;const e=function(e){const{drag:t,layout:n}=Ul;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);s=e.MeasureLayout,c.visualElement=ac(i,u,o,t,e.ProjectionNode)}return q.jsxs(Wl.Provider,{value:c,children:[s&&c.visualElement?q.jsx(s,{visualElement:c.visualElement,...o}):null,n(i,e,tc(u,c.visualElement,a),u,l,c.visualElement)]})}e&&function(e){for(const t in e)Ul[t]={...Ul[t],...e[t]}}(e),a.displayName=`motion.${"string"==typeof i?i:`create(${i.displayName??i.name??""})`}`;const s=Ie.forwardRef(a);return s[Ql]=i,s}function lc({layoutId:e}){const t=Ie.useContext(ji).id;return t&&void 0!==e?t+"-"+e:e}const cc={};function uc(e,{layout:t,layoutId:n}){return wo.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!cc[e]||"opacity"===e)}const hc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dc=xo.length;function fc(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(wo.has(l))s=!0;else if(Ia(l))i[l]=e;else{const t=ml(e,cl[l]);l.startsWith("origin")?(o=!0,a[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<dc;a++){const s=xo[a],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=ml(o,cl[s]);l||(i=!1,r+=`${hc[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}const pc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mc(e,t,n){for(const r in t)Il(t[r])||uc(r,n)||(e[r]=t[r])}function gc(e,t){const n={};return mc(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return Ie.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return fc(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}function vc(e,t){const n={},r=gc(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const yc={offset:"stroke-dashoffset",array:"stroke-dasharray"},bc={offset:"strokeDashoffset",array:"strokeDasharray"};function xc(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,c,u){if(fc(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:d}=e;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=(null==u?void 0:u.transformBox)??"fill-box",delete h.transformBox),void 0!==t&&(h.x=t),void 0!==n&&(h.y=n),void 0!==r&&(h.scale=r),void 0!==i&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?yc:bc;e[a.offset]=Ja.transform(-r);const s=Ja.transform(t),o=Ja.transform(n);e[a.array]=`${s} ${o}`}(h,i,a,s,!1)}const wc=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),_c=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Sc(e,t,n,r){const i=Ie.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return xc(n,t,_c(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};mc(t,e.style,e),i.style={...t,...i.style}}return i}const Tc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ec(e){return"string"==typeof e&&!e.includes("-")&&!!(Tc.indexOf(e)>-1||/[A-Z]/u.test(e))}function Mc(e=!1){return(t,n,r,{latestValues:i},a)=>{const s=(Ec(t)?Sc:vc)(n,i,a,t),o=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(zl(i)||!0===n&&Bl(i)||!t&&!Bl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),l=t!==Ie.Fragment?{...o,...s,ref:r}:{},{children:c}=n,u=Ie.useMemo((()=>Il(c)?c.get():c),[c]);return Ie.createElement(t,{...l,children:u})}}function Ac(e){const t=[{},{}];return null==e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Cc(e,t,n,r){if("function"==typeof t){const[i,a]=Ac(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,a]=Ac(r);t=t(void 0!==n?n:e.custom,i,a)}return t}function Pc(e){return Il(e)?e.get():e}const Oc=e=>(t,n)=>{const r=Ie.useContext(Wl),i=Ie.useContext(Vi),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:kc(n,r,i,e),renderState:t()}}(e,t,r,i);return n?a():function(e){const t=Ie.useRef(null);return null===t.current&&(t.current=e()),t.current}(a)};function kc(e,t,n,r){const i={},a=r(e,{});for(const d in a)i[d]=Pc(a[d]);let{initial:s,animate:o}=e;const l=Yl(e),c=Kl(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const h=u?o:s;if(h&&"boolean"!=typeof h&&!Gl(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=Cc(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}function Rc(e,t,n){var r;const{style:i}=e,a={};for(const s in i)(Il(i[s])||t.style&&Il(t.style[s])||uc(s,e)||void 0!==(null==(r=null==n?void 0:n.getValue(s))?void 0:r.liveStyle))&&(a[s]=i[s]);return a}const Ic={useVisualState:Oc({scrapeMotionValuesFromProps:Rc,createRenderState:pc})};function Nc(e,t,n){const r=Rc(e,t,n);for(const i in e)if(Il(e[i])||Il(t[i])){r[-1!==xo.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const Dc={useVisualState:Oc({scrapeMotionValuesFromProps:Nc,createRenderState:wc})};function Lc(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return oc({...Ec(n)?Dc:Ic,preloadedFeatures:e,useRender:Mc(r),createVisualElement:t,Component:n})}}function Fc(e,t,n){const r=e.getProps();return Cc(r,t,void 0!==n?n:r.custom,e)}const Uc=e=>Array.isArray(e);function jc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vl(n))}function Bc(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Il(r)&&r.add))return n.add(t);if(!n&&$i.WillChange){const n=new $i.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function zc(e){return e.props[rc]}const Vc=e=>null!==e;const Hc={type:"spring",stiffness:500,damping:25,restSpeed:10},Wc={type:"keyframes",duration:.8},Gc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$c=(e,{keyframes:t})=>t.length>2?Wc:wo.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Hc:Gc;const Xc=(e,t,n,r={},i,a)=>s=>{const o=Qo(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=na(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(o)||Object.assign(u,$c(e,u)),u.duration&&(u.duration=na(u.duration)),u.repeatDelay&&(u.repeatDelay=na(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),($i.instantAnimations||$i.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!a&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Vc),a=t&&"loop"!==n&&t%2==1?0:i.length-1;return a&&void 0!==r?r:i[a]}(u.keyframes,o);if(void 0!==e)return void Ea.update((()=>{u.onUpdate(e),u.onComplete()}))}return o.isSync?new lo(u):new Ko(u)};function qc({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function Yc(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;r&&(a=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in o){const t=e.getValue(u,e.latestValues[u]??null),r=o[u];if(void 0===r||c&&qc(c,u))continue;const i={delay:n,...Qo(a||{},u)},s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!i.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=zc(e);if(t){const e=window.MotionHandoffAnimation(t,u,Ea);null!==e&&(i.startTime=e,h=!0)}}Bc(e,u),t.start(Xc(u,t,r,e.shouldReduceMotion&&el.has(u)?{type:!1}:i,e,h));const d=t.animation;d&&l.push(d)}return s&&Promise.all(l).then((()=>{Ea.update((()=>{s&&function(e,t){const n=Fc(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a)jc(e,o,(s=a[o],Uc(s)?s[s.length-1]||0:s));var s}(e,s)}))})),l}function Kc(e,t,n={}){var r;const i=Fc(e,t,"exit"===n.type?null==(r=e.presenceContext)?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(Yc(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:s,staggerDirection:o}=a;return function(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(Jc).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(Kc(e,t,{...a,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,i+r,s,o,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function Jc(e,t){return e.sortNodePosition(t)}function Zc(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Qc=ql.length;function eu(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&eu(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Qc;n++){const r=ql[n],i=e.props[r];($l(i)||!1===i)&&(t[r]=i)}return t}const tu=[...Xl].reverse(),nu=Xl.length;function ru(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Kc(e,t,n)));r=Promise.all(i)}else if("string"==typeof t)r=Kc(e,t,n);else{const i="function"==typeof t?Fc(e,t,n.custom):t;r=Promise.all(Yc(e,i,n))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}function iu(e){let t=ru(e),n=ou(),r=!0;const i=t=>(n,r)=>{var i;const a=Fc(e,r,"exit"===t?null==(i=e.presenceContext)?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t,...r}=a;n={...n,...r,...t}}return n};function a(a){const{props:s}=e,o=eu(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<nu;t++){const d=tu[t],f=n[d],p=void 0!==s[d]?s[d]:o[d],m=$l(p),g=d===a?f.isActive:null;!1===g&&(h=t);let v=p===o[d]&&p!==s[d]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||Gl(p)||"boolean"==typeof p)continue;const y=au(f.prevProp,p);let b=y||d===a&&f.isActive&&!v&&m||t>h&&m,x=!1;const w=Array.isArray(p)?p:[p];let _=w.reduce(i(d),{});!1===g&&(_={});const{prevResolvedValues:S={}}=f,T={...S,..._},E=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in T){const t=_[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Uc(t)&&Uc(n)?!Zc(t,n):t!==n,r?null!=t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=_,f.isActive&&(u={...u,..._}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||x)&&l.push(...w.map((e=>({animation:e,options:{type:d}}))))}if(c.size){const t={};if("boolean"!=typeof s.initial){const n=Fc(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null})),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null==(i=e.variantChildren)||i.forEach((e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=a(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ou(),r=!0}}}function au(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Zc(t,e)}function su(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ou(){return{animate:su(!0),whileInView:su(),whileHover:su(),whileTap:su(),whileDrag:su(),whileFocus:su(),exit:su()}}class lu{constructor(e){this.isMounted=!1,this.node=e}update(){}}let cu=0;const uu={animation:{Feature:class extends lu{constructor(e){super(e),e.animationState||(e.animationState=iu(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends lu{constructor(){super(...arguments),this.id=cu++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function hu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function du(e){return{point:{x:e.pageX,y:e.pageY}}}function fu(e,t,n,r){return hu(e,t,(e=>t=>El(t)&&e(t,du(t)))(n),r)}function pu({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function mu(e){return e.max-e.min}function gu(e,t,n,r=.5){e.origin=r,e.originPoint=ps(t.min,t.max,e.origin),e.scale=mu(n)/mu(t),e.translate=ps(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function vu(e,t,n,r){gu(e.x,t.x,n.x,r?r.originX:void 0),gu(e.y,t.y,n.y,r?r.originY:void 0)}function yu(e,t,n){e.min=n.min+t.min,e.max=e.min+mu(t)}function bu(e,t,n){e.min=t.min-n.min,e.max=e.min+mu(t)}function xu(e,t,n){bu(e.x,t.x,n.x),bu(e.y,t.y,n.y)}const wu=()=>({x:{min:0,max:0},y:{min:0,max:0}});function _u(e){return[e("x"),e("y")]}function Su(e){return void 0===e||1===e}function Tu({scale:e,scaleX:t,scaleY:n}){return!Su(e)||!Su(t)||!Su(n)}function Eu(e){return Tu(e)||Mu(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Mu(e){return Au(e.x)||Au(e.y)}function Au(e){return e&&"0%"!==e}function Cu(e,t,n){return n+t*(e-n)}function Pu(e,t,n,r,i){return void 0!==i&&(e=Cu(e,i,r)),Cu(e,n,r)+t}function Ou(e,t=0,n=1,r,i){e.min=Pu(e.min,t,n,r,i),e.max=Pu(e.max,t,n,r,i)}function ku(e,{x:t,y:n}){Ou(e.x,t.translate,t.scale,t.originPoint),Ou(e.y,n.translate,n.scale,n.originPoint)}const Ru=.999999999999,Iu=1.0000000000001;function Nu(e,t){e.min=e.min+t,e.max=e.max+t}function Du(e,t,n,r,i=.5){Ou(e,t,n,ps(e.min,e.max,i),r)}function Lu(e,t){Du(e.x,t.x,t.scaleX,t.scale,t.originX),Du(e.y,t.y,t.scaleY,t.scale,t.originY)}function Fu(e,t){return pu(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Uu=({current:e})=>e?e.ownerDocument.defaultView:null,ju=(e,t)=>Math.abs(e-t);class Bu{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Hu(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ju(e.x,t.x),r=ju(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Aa;this.history.push({...r,timestamp:i});const{onStart:a,onMove:s}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=zu(t,this.transformPagePoint),Ea.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Hu("pointercancel"===e.type?this.lastMoveEventInfo:zu(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!El(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=zu(du(e),this.transformPagePoint),{point:s}=a,{timestamp:o}=Aa;this.history=[{...s,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Hu(a,this.history)),this.removeListeners=Qi(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ma(this.updatePoint)}}function zu(e,t){return t?{point:t(e.point)}:e}function Vu(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hu({point:e},t){return{point:e,delta:Vu(e,Gu(t)),offset:Vu(e,Wu(t)),velocity:$u(t,.1)}}function Wu(e){return e[0]}function Gu(e){return e[e.length-1]}function $u(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Gu(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>na(t)));)n--;if(!r)return{x:0,y:0};const a=ra(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Xu(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function qu(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Yu=.35;function Ku(e,t,n){return{min:Ju(e,t),max:Ju(e,n)}}function Ju(e,t){return"number"==typeof e?e:e[t]||0}const Zu=new WeakMap;class Qu{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Bu(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(du(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?xl[a]?null:(xl[a]=!0,()=>{xl[a]=!1}):xl.x||xl.y?null:(xl.x=xl.y=!0,()=>{xl.x=xl.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_u((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ka.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=mu(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Ea.postRender((()=>i(e,t))),Bc(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>_u((e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Uu(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Ea.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!eh(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?ps(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?ps(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,i=this.constraints;t&&ec(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:Xu(e.x,n,i),y:Xu(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=Yu){return!1===e?e=0:!0===e&&(e=Yu),{x:Ku(e,"left","right"),y:Ku(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_u((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ec(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Fu(e,n),{scroll:i}=t;return i&&(Nu(r.x,i.offset.x),Nu(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:qu(e.x,t.x),y:qu(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=pu(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{},l=_u((s=>{if(!eh(s,t,this.currentDirection))return;let l=o&&o[s]||{};a&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Bc(this.visualElement,e),n.start(Xc(e,n,0,t,this.visualElement,!1))}stopAnimation(){_u((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){_u((e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()}))}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){_u((t=>{const{drag:n}=this.getProps();if(!eh(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-ps(n,a,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ec(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};_u((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=mu(e),i=mu(t);return i>r?n=ea(t.min,t.max-r,e.min):r>i&&(n=ea(e.min,e.max-i,t.min)),Gi(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_u((t=>{if(!eh(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(ps(i,a,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Zu.set(this.visualElement,this);const e=fu(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();ec(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ea.read(t);const i=hu(window,"resize",(()=>this.scalePositionWithinConstraints())),a=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(_u((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Yu,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:s}}}function eh(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const th=e=>(t,n)=>{e&&Ea.postRender((()=>e(t,n)))};const nh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ih={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Ja.test(e))return e;e=parseFloat(e)}return`${rh(e,t.target.x)}% ${rh(e,t.target.y)}%`}},ah={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=hs.parse(e);if(i.length>5)return r;const a=hs.createTransformer(e),s="number"!=typeof i[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=ps(o,l,.5);return"number"==typeof i[2+s]&&(i[2+s]/=c),"number"==typeof i[3+s]&&(i[3+s]/=c),a(i)}};class sh extends Ie.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)cc[t]=e[t],Ia(t)&&(cc[t].isCSSVariable=!0)}(lh),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),nh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Ea.postRender((()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yl.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oh(e){const[t,n]=function(e=!0){const t=Ie.useContext(Vi);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=Ie.useId();Ie.useEffect((()=>{if(e)return i(a)}),[e]);const s=Ie.useCallback((()=>e&&r&&r(a)),[a,r,e]);return!n&&r?[!1,s]:[!0]}(),r=Ie.useContext(ji);return q.jsx(sh,{...e,layoutGroup:r,switchLayoutGroup:Ie.useContext(ic),isPresent:t,safeToRemove:n})}const lh={borderRadius:{...ih,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ih,borderTopRightRadius:ih,borderBottomLeftRadius:ih,borderBottomRightRadius:ih,boxShadow:ah};const ch=(e,t)=>e.depth-t.depth;class uh{constructor(){this.children=[],this.isDirty=!1}add(e){Hi(this.children,e),this.isDirty=!0}remove(e){Wi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ch),this.isDirty=!1,this.children.forEach(e)}}const hh=["TopLeft","TopRight","BottomLeft","BottomRight"],dh=hh.length,fh=e=>"string"==typeof e?parseFloat(e):e,ph=e=>"number"==typeof e||Ja.test(e);function mh(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const gh=yh(0,.5,pa),vh=yh(.5,.95,Ji);function yh(e,t,n){return r=>r<e?0:r>t?1:n(ea(e,t,r))}function bh(e,t){e.min=t.min,e.max=t.max}function xh(e,t){bh(e.x,t.x),bh(e.y,t.y)}function wh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _h(e,t,n,r,i){return e=Cu(e-=t,1/n,r),void 0!==i&&(e=Cu(e,1/i,r)),e}function Sh(e,t,[n,r,i],a,s){!function(e,t=0,n=1,r=.5,i,a=e,s=e){Ka.test(t)&&(t=parseFloat(t),t=ps(s.min,s.max,t/100)-s.min);if("number"!=typeof t)return;let o=ps(a.min,a.max,r);e===a&&(o-=t),e.min=_h(e.min,t,n,o,i),e.max=_h(e.max,t,n,o,i)}(e,t[n],t[r],t[i],t.scale,a,s)}const Th=["x","scaleX","originX"],Eh=["y","scaleY","originY"];function Mh(e,t,n,r){Sh(e.x,t,Th,n?n.x:void 0,r?r.x:void 0),Sh(e.y,t,Eh,n?n.y:void 0,r?r.y:void 0)}function Ah(e){return 0===e.translate&&1===e.scale}function Ch(e){return Ah(e.x)&&Ah(e.y)}function Ph(e,t){return e.min===t.min&&e.max===t.max}function Oh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kh(e,t){return Oh(e.x,t.x)&&Oh(e.y,t.y)}function Rh(e){return mu(e.x)/mu(e.y)}function Ih(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Nh{constructor(){this.members=[]}add(e){Hi(this.members,e),e.scheduleRender()}remove(e){if(Wi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Dh=["","X","Y","Z"],Lh={visibility:"hidden"};let Fh=0;function Uh(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jh(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=zc(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ea,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jh(r)}function Bh({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=Fh++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hh),this.nodes.forEach(Kh),this.nodes.forEach(Jh),this.nodes.forEach(Wh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new uh)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ta),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=Rl(t)&&!(Rl(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=ka.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Ma(r),e(a-t))};return Ea.setup(r,!0),()=>Ma(r)}(r,250),nh.hasAnimatedSinceResize&&(nh.hasAnimatedSinceResize=!1,this.nodes.forEach(Yh))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||i)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||rd,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=a.getProps(),l=!this.targetLayout||!kh(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...Qo(i,"layout"),onPlay:s,onComplete:o};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||Yh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zh),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jh(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach($h);this.isUpdating||this.nodes.forEach(Xh),this.isUpdating=!1,this.nodes.forEach(qh),this.nodes.forEach(zh),this.nodes.forEach(Vh),this.clearAllSnapshots();const e=ka.now();Aa.delta=Gi(0,1e3/60,e-Aa.timestamp),Aa.timestamp=e,Aa.isProcessing=!0,Ca.update.process(Aa),Ca.preRender.process(Aa),Ca.render.process(Aa),Aa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gh),this.sharedNodes.forEach(Qh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ea.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ea.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||mu(this.snapshot.measuredBox.x)||mu(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Ch(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Eu(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),sd((r=n).x),sd(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(ld))){const{scroll:e}=this.root;e&&(Nu(n.x,e.offset.x),Nu(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(xh(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&xh(n,e),Nu(n.x,i.offset.x),Nu(n.y,i.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};xh(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Lu(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Eu(e.latestValues)&&Lu(n,e.latestValues)}return Eu(this.latestValues)&&Lu(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};xh(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Eu(e.latestValues))continue;Tu(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};xh(r,e.measurePageBox()),Mh(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Eu(this.latestValues)&&Mh(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Aa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=Aa.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xu(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),xh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var s,o,l;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,yu(s.x,o.x,l.x),yu(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):xh(this.target,this.layout.layoutBox),ku(this.target,this.targetDelta)):xh(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xu(this.relativeTargetOrigin,this.target,e.target),xh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!Tu(this.parent.latestValues)&&!Mu(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Aa.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;xh(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let a,s;t.x=t.y=1;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Lu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ku(e,s)),r&&Eu(a.latestValues)&&Lu(e,a.latestValues))}t.x<Iu&&t.x>Ru&&(t.x=1),t.y<Iu&&t.y>Ru&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(wh(this.prevProjectionDelta.x,this.projectionDelta.x),wh(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),vu(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&Ih(this.projectionDelta.x,this.prevProjectionDelta.x)&&Ih(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(nd));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,d,f,p,m,g;ed(a.x,e.x,n),ed(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xu(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=s,g=n,td(f.x,p.x,m.x,g),td(f.y,p.y,m.y,g),h&&(l=this.relativeTarget,d=h,Ph(l.x,d.x)&&Ph(l.y,d.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),xh(h,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,a){i?(e.opacity=ps(0,n.opacity??1,gh(r)),e.opacityExit=ps(t.opacity??1,0,vh(r))):a&&(e.opacity=ps(t.opacity??1,n.opacity??1,r));for(let s=0;s<dh;s++){const i=`border${hh[s]}Radius`;let a=mh(t,i),o=mh(n,i);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||ph(a)===ph(o)?(e[i]=Math.max(ps(fh(a),fh(o),r),0),(Ka.test(o)||Ka.test(a))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=ps(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n,r;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(r=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||r.stop(),this.pendingAnimation&&(Ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ea.update((()=>{nh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=function(e,t,n){const r=Il(e)?e:vl(e);return r.start(Xc("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&od(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=mu(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=mu(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}xh(t,n),Lu(t,i),vu(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Nh);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Uh("z",e,r,this.animationValues);for(let i=0;i<Dh.length;i++)Uh(`rotate${Dh[i]}`,e,r,this.animationValues),Uh(`skew${Dh[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Lh;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=Pc(null==e?void 0:e.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Pc(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!Eu(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const i=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(null==n?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:s,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),s&&(r+=`skewX(${s}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i),n&&(t.transform=n(i,t.transform));const{x:a,y:s}=this.projectionDelta;t.transformOrigin=`${100*a.origin}% ${100*s.origin}% 0`,r.animationValues?t.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const o in cc){if(void 0===i[o])continue;const{correct:e,applyTo:n,isCSSVariable:a}=cc[o],s="none"===t.transform?i[o]:e(i[o],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=s}else a?this.options.visualElement.renderState.vars[o]=s:t[o]=s}return this.options.layoutId&&(t.pointerEvents=r===this?Pc(null==e?void 0:e.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()})),this.root.nodes.forEach($h),this.root.sharedNodes.clear()}}}function zh(e){e.updateLayout()}function Vh(e){var t;const n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?_u((e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],i=mu(r);r.min=t[e].min,r.max=r.min+i})):od(i,n.layoutBox,t)&&_u((r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],s=mu(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};vu(s,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?vu(o,e.applyTransform(r,!0),n.measuredBox):vu(o,t,n.layoutBox);const l=!Ch(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const s={x:{min:0,max:0},y:{min:0,max:0}};xu(s,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};xu(o,t,a.layoutBox),kh(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Hh(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wh(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Gh(e){e.clearSnapshot()}function $h(e){e.clearMeasurements()}function Xh(e){e.isLayoutDirty=!1}function qh(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Yh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Kh(e){e.resolveTargetDelta()}function Jh(e){e.calcProjection()}function Zh(e){e.resetSkewAndRotation()}function Qh(e){e.removeLeadSnapshot()}function ed(e,t,n){e.translate=ps(t.translate,0,n),e.scale=ps(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function td(e,t,n,r){e.min=ps(t.min,n.min,r),e.max=ps(t.max,n.max,r)}function nd(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const rd={duration:.45,ease:[.4,0,.1,1]},id=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ad=id("applewebkit/")&&!id("chrome/")?Math.round:Ji;function sd(e){e.min=ad(e.min),e.max=ad(e.max)}function od(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Rh(t),i=Rh(n),a=.2,!(Math.abs(r-i)<=a));var r,i,a}function ld(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const cd=Bh({attachResizeListener:(e,t)=>hu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ud={current:void 0},hd=Bh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ud.current){const e=new cd({});e.mount(window),e.setOptions({layoutScroll:!0}),ud.current=e}return ud.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),dd={pan:{Feature:class extends lu{constructor(){super(...arguments),this.removePointerDownListener=Ji}onPointerDown(e){this.session=new Bu(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Uu(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:th(e),onStart:th(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ea.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends lu{constructor(e){super(e),this.removeGroupControls=Ji,this.removeListeners=Ji,this.controls=new Qu(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ji}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:hd,MeasureLayout:oh}};function fd(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Ea.postRender((()=>i(t,du(t))))}function pd(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Ea.postRender((()=>i(t,du(t))))}const md=new WeakMap,gd=new WeakMap,vd=e=>{const t=md.get(e.target);t&&t(e)},yd=e=>{e.forEach(vd)};function bd(e,t,n){const r=function({root:e,...t}){const n=e||document;gd.has(n)||gd.set(n,{});const r=gd.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(yd,{root:e,...t})),r[i]}(t);return md.set(e,n),r.observe(e),()=>{md.delete(e),r.unobserve(e)}}const xd={some:0,all:1};const wd={inView:{Feature:class extends lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:xd[r]};return bd(this.node.current,a,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends lu{mount(){const{current:e}=this.node;e&&(this.unmount=kl(e,((e,t)=>(pd(this.node,t,"Start"),(e,{success:t})=>pd(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qi(hu(this.node.current,"focus",(()=>this.onFocus())),hu(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends lu{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,a]=_l(e,n),s=e=>{if(!Sl(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const a=e=>{Sl(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach((e=>{e.addEventListener("pointerenter",s,i)})),a}(e,((e,t)=>(fd(this.node,t,"Start"),e=>fd(this.node,e,"End")))))}unmount(){}}}},_d={layout:{ProjectionNode:hd,MeasureLayout:oh}},Sd={current:null},Td={current:!1};const Ed=new WeakMap;const Md=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ad{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ro,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ka.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ea.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Yl(t),this.isVariantNode=Kl(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in u){const e=u[h];void 0!==o[h]&&Il(e)&&e.set(o[h],!1)}}mount(e){this.current=e,Ed.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Td.current||function(){if(Td.current=!0,Bi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sd.current=e.matches;e.addListener(t),t()}else Sd.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Sd.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ma(this.notifyUpdate),Ma(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wo.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Ea.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),a&&a(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ul){const t=Ul[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Md.length;n++){const t=Md[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Il(i))e.addValue(r,i);else if(Il(a))e.addValue(r,vl(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,vl(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=vl(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(Xi(n)||Yi(n))?n=parseFloat(n):(r=n,!Nl.find(tl(r))&&hs.test(t)&&(n=dl(e,t))),this.setBaseTarget(e,Il(n)?n.get():n)),Il(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=Cc(this.props,n,null==(t=this.presenceContext)?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Il(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new ta),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Cd extends Ad{constructor(){super(...arguments),this.KeyframeResolver=pl}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Il(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}function Pd(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}class Od extends Cd{constructor(){super(...arguments),this.type="html",this.renderInstance=Pd}readValueFromInstance(e,t){var n,r;if(wo.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?vo(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return yo(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Ia(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Fu(e,t)}build(e,t,n){fc(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Rc(e,t,n)}}const kd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Rd extends Cd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wu}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(wo.has(t)){const e=hl(t);return e&&e.default||0}return t=kd.has(t)?t:nc(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Nc(e,t,n)}build(e,t,n){xc(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Pd(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(kd.has(i)?i:nc(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=_c(e.tagName),super.mount(e)}}const Id=(e,t)=>Ec(e)?new Rd(t):new Od(t,{allowProjection:e!==Ie.Fragment}),Nd=Hl(Lc({...uu,...wd,...dd,..._d},Id));var Dd=Array.isArray,Ld="object"==typeof Le&&Le&&Le.Object===Object&&Le,Fd=Ld,Ud="object"==typeof self&&self&&self.Object===Object&&self,jd=Fd||Ud||Function("return this")(),Bd=jd.Symbol,zd=Bd,Vd=Object.prototype,Hd=Vd.hasOwnProperty,Wd=Vd.toString,Gd=zd?zd.toStringTag:void 0;var $d=function(e){var t=Hd.call(e,Gd),n=e[Gd];try{e[Gd]=void 0;var r=!0}catch(a){}var i=Wd.call(e);return r&&(t?e[Gd]=n:delete e[Gd]),i},Xd=Object.prototype.toString;var qd=$d,Yd=function(e){return Xd.call(e)},Kd=Bd?Bd.toStringTag:void 0;var Jd=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Kd&&Kd in Object(e)?qd(e):Yd(e)};var Zd=function(e){return null!=e&&"object"==typeof e},Qd=Jd,ef=Zd;var tf=function(e){return"symbol"==typeof e||ef(e)&&"[object Symbol]"==Qd(e)},nf=Dd,rf=tf,af=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sf=/^\w*$/;var of=function(e,t){if(nf(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!rf(e))||(sf.test(e)||!af.test(e)||null!=t&&e in Object(t))};var lf=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const cf=Fe(lf);var uf=Jd,hf=lf;var df=function(e){if(!hf(e))return!1;var t=uf(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const ff=Fe(df);var pf,mf=jd["__core-js_shared__"],gf=(pf=/[^.]+$/.exec(mf&&mf.keys&&mf.keys.IE_PROTO||""))?"Symbol(src)_1."+pf:"";var vf=function(e){return!!gf&&gf in e},yf=Function.prototype.toString;var bf=function(e){if(null!=e){try{return yf.call(e)}catch(t){}try{return e+""}catch(t){}}return""},xf=df,wf=vf,_f=lf,Sf=bf,Tf=/^\[object .+?Constructor\]$/,Ef=Function.prototype,Mf=Object.prototype,Af=Ef.toString,Cf=Mf.hasOwnProperty,Pf=RegExp("^"+Af.call(Cf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Of=function(e){return!(!_f(e)||wf(e))&&(xf(e)?Pf:Tf).test(Sf(e))},kf=function(e,t){return null==e?void 0:e[t]};var Rf=function(e,t){var n=kf(e,t);return Of(n)?n:void 0},If=Rf(Object,"create"),Nf=If;var Df=function(){this.__data__=Nf?Nf(null):{},this.size=0};var Lf=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ff=If,Uf=Object.prototype.hasOwnProperty;var jf=function(e){var t=this.__data__;if(Ff){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Uf.call(t,e)?t[e]:void 0},Bf=If,zf=Object.prototype.hasOwnProperty;var Vf=If;var Hf=Df,Wf=Lf,Gf=jf,$f=function(e){var t=this.__data__;return Bf?void 0!==t[e]:zf.call(t,e)},Xf=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vf&&void 0===t?"__lodash_hash_undefined__":t,this};function qf(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qf.prototype.clear=Hf,qf.prototype.delete=Wf,qf.prototype.get=Gf,qf.prototype.has=$f,qf.prototype.set=Xf;var Yf=qf;var Kf=function(){this.__data__=[],this.size=0};var Jf=function(e,t){return e===t||e!=e&&t!=t},Zf=Jf;var Qf=function(e,t){for(var n=e.length;n--;)if(Zf(e[n][0],t))return n;return-1},ep=Qf,tp=Array.prototype.splice;var np=Qf;var rp=Qf;var ip=Qf;var ap=Kf,sp=function(e){var t=this.__data__,n=ep(t,e);return!(n<0)&&(n==t.length-1?t.pop():tp.call(t,n,1),--this.size,!0)},op=function(e){var t=this.__data__,n=np(t,e);return n<0?void 0:t[n][1]},lp=function(e){return rp(this.__data__,e)>-1},cp=function(e,t){var n=this.__data__,r=ip(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function up(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}up.prototype.clear=ap,up.prototype.delete=sp,up.prototype.get=op,up.prototype.has=lp,up.prototype.set=cp;var hp=up,dp=Rf(jd,"Map"),fp=Yf,pp=hp,mp=dp;var gp=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var vp=function(e,t){var n=e.__data__;return gp(t)?n["string"==typeof t?"string":"hash"]:n.map},yp=vp;var bp=vp;var xp=vp;var wp=vp;var _p=function(){this.size=0,this.__data__={hash:new fp,map:new(mp||pp),string:new fp}},Sp=function(e){var t=yp(this,e).delete(e);return this.size-=t?1:0,t},Tp=function(e){return bp(this,e).get(e)},Ep=function(e){return xp(this,e).has(e)},Mp=function(e,t){var n=wp(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ap(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ap.prototype.clear=_p,Ap.prototype.delete=Sp,Ap.prototype.get=Tp,Ap.prototype.has=Ep,Ap.prototype.set=Mp;var Cp=Ap,Pp=Cp;function Op(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(Op.Cache||Pp),n}Op.Cache=Pp;var kp=Op;const Rp=Fe(kp);var Ip=kp;var Np=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dp=/\\(\\)?/g,Lp=function(e){var t=Ip(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Np,(function(e,n,r,i){t.push(r?i.replace(Dp,"$1"):n||e)})),t}));var Fp=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Up=Fp,jp=Dd,Bp=tf,zp=Bd?Bd.prototype:void 0,Vp=zp?zp.toString:void 0;var Hp=function e(t){if("string"==typeof t)return t;if(jp(t))return Up(t,e)+"";if(Bp(t))return Vp?Vp.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Wp=Hp;var Gp=function(e){return null==e?"":Wp(e)},$p=Dd,Xp=of,qp=Lp,Yp=Gp;var Kp=function(e,t){return $p(e)?e:Xp(e,t)?[e]:qp(Yp(e))},Jp=tf;var Zp=function(e){if("string"==typeof e||Jp(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Qp=Kp,em=Zp;var tm=function(e,t){for(var n=0,r=(t=Qp(t,e)).length;null!=e&&n<r;)e=e[em(t[n++])];return n&&n==r?e:void 0},nm=tm;var rm=function(e,t,n){var r=null==e?void 0:nm(e,t);return void 0===r?n:r};const im=Fe(rm);const am=Fe((function(e){return null==e}));var sm=Jd,om=Dd,lm=Zd;const cm=Fe((function(e){return"string"==typeof e||!om(e)&&lm(e)&&"[object String]"==sm(e)}));var um,hm={exports:{}},dm={},fm=Symbol.for("react.element"),pm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),vm=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),bm=Symbol.for("react.context"),xm=Symbol.for("react.server_context"),wm=Symbol.for("react.forward_ref"),_m=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),Em=Symbol.for("react.lazy"),Mm=Symbol.for("react.offscreen");function Am(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case fm:switch(e=e.type){case mm:case vm:case gm:case _m:case Sm:return e;default:switch(e=e&&e.$$typeof){case xm:case bm:case wm:case Em:case Tm:case ym:return e;default:return t}}case pm:return t}}}um=Symbol.for("react.module.reference"),dm.ContextConsumer=bm,dm.ContextProvider=ym,dm.Element=fm,dm.ForwardRef=wm,dm.Fragment=mm,dm.Lazy=Em,dm.Memo=Tm,dm.Portal=pm,dm.Profiler=vm,dm.StrictMode=gm,dm.Suspense=_m,dm.SuspenseList=Sm,dm.isAsyncMode=function(){return!1},dm.isConcurrentMode=function(){return!1},dm.isContextConsumer=function(e){return Am(e)===bm},dm.isContextProvider=function(e){return Am(e)===ym},dm.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===fm},dm.isForwardRef=function(e){return Am(e)===wm},dm.isFragment=function(e){return Am(e)===mm},dm.isLazy=function(e){return Am(e)===Em},dm.isMemo=function(e){return Am(e)===Tm},dm.isPortal=function(e){return Am(e)===pm},dm.isProfiler=function(e){return Am(e)===vm},dm.isStrictMode=function(e){return Am(e)===gm},dm.isSuspense=function(e){return Am(e)===_m},dm.isSuspenseList=function(e){return Am(e)===Sm},dm.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===mm||e===vm||e===gm||e===_m||e===Sm||e===Mm||"object"==typeof e&&null!==e&&(e.$$typeof===Em||e.$$typeof===Tm||e.$$typeof===ym||e.$$typeof===bm||e.$$typeof===wm||e.$$typeof===um||void 0!==e.getModuleId)},dm.typeOf=Am,hm.exports=dm;var Cm=hm.exports,Pm=Jd,Om=Zd;var km=function(e){return"number"==typeof e||Om(e)&&"[object Number]"==Pm(e)};const Rm=Fe(km);var Im=km;const Nm=Fe((function(e){return Im(e)&&e!=+e}));var Dm=function(e){return 0===e?0:e>0?1:-1},Lm=function(e){return cm(e)&&e.indexOf("%")===e.length-1},Fm=function(e){return Rm(e)&&!Nm(e)},Um=function(e){return Fm(e)||cm(e)},jm=0,Bm=function(e){var t=++jm;return"".concat(e||"").concat(t)},zm=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Fm(e)&&!cm(e))return r;if(Lm(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return Nm(n)&&(n=r),i&&n>t&&(n=t),n},Vm=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Hm=function(e,t){return Fm(e)&&Fm(t)?function(n){return e+n*(t-e)}:function(){return t}};function Wm(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):im(e,t))===n})):null}var Gm=function(e,t){return Fm(e)&&Fm(t)?e-t:cm(e)&&cm(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function $m(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Xm(e){return(Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qm=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ym=["points","pathLength"],Km={svg:["viewBox","children"],polygon:Ym,polyline:Ym},Jm=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zm=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(Ie.isValidElement(e)&&(n=e.props),!cf(n))return null;var r={};return Object.keys(n).forEach((function(e){Jm.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},Qm=function(e,t,n){if(!cf(e)||"object"!==Xm(e))return null;var r=null;return Object.keys(e).forEach((function(i){var a=e[i];Jm.includes(i)&&"function"==typeof a&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(a,t,n))})),r},eg=["children"],tg=["children"];function ng(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rg={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ig=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},ag=null,sg=null,og=function e(t){if(t===ag&&Array.isArray(sg))return sg;var n=[];return Ie.Children.forEach(t,(function(t){am(t)||(Cm.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))})),sg=n,ag=t,n};function lg(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return ig(e)})):[ig(t)],og(e).forEach((function(e){var t=im(e,"type.displayName")||im(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function cg(e,t){var n=lg(e,t);return n&&n[0]}var ug=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Fm(n)||n<=0||!Fm(r)||r<=0)},hg=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dg=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(Ie.isValidElement(e)&&(r=e.props),!cf(r))return null;var i={};return Object.keys(r).forEach((function(e){var a;(function(e,t,n,r){var i,a=null!==(i=null==Km?void 0:Km[r])&&void 0!==i?i:[];return t.startsWith("data-")||!ff(e)&&(r&&a.includes(t)||qm.includes(t))||n&&Jm.includes(t)})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(i[e]=r[e])})),i},fg=function e(t,n){if(t===n)return!0;var r=Ie.Children.count(t);if(r!==Ie.Children.count(n))return!1;if(0===r)return!0;if(1===r)return pg(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!pg(a,s))return!1}return!0},pg=function(e,t){if(am(e)&&am(t))return!0;if(!am(e)&&!am(t)){var n=e.props||{},r=n.children,i=ng(n,eg),a=t.props||{},s=a.children,o=ng(a,tg);return r&&s?$m(i,o)&&fg(r,s):!r&&!s&&$m(i,o)}return!1},mg=function(e,t){var n=[],r={};return og(e).forEach((function(e,i){if(function(e){return e&&e.type&&cm(e.type)&&hg.indexOf(e.type)>=0}(e))n.push(e);else if(e){var a=ig(e.type),s=t[a]||{},o=s.handler,l=s.once;if(o&&(!l||!r[a])){var c=o(e,a,i);n.push(c),r[a]=!0}}})),n},gg=["children","width","height","viewBox","className","style","title","desc"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vg.apply(this,arguments)}function yg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bg(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,l=e.desc,c=yg(e,gg),u=i||{width:n,height:r,x:0,y:0},h=Vt("recharts-surface",a);return Ne.createElement("svg",vg({},dg(c,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ne.createElement("title",null,o),Ne.createElement("desc",null,l),t)}var xg=["children","className"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}function _g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Sg=Ne.forwardRef((function(e,t){var n=e.children,r=e.className,i=_g(e,xg),a=Vt("recharts-layer",r);return Ne.createElement("g",wg({className:a},dg(i,!0),{ref:t}),n)})),Tg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};var Eg=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Mg=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Eg(e,t,n)},Ag=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Cg=function(e){return Ag.test(e)};var Pg=function(e){return e.split("")},Og="\\ud800-\\udfff",kg="["+Og+"]",Rg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ig="\\ud83c[\\udffb-\\udfff]",Ng="[^"+Og+"]",Dg="(?:\\ud83c[\\udde6-\\uddff]){2}",Lg="[\\ud800-\\udbff][\\udc00-\\udfff]",Fg="(?:"+Rg+"|"+Ig+")"+"?",Ug="[\\ufe0e\\ufe0f]?",jg=Ug+Fg+("(?:\\u200d(?:"+[Ng,Dg,Lg].join("|")+")"+Ug+Fg+")*"),Bg="(?:"+[Ng+Rg+"?",Rg,Dg,Lg,kg].join("|")+")",zg=RegExp(Ig+"(?="+Ig+")|"+Bg+jg,"g");var Vg=Pg,Hg=Cg,Wg=function(e){return e.match(zg)||[]};var Gg=Mg,$g=Cg,Xg=function(e){return Hg(e)?Wg(e):Vg(e)},qg=Gp;const Yg=Fe(function(e){return function(t){t=qg(t);var n=$g(t)?Xg(t):void 0,r=n?n[0]:t.charAt(0),i=n?Gg(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"));function Kg(e){return function(){return e}}const Jg=Math.cos,Zg=Math.sin,Qg=Math.sqrt,ev=Math.PI,tv=2*ev,nv=Math.PI,rv=2*nv,iv=1e-6,av=rv-iv;function sv(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let ov=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?sv:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sv;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,u=s-t,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>iv)if(Math.abs(u*o-l*c)>iv&&i){let d=n-a,f=r-s,p=o*o+l*l,m=d*d+f*f,g=Math.sqrt(p),v=Math.sqrt(h),y=i*Math.tan((nv-Math.acos((p+h-m)/(2*g*v)))/2),b=y/v,x=y/g;Math.abs(b-1)>iv&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*d>c*f)},${this._x1=e+x*o},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^a,h=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>iv||Math.abs(this._y1-c)>iv)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%rv+rv),h>av?this._append`A${n},${n},0,1,${u},${e-s},${t-o}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>iv&&this._append`A${n},${n},0,${+(h>=nv)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function lv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new ov(t)}function cv(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function uv(e){this._context=e}function hv(e){return new uv(e)}function dv(e){return e[0]}function fv(e){return e[1]}function pv(e,t){var n=Kg(!0),r=null,i=hv,a=null,s=lv(o);function o(o){var l,c,u,h=(o=cv(o)).length,d=!1;for(null==r&&(a=i(u=s())),l=0;l<=h;++l)!(l<h&&n(c=o[l],l,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?dv:Kg(e),t="function"==typeof t?t:void 0===t?fv:Kg(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Kg(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Kg(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:Kg(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function mv(e,t,n){var r=null,i=Kg(!0),a=null,s=hv,o=null,l=lv(c);function c(c){var u,h,d,f,p,m=(c=cv(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==a&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)h=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),d=u-1;d>=h;--d)o.point(v[d],y[d]);o.lineEnd(),o.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(p)return o=null,p+""||null}function u(){return pv().defined(i).curve(s).context(a)}return e="function"==typeof e?e:void 0===e?dv:Kg(+e),t="function"==typeof t?t:Kg(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?fv:Kg(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Kg(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Kg(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Kg(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Kg(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Kg(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Kg(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Kg(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class gv{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const vv={draw(e,t){const n=Qg(t/ev);e.moveTo(n,0),e.arc(0,0,n,0,tv)}},yv={draw(e,t){const n=Qg(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bv=Qg(1/3),xv=2*bv,wv={draw(e,t){const n=Qg(t/xv),r=n*bv;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},_v={draw(e,t){const n=Qg(t),r=-n/2;e.rect(r,r,n,n)}},Sv=Zg(ev/10)/Zg(7*ev/10),Tv=Zg(tv/10)*Sv,Ev=-Jg(tv/10)*Sv,Mv={draw(e,t){const n=Qg(.8908130915292852*t),r=Tv*n,i=Ev*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=tv*a/5,s=Jg(t),o=Zg(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},Av=Qg(3),Cv={draw(e,t){const n=-Qg(t/(3*Av));e.moveTo(0,2*n),e.lineTo(-Av*n,-n),e.lineTo(Av*n,-n),e.closePath()}},Pv=-.5,Ov=Qg(3)/2,kv=1/Qg(12),Rv=3*(kv/2+1),Iv={draw(e,t){const n=Qg(t/Rv),r=n/2,i=n*kv,a=r,s=n*kv+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Pv*r-Ov*i,Ov*r+Pv*i),e.lineTo(Pv*a-Ov*s,Ov*a+Pv*s),e.lineTo(Pv*o-Ov*l,Ov*o+Pv*l),e.lineTo(Pv*r+Ov*i,Pv*i-Ov*r),e.lineTo(Pv*a+Ov*s,Pv*s-Ov*a),e.lineTo(Pv*o+Ov*l,Pv*l-Ov*o),e.closePath()}};function Nv(){}function Dv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Lv(e){this._context=e}function Fv(e){this._context=e}function Uv(e){this._context=e}function jv(e){this._context=e}function Bv(e){return e<0?-1:1}function zv(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(Bv(a)+Bv(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Vv(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Wv(e){this._context=e}function Gv(e){this._context=new $v(e)}function $v(e){this._context=e}function Xv(e){this._context=e}function qv(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Yv(e,t){this._context=e,this._t=t}function Kv(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Jv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Zv(e,t){return e[t]}function Qv(e){const t=[];return t.key=e,t}function ey(e){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Fv.prototype={areaStart:Nv,areaEnd:Nv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jv.prototype={areaStart:Nv,areaEnd:Nv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hv(this,this._t0,Vv(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hv(this,Vv(this,n=zv(this,e,t)),n);break;default:Hv(this,this._t0,n=zv(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Gv.prototype=Object.create(Wv.prototype)).point=function(e,t){Wv.prototype.point.call(this,t,e)},$v.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=qv(e),i=qv(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ty=["type","size","sizeType"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(this,arguments)}function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ry(Object(n),!0).forEach((function(t){ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ay(e,t,n){var r;return r=function(e,t){if("object"!=ey(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ey(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ey(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oy={symbolCircle:vv,symbolCross:yv,symbolDiamond:wv,symbolSquare:_v,symbolStar:Mv,symbolTriangle:Cv,symbolWye:Iv},ly=Math.PI/180,cy=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,a=e.size,s=void 0===a?64:a,o=e.sizeType,l=void 0===o?"area":o,c=iy(iy({},sy(e,ty)),{},{type:i,size:s,sizeType:l}),u=c.className,h=c.cx,d=c.cy,f=dg(c,!0);return h===+h&&d===+d&&s===+s?Ne.createElement("path",ny({},f,{className:Vt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(d,")"),d:(t=function(e){var t="symbol".concat(Yg(e));return oy[t]||vv}(i),n=function(e,t){let n=null,r=lv(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:Kg(e||vv),t="function"==typeof t?t:Kg(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:Kg(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:Kg(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*ly;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,l,i)),n())})):null};function uy(e){return(uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(this,arguments)}function dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fy(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,by(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function py(e,t,n){return t=gy(t),function(e,t){if(t&&("object"===uy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,my()?Reflect.construct(t,n||[],gy(e).constructor):t.apply(e,n))}function my(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(my=function(){return!!e})()}function gy(e){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vy(e,t){return(vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yy(e,t,n){return(t=by(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function by(e){var t=function(e,t){if("object"!=uy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uy(t)?t:t+""}cy.registerSymbol=function(e,t){oy["symbol".concat(Yg(e))]=t};var xy=32,wy=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),py(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}(e,Ie.PureComponent),fy(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=xy/6,i=xy/3,a=e.inactive?t:e.color;if("plainline"===e.type)return Ne.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:xy,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return Ne.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(xy,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return Ne.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(xy,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dy(Object(n),!0).forEach((function(t){yy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,Ne.cloneElement(e.legendIcon,s)}return Ne.createElement(cy,{fill:a,cx:n,cy:n,size:xy,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,a=t.formatter,s=t.inactiveColor,o={x:0,y:0,width:xy,height:xy},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var i=t.formatter||a,u=Vt(yy(yy({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=ff(t.value)?null:t.value;Tg(!ff(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var d=t.inactive?s:t.color;return Ne.createElement("li",hy({className:u,style:l,key:"legend-item-".concat(n)},Qm(e.props,t,n)),Ne.createElement(bg,{width:r,height:r,viewBox:o,style:c},e.renderIcon(t)),Ne.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},i?i(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return Ne.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}();yy(wy,"displayName","Legend"),yy(wy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _y=hp;var Sy=hp,Ty=dp,Ey=Cp;var My=hp,Ay=function(){this.__data__=new _y,this.size=0},Cy=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Py=function(e){return this.__data__.get(e)},Oy=function(e){return this.__data__.has(e)},ky=function(e,t){var n=this.__data__;if(n instanceof Sy){var r=n.__data__;if(!Ty||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ey(r)}return n.set(e,t),this.size=n.size,this};function Ry(e){var t=this.__data__=new My(e);this.size=t.size}Ry.prototype.clear=Ay,Ry.prototype.delete=Cy,Ry.prototype.get=Py,Ry.prototype.has=Oy,Ry.prototype.set=ky;var Iy=Ry;var Ny=Cp,Dy=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ly=function(e){return this.__data__.has(e)};function Fy(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ny;++t<n;)this.add(e[t])}Fy.prototype.add=Fy.prototype.push=Dy,Fy.prototype.has=Ly;var Uy=Fy;var jy=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var By=function(e,t){return e.has(t)},zy=Uy,Vy=jy,Hy=By;var Wy=function(e,t,n,r,i,a){var s=1&n,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new zy:void 0;for(a.set(e,t),a.set(t,e);++h<o;){var p=e[h],m=t[h];if(r)var g=s?r(m,p,h,t,e,a):r(p,m,h,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!Vy(t,(function(e,t){if(!Hy(f,t)&&(p===e||i(p,e,n,r,a)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d};var Gy=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},$y=jd.Uint8Array,Xy=Jf,qy=Wy,Yy=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Ky=Gy,Jy=Bd?Bd.prototype:void 0,Zy=Jy?Jy.valueOf:void 0;var Qy=function(e,t,n,r,i,a,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new $y(e),new $y(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xy(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=Yy;case"[object Set]":var l=1&r;if(o||(o=Ky),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=qy(o(e),o(t),r,i,a,s);return s.delete(e),u;case"[object Symbol]":if(Zy)return Zy.call(e)==Zy.call(t)}return!1};var eb=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},tb=eb,nb=Dd;var rb=function(e,t,n){var r=t(e);return nb(e)?r:tb(r,n(e))};var ib=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a},ab=function(){return[]},sb=Object.prototype.propertyIsEnumerable,ob=Object.getOwnPropertySymbols,lb=ob?function(e){return null==e?[]:(e=Object(e),ib(ob(e),(function(t){return sb.call(e,t)})))}:ab;var cb=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},ub=Jd,hb=Zd;var db,fb,pb,mb,gb,vb,yb,bb,xb=function(e){return hb(e)&&"[object Arguments]"==ub(e)},wb=Zd,_b=Object.prototype,Sb=_b.hasOwnProperty,Tb=_b.propertyIsEnumerable,Eb=xb(function(){return arguments}())?xb:function(e){return wb(e)&&Sb.call(e,"callee")&&!Tb.call(e,"callee")},Mb={exports:{}};db=Mb,pb=jd,mb=function(){return!1},gb=(fb=Mb.exports)&&!fb.nodeType&&fb,vb=gb&&db&&!db.nodeType&&db,yb=vb&&vb.exports===gb?pb.Buffer:void 0,bb=(yb?yb.isBuffer:void 0)||mb,db.exports=bb;var Ab=Mb.exports,Cb=/^(?:0|[1-9]\d*)$/;var Pb=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Cb.test(e))&&e>-1&&e%1==0&&e<t};var Ob=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},kb=Jd,Rb=Ob,Ib=Zd,Nb={};Nb["[object Float32Array]"]=Nb["[object Float64Array]"]=Nb["[object Int8Array]"]=Nb["[object Int16Array]"]=Nb["[object Int32Array]"]=Nb["[object Uint8Array]"]=Nb["[object Uint8ClampedArray]"]=Nb["[object Uint16Array]"]=Nb["[object Uint32Array]"]=!0,Nb["[object Arguments]"]=Nb["[object Array]"]=Nb["[object ArrayBuffer]"]=Nb["[object Boolean]"]=Nb["[object DataView]"]=Nb["[object Date]"]=Nb["[object Error]"]=Nb["[object Function]"]=Nb["[object Map]"]=Nb["[object Number]"]=Nb["[object Object]"]=Nb["[object RegExp]"]=Nb["[object Set]"]=Nb["[object String]"]=Nb["[object WeakMap]"]=!1;var Db=function(e){return Ib(e)&&Rb(e.length)&&!!Nb[kb(e)]};var Lb=function(e){return function(t){return e(t)}},Fb={exports:{}};!function(e,t){var n=Ld,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}(Fb,Fb.exports);var Ub=Fb.exports,jb=Db,Bb=Lb,zb=Ub&&Ub.isTypedArray,Vb=zb?Bb(zb):jb,Hb=cb,Wb=Eb,Gb=Dd,$b=Ab,Xb=Pb,qb=Vb,Yb=Object.prototype.hasOwnProperty;var Kb=function(e,t){var n=Gb(e),r=!n&&Wb(e),i=!n&&!r&&$b(e),a=!n&&!r&&!i&&qb(e),s=n||r||i||a,o=s?Hb(e.length,String):[],l=o.length;for(var c in e)!t&&!Yb.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Xb(c,l))||o.push(c);return o},Jb=Object.prototype;var Zb=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Jb)};var Qb=function(e,t){return function(n){return e(t(n))}},ex=Qb(Object.keys,Object),tx=Zb,nx=ex,rx=Object.prototype.hasOwnProperty;var ix=df,ax=Ob;var sx=function(e){return null!=e&&ax(e.length)&&!ix(e)},ox=Kb,lx=function(e){if(!tx(e))return nx(e);var t=[];for(var n in Object(e))rx.call(e,n)&&"constructor"!=n&&t.push(n);return t},cx=sx;var ux=function(e){return cx(e)?ox(e):lx(e)},hx=rb,dx=lb,fx=ux;var px=function(e){return hx(e,fx,dx)},mx=Object.prototype.hasOwnProperty;var gx=function(e,t,n,r,i,a){var s=1&n,o=px(e),l=o.length;if(l!=px(t).length&&!s)return!1;for(var c=l;c--;){var u=o[c];if(!(s?u in t:mx.call(t,u)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=s;++c<l;){var m=e[u=o[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,a):r(m,g,u,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f},vx=Rf(jd,"DataView"),yx=Rf(jd,"Promise"),bx=Rf(jd,"Set"),xx=vx,wx=dp,_x=yx,Sx=bx,Tx=Rf(jd,"WeakMap"),Ex=Jd,Mx=bf,Ax="[object Map]",Cx="[object Promise]",Px="[object Set]",Ox="[object WeakMap]",kx="[object DataView]",Rx=Mx(xx),Ix=Mx(wx),Nx=Mx(_x),Dx=Mx(Sx),Lx=Mx(Tx),Fx=Ex;(xx&&Fx(new xx(new ArrayBuffer(1)))!=kx||wx&&Fx(new wx)!=Ax||_x&&Fx(_x.resolve())!=Cx||Sx&&Fx(new Sx)!=Px||Tx&&Fx(new Tx)!=Ox)&&(Fx=function(e){var t=Ex(e),n="[object Object]"==t?e.constructor:void 0,r=n?Mx(n):"";if(r)switch(r){case Rx:return kx;case Ix:return Ax;case Nx:return Cx;case Dx:return Px;case Lx:return Ox}return t});var Ux=Iy,jx=Wy,Bx=Qy,zx=gx,Vx=Fx,Hx=Dd,Wx=Ab,Gx=Vb,$x="[object Arguments]",Xx="[object Array]",qx="[object Object]",Yx=Object.prototype.hasOwnProperty;var Kx=function(e,t,n,r,i,a){var s=Hx(e),o=Hx(t),l=s?Xx:Vx(e),c=o?Xx:Vx(t),u=(l=l==$x?qx:l)==qx,h=(c=c==$x?qx:c)==qx,d=l==c;if(d&&Wx(e)){if(!Wx(t))return!1;s=!0,u=!1}if(d&&!u)return a||(a=new Ux),s||Gx(e)?jx(e,t,n,r,i,a):Bx(e,t,l,n,r,i,a);if(!(1&n)){var f=u&&Yx.call(e,"__wrapped__"),p=h&&Yx.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return a||(a=new Ux),i(m,g,n,r,a)}}return!!d&&(a||(a=new Ux),zx(e,t,n,r,i,a))},Jx=Zd;var Zx=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Jx(t)&&!Jx(n)?t!=t&&n!=n:Kx(t,n,r,i,e,a))},Qx=Iy,ew=Zx;var tw=lf;var nw=function(e){return e==e&&!tw(e)},rw=nw,iw=ux;var aw=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},sw=function(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Object(e);i--;){var o=n[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var l=(o=n[i])[0],c=e[l],u=o[1];if(s&&o[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Qx;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?ew(u,c,3,r,h):d))return!1}}return!0},ow=function(e){for(var t=iw(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,rw(i)]}return t},lw=aw;var cw=Kp,uw=Eb,hw=Dd,dw=Pb,fw=Ob,pw=Zp;var mw=function(e,t){return null!=e&&t in Object(e)},gw=function(e,t,n){for(var r=-1,i=(t=cw(t,e)).length,a=!1;++r<i;){var s=pw(t[r]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&fw(i)&&dw(s,i)&&(hw(e)||uw(e))};var vw=Zx,yw=rm,bw=function(e,t){return null!=e&&gw(e,t,mw)},xw=of,ww=nw,_w=aw,Sw=Zp;var Tw=function(e){return e};var Ew=tm;var Mw=function(e){return function(t){return null==t?void 0:t[e]}},Aw=function(e){return function(t){return Ew(t,e)}},Cw=of,Pw=Zp;var Ow=function(e){var t=ow(e);return 1==t.length&&t[0][2]?lw(t[0][0],t[0][1]):function(n){return n===e||sw(n,e,t)}},kw=function(e,t){return xw(e)&&ww(t)?_w(Sw(e),t):function(n){var r=yw(n,e);return void 0===r&&r===t?bw(n,e):vw(t,r,3)}},Rw=Tw,Iw=Dd,Nw=function(e){return Cw(e)?Mw(Pw(e)):Aw(e)};var Dw=function(e){return"function"==typeof e?e:null==e?Rw:"object"==typeof e?Iw(e)?kw(e[0],e[1]):Ow(e):Nw(e)};var Lw=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Fw=Lw,Uw=function(e){return e!=e},jw=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Bw=function(e,t,n){return t==t?jw(e,t,n):Fw(e,Uw,n)};var zw=function(e,t){return!!(null==e?0:e.length)&&Bw(e,t,0)>-1};var Vw=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Hw=bx,Ww=function(){},Gw=Hw&&1/Gy(new Hw([,-0]))[1]==1/0?function(e){return new Hw(e)}:Ww,$w=Uy,Xw=zw,qw=Vw,Yw=By,Kw=Gw,Jw=Gy;var Zw=Dw,Qw=function(e,t,n){var r=-1,i=Xw,a=e.length,s=!0,o=[],l=o;if(n)s=!1,i=qw;else if(a>=200){var c=t?null:Kw(e);if(c)return Jw(c);s=!1,i=Yw,l=new $w}else l=t?[]:o;e:for(;++r<a;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),o.push(u)}else i(l,h,n)||(l!==o&&l.push(h),o.push(u))}return o};const e_=Fe((function(e,t){return e&&e.length?Qw(e,Zw(t)):[]}));function t_(e,t,n){return!0===t?e_(e,n):ff(t)?e_(e,t):e}function n_(e){return(n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r_=["ref"];function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i_(Object(n),!0).forEach((function(t){h_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d_(r.key),r)}}function o_(e,t,n){return t=c_(t),function(e,t){if(t&&("object"===n_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l_()?Reflect.construct(t,n||[],c_(e).constructor):t.apply(e,n))}function l_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l_=function(){return!!e})()}function c_(e){return(c_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u_(e,t){return(u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h_(e,t,n){return(t=d_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d_(e){var t=function(e,t){if("object"!=n_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=n_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n_(t)?t:t+""}function f_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p_(e){return e.value}var m_=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return h_(t=o_(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u_(e,t)}(e,Ie.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=a_(a_({},this.defaultProps),e.props).layout;return"vertical"===n&&Fm(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?a_({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,a=r.align,s=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),a_(a_({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,o=t.payload,l=a_(a_({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(a)),a);return Ne.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(Ne.isValidElement(e))return Ne.cloneElement(e,t);if("function"==typeof e)return Ne.createElement(e,t);t.ref;var n=f_(t,r_);return Ne.createElement(wy,n)}(n,a_(a_({},this.props),{},{payload:t_(o,s,p_)})))}}])&&s_(t.prototype,n),r&&s_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();h_(m_,"displayName","Legend"),h_(m_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var g_=Eb,v_=Dd,y_=Bd?Bd.isConcatSpreadable:void 0;var b_=eb,x_=function(e){return v_(e)||g_(e)||!!(y_&&e&&e[y_])};var w_=function e(t,n,r,i,a){var s=-1,o=t.length;for(r||(r=x_),a||(a=[]);++s<o;){var l=t[s];n>0&&r(l)?n>1?e(l,n-1,r,i,a):b_(a,l):i||(a[a.length]=l)}return a};var __=function(e){return function(t,n,r){for(var i=-1,a=Object(t),s=r(t),o=s.length;o--;){var l=s[e?o:++i];if(!1===n(a[l],l,a))break}return t}}(),S_=ux;var T_=function(e,t){return e&&__(e,t,S_)},E_=sx;var M_=function(e,t){return function(n,r){if(null==n)return n;if(!E_(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==r(s[a],a,s););return n}}(T_),A_=M_,C_=sx;var P_=function(e,t){var n=-1,r=C_(e)?Array(e.length):[];return A_(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var O_=tf;var k_=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=O_(e),s=void 0!==t,o=null===t,l=t==t,c=O_(t);if(!o&&!c&&!a&&e>t||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0};var R_=Fp,I_=tm,N_=Dw,D_=P_,L_=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},F_=Lb,U_=function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,o=n.length;++r<s;){var l=k_(i[r],a[r]);if(l)return r>=o?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},j_=Tw,B_=Dd;var z_=function(e,t,n){t=t.length?R_(t,(function(e){return B_(e)?function(t){return I_(t,1===e.length?e[0]:e)}:e})):[j_];var r=-1;t=R_(t,F_(N_));var i=D_(e,(function(e,n,i){return{criteria:R_(t,(function(t){return t(e)})),index:++r,value:e}}));return L_(i,(function(e,t){return U_(e,t,n)}))};var V_=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},H_=Math.max;var W_=function(e,t,n){return t=H_(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=H_(r.length-t,0),s=Array(a);++i<a;)s[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(s),V_(e,this,o)}};var G_=function(e){return function(){return e}},$_=Rf,X_=function(){try{var e=$_(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),q_=G_,Y_=X_,K_=Y_?function(e,t){return Y_(e,"toString",{configurable:!0,enumerable:!1,value:q_(t),writable:!0})}:Tw,J_=Date.now;var Z_=function(e){var t=0,n=0;return function(){var r=J_(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(K_),Q_=Tw,eS=W_,tS=Z_;var nS=Jf,rS=sx,iS=Pb,aS=lf;var sS=function(e,t,n){if(!aS(n))return!1;var r=typeof t;return!!("number"==r?rS(n)&&iS(t,n.length):"string"==r&&t in n)&&nS(n[t],e)},oS=w_,lS=z_,cS=sS;const uS=Fe(function(e,t){return tS(eS(e,t,Q_),e+"")}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cS(e,t[0],t[1])?t=[]:n>2&&cS(t[0],t[1],t[2])&&(t=[t[0]]),lS(e,oS(t,1),[])})));function hS(e){return(hS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dS.apply(this,arguments)}function fS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mS(Object(n),!0).forEach((function(t){vS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vS(e,t,n){var r;return r=function(e,t){if("object"!=hS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hS(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yS(e){return Array.isArray(e)&&Um(e[0])&&Um(e[1])?e.join(" ~ "):e}var bS=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,a=e.itemStyle,s=void 0===a?{}:a,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,u=e.formatter,h=e.itemSorter,d=e.wrapperClassName,f=e.labelClassName,p=e.label,m=e.labelFormatter,g=e.accessibilityLayer,v=void 0!==g&&g,y=gS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=gS({margin:0},l),x=!am(p),w=x?p:"",_=Vt("recharts-default-tooltip",d),S=Vt("recharts-tooltip-label",f);x&&m&&null!=c&&(w=m(p,c));var T=v?{role:"status","aria-live":"assertive"}:{};return Ne.createElement("div",dS({className:_,style:y},T),Ne.createElement("p",{className:S,style:b},Ne.isValidElement(w)?w:"".concat(w)),function(){if(c&&c.length){var e=(h?uS(c,h):c).map((function(e,t){if("none"===e.type)return null;var r=gS({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||u||yS,a=e.value,o=e.name,l=a,h=o;if(i&&null!=l&&null!=h){var d=i(a,o,e,t,c);if(Array.isArray(d)){var f=fS(d,2);l=f[0],h=f[1]}else l=d}return Ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},Um(h)?Ne.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Um(h)?Ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ne.createElement("span",{className:"recharts-tooltip-item-value"},l),Ne.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return Ne.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function xS(e){return(xS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wS(e,t,n){var r;return r=function(e,t){if("object"!=xS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xS(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _S="recharts-tooltip-wrapper",SS={visibility:"hidden"};function TS(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Vt(_S,wS(wS(wS(wS({},"".concat(_S,"-right"),Fm(n)&&t&&Fm(t.x)&&n>=t.x),"".concat(_S,"-left"),Fm(n)&&t&&Fm(t.x)&&n<t.x),"".concat(_S,"-bottom"),Fm(r)&&t&&Fm(t.y)&&r>=t.y),"".concat(_S,"-top"),Fm(r)&&t&&Fm(t.y)&&r<t.y))}function ES(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&Fm(a[r]))return a[r];var u=n[r]-o-i,h=n[r]+i;return t[r]?s[r]?u:h:s[r]?u<l[r]?Math.max(h,l[r]):Math.max(u,l[r]):h+o>l[r]+c?Math.max(u,l[r]):Math.max(h,l[r])}function MS(e){return(MS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AS(Object(n),!0).forEach((function(t){NS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PS(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DS(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OS(e,t,n){return t=RS(t),function(e,t){if(t&&("object"===MS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kS()?Reflect.construct(t,n||[],RS(e).constructor):t.apply(e,n))}function kS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(kS=function(){return!!e})()}function RS(e){return(RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IS(e,t){return(IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function NS(e,t,n){return(t=DS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DS(e){var t=function(e,t){if("object"!=MS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MS(t)?t:t+""}var LS=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return NS(t=OS(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NS(t,"handleKeyDown",(function(e){var n,r,i,a;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(a=t.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==i?i:0}})})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IS(e,t)}(e,Ie.PureComponent),PS(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,h=t.position,d=t.reverseDirection,f=t.useTranslate3d,p=t.viewBox,m=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=ES({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=ES({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):SS,cssClasses:TS({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:h,reverseDirection:d,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:p}),v=g.cssClasses,y=g.cssProperties,b=CS(CS({transition:c&&n?"transform ".concat(i,"ms ").concat(a):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return Ne.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},s)}}])}(),FS={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return FS[e]},set:function(e,t){if("string"==typeof e)FS[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){FS[t]=e[t]}))}}};function US(e){return(US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jS(Object(n),!0).forEach((function(t){$S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zS(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XS(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VS(e,t,n){return t=WS(t),function(e,t){if(t&&("object"===US(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HS()?Reflect.construct(t,n||[],WS(e).constructor):t.apply(e,n))}function HS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(HS=function(){return!!e})()}function WS(e){return(WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function GS(e,t){return(GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $S(e,t,n){return(t=XS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XS(e){var t=function(e,t){if("object"!=US(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=US(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==US(t)?t:t+""}function qS(e){return e.dataKey}var YS=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),VS(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GS(e,t)}(e,Ie.PureComponent),zS(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,h=t.payload,d=t.payloadUniqBy,f=t.position,p=t.reverseDirection,m=t.useTranslate3d,g=t.viewBox,v=t.wrapperStyle,y=null!=h?h:[];l&&y.length&&(y=t_(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),d,qS));var b=y.length>0;return Ne.createElement(LS,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:n,coordinate:o,hasPayload:b,offset:u,position:f,reverseDirection:p,useTranslate3d:m,viewBox:g,wrapperStyle:v},function(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):"function"==typeof e?Ne.createElement(e,t):Ne.createElement(bS,t)}(s,BS(BS({},this.props),{},{payload:y})))}}])}();$S(YS,"displayName","Tooltip"),$S(YS,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!FS.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var KS=jd,JS=/\s/;var ZS=function(e){for(var t=e.length;t--&&JS.test(e.charAt(t)););return t},QS=/^\s+/;var eT=function(e){return e?e.slice(0,ZS(e)+1).replace(QS,""):e},tT=lf,nT=tf,rT=/^[-+]0x[0-9a-f]+$/i,iT=/^0b[01]+$/i,aT=/^0o[0-7]+$/i,sT=parseInt;var oT=function(e){if("number"==typeof e)return e;if(nT(e))return NaN;if(tT(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tT(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=eT(e);var n=iT.test(e);return n||aT.test(e)?sT(e.slice(2),n?2:8):rT.test(e)?NaN:+e},lT=lf,cT=function(){return KS.Date.now()},uT=oT,hT=Math.max,dT=Math.min;var fT=function(e,t,n){var r,i,a,s,o,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,a=i;return r=i=void 0,c=t,s=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=a}function m(){var e=cT();if(p(e))return g(e);o=setTimeout(m,function(e){var n=t-(e-l);return h?dT(n,a-(e-c)):n}(e))}function g(e){return o=void 0,d&&r?f(e):(r=i=void 0,s)}function v(){var e=cT(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===o)return function(e){return c=e,o=setTimeout(m,t),u?f(e):s}(l);if(h)return clearTimeout(o),o=setTimeout(m,t),f(l)}return void 0===o&&(o=setTimeout(m,t)),s}return t=uT(t)||0,lT(n)&&(u=!!n.leading,a=(h="maxWait"in n)?hT(uT(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=l=i=o=void 0},v.flush=function(){return void 0===o?s:g(cT())},v},pT=fT,mT=lf;var gT=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return mT(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pT(e,t,{leading:r,maxWait:t,trailing:i})};const vT=Fe(gT);function yT(e){return(yT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bT(Object(n),!0).forEach((function(t){wT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wT(e,t,n){var r;return r=function(e,t){if("object"!=yT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==yT(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ST(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ST(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TT=Ie.forwardRef((function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,a=e.width,s=void 0===a?"100%":a,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,u=void 0===c?0:c,h=e.minHeight,d=e.maxHeight,f=e.children,p=e.debounce,m=void 0===p?0:p,g=e.id,v=e.className,y=e.onResize,b=e.style,x=void 0===b?{}:b,w=Ie.useRef(null),_=Ie.useRef();_.current=y,Ie.useImperativeHandle(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return w.current},configurable:!0})}));var S=_T(Ie.useState({containerWidth:i.width,containerHeight:i.height}),2),T=S[0],E=S[1],M=Ie.useCallback((function(e,t){E((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);Ie.useEffect((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;M(r,i),null===(t=_.current)||void 0===t||t.call(_,r,i)};m>0&&(e=vT(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,i=n.height;return M(r,i),t.observe(w.current),function(){t.disconnect()}}),[M,m]);var A=Ie.useMemo((function(){var e=T.containerWidth,t=T.containerHeight;if(e<0||t<0)return null;Tg(Lm(s)||Lm(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),Tg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Lm(s)?e:s,i=Lm(l)?t:l;n&&n>0&&(r?i=r/n:i&&(r=i*n),d&&i>d&&(i=d)),Tg(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,s,l,u,h,n);var a=!Array.isArray(f)&&ig(f.type).endsWith("Chart");return Ne.Children.map(f,(function(e){return Ne.isValidElement(e)?Ie.cloneElement(e,xT({width:r,height:i},a?{style:xT({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e}))}),[n,f,l,d,h,u,T,s]);return Ne.createElement("div",{id:g?"".concat(g):void 0,className:Vt("recharts-responsive-container",v),style:xT(xT({},x),{},{width:s,height:l,minWidth:u,minHeight:h,maxHeight:d}),ref:w},A)})),ET=function(e){return null};function MT(e){return(MT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AT(Object(n),!0).forEach((function(t){PT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PT(e,t,n){var r;return r=function(e,t){if("object"!=MT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==MT(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ET.displayName="Cell";var OT={widthCache:{},cacheCount:0},kT={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RT="recharts_measurement_span";var IT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||FS.isSsr)return{width:0,height:0};var n,r=(n=CT({},t),Object.keys(n).forEach((function(e){n[e]||delete n[e]})),n),i=JSON.stringify({text:e,copyStyle:r});if(OT.widthCache[i])return OT.widthCache[i];try{var a=document.getElementById(RT);a||((a=document.createElement("span")).setAttribute("id",RT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=CT(CT({},kT),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return OT.widthCache[i]=l,++OT.cacheCount>2e3&&(OT.cacheCount=0,OT.widthCache={}),l}catch(c){return{width:0,height:0}}};function NT(e){return(NT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UT(r.key),r)}}function UT(e){var t=function(e,t){if("object"!=NT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=NT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==NT(t)?t:t+""}var jT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},WT=Object.keys(HT),GT="NaN";var $T=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||zT.test(n)||(this.num=NaN,this.unit=""),WT.includes(n)&&(this.num=function(e,t){return e*HT[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=DT(null!==(n=VT.exec(t))&&void 0!==n?n:[],3),i=r[1],a=r[2];return new e(parseFloat(i),null!=a?a:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&FT(t.prototype,n),r&&FT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function XT(e){if(e.includes(GT))return GT;for(var t=e;t.includes("*")||t.includes("/");){var n,r=DT(null!==(n=jT.exec(t))&&void 0!==n?n:[],4),i=r[1],a=r[2],s=r[3],o=$T.parse(null!=i?i:""),l=$T.parse(null!=s?s:""),c="*"===a?o.multiply(l):o.divide(l);if(c.isNaN())return GT;t=t.replace(jT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,h=DT(null!==(u=BT.exec(t))&&void 0!==u?u:[],4),d=h[1],f=h[2],p=h[3],m=$T.parse(null!=d?d:""),g=$T.parse(null!=p?p:""),v="+"===f?m.add(g):m.subtract(g);if(v.isNaN())return GT;t=t.replace(BT,v.toString())}return t}var qT=/\(([^()]*)\)/;function YT(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=DT(qT.exec(t),2)[1];t=t.replace(qT,XT(n))}return t}(t),t=XT(t)}function KT(e){var t=function(e){try{return YT(e)}catch(t){return GT}}(e.slice(5,-1));return t===GT?"":t}var JT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ZT=["dx","dy","angle","className","breakAll"];function QT(){return QT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QT.apply(this,arguments)}function eE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rE=/[ \f\n\r\t\v\u2028\u2029]+/,iE=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return am(t)||(i=n?t.toString().split(""):t.toString().split(rE)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:IT(e,r).width}})),spaceWidth:n?0:IT("",r).width}}catch(a){return null}},aE=function(e){return[{words:am(e)?[]:e.toString().split(rE)}]},sE=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,a=e.breakAll,s=e.maxLines;if((t||n)&&!FS.isSsr){var o=iE({breakAll:a,children:r,style:i});return o?function(e,t,n,r,i){var a=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=Fm(a),u=s,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var a=t.word,s=t.width,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e}),[])},d=h(t);if(!c)return d;for(var f,p=function(e){var t=u.slice(0,e),n=iE({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,i=h(n),s=i.length>a||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[s,i]},m=0,g=u.length-1,v=0;m<=g&&v<=u.length-1;){var y=Math.floor((m+g)/2),b=tE(p(y-1),2),x=b[0],w=b[1],_=tE(p(y),1)[0];if(x||_||(m=y+1),x&&_&&(g=y-1),!x&&_){f=w;break}v++}return f||d}({breakAll:a,children:r,maxLines:s,style:i},o.wordsWithComputedWidth,o.spaceWidth,t,n):aE(r)}return aE(r)},oE="#808080",lE=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,a=e.lineHeight,s=void 0===a?"1em":a,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,u=void 0!==c&&c,h=e.textAnchor,d=void 0===h?"start":h,f=e.verticalAnchor,p=void 0===f?"end":f,m=e.fill,g=void 0===m?oE:m,v=eE(e,JT),y=Ie.useMemo((function(){return sE({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:u,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,u,v.style,v.width]),b=v.dx,x=v.dy,w=v.angle,_=v.className,S=v.breakAll,T=eE(v,ZT);if(!Um(n)||!Um(i))return null;var E,M=n+(Fm(b)?b:0),A=i+(Fm(x)?x:0);switch(p){case"start":E=KT("calc(".concat(l,")"));break;case"middle":E=KT("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:E=KT("calc(".concat(y.length-1," * -").concat(s,")"))}var C=[];if(u){var P=y[0].width,O=v.width;C.push("scale(".concat((Fm(O)?O/P:1)/P,")"))}return w&&C.push("rotate(".concat(w,", ").concat(M,", ").concat(A,")")),C.length&&(T.transform=C.join(" ")),Ne.createElement("text",QT({},dg(T,!0),{x:M,y:A,className:Vt("recharts-text",_),textAnchor:d,fill:g.includes("url")?oE:g}),y.map((function(e,t){var n=e.words.join(S?"":" ");return Ne.createElement("tspan",{x:M,dy:0===t?E:s,key:"".concat(n,"-").concat(t)},n)})))};function cE(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uE(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hE(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=cE,n=(t,n)=>cE(e(t),n),r=(t,n)=>e(t)-n):(t=e===cE||e===uE?e:dE,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){const s=i(e,t,n,a-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function dE(){return 0}function fE(e){return null===e?NaN:+e}const pE=hE(cE).right;hE(fE).center;class mE extends Map{constructor(e,t=vE){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(gE(this,e))}has(e){return super.has(gE(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function gE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vE(e){return null!==e&&"object"==typeof e?e.valueOf():e}function yE(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const bE=Math.sqrt(50),xE=Math.sqrt(10),wE=Math.sqrt(2);function _E(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=bE?10:a>=xE?5:a>=wE?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?_E(e,t,2*n):[o,l,c]}function SE(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?_E(t,e,n):_E(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function TE(e,t,n){return _E(e=+e,t=+t,n=+n)[2]}function EE(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?TE(t,e,n):TE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ME(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function AE(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function CE(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?yE:function(e=cE){if(e===cE)return yE;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);CE(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(PE(e,n,t),i(e[r],a)>0&&PE(e,n,r);s<o;){for(PE(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?PE(e,n,o):(++o,PE(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function PE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function OE(e,t,n=fE){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function kE(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function RE(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const IE=Symbol("implicit");function NE(){var e=new mE,t=[],n=[],r=IE;function i(i){let a=e.get(i);if(void 0===a){if(r!==IE)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new mE;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return NE(t,n).unknown(r)},kE.apply(i,arguments),i}function DE(){var e,t,n=NE().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=s<a,d=h?s:a,f=h?a:s;e=(f-d)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),d+=(f-d-e*(n-l))*u,t=e*(1-l),o&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map((function(t){return d+e*t}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,h()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,h()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return DE(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},kE.apply(h(),arguments)}function LE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LE(t())},e}function FE(){return LE(DE.apply(null,arguments).paddingInner(1))}function UE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function BE(){}var zE=.7,VE=1/zE,HE="\\s*([+-]?\\d+)\\s*",WE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",GE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$E=/^#([0-9a-f]{3,8})$/,XE=new RegExp(`^rgb\\(${HE},${HE},${HE}\\)$`),qE=new RegExp(`^rgb\\(${GE},${GE},${GE}\\)$`),YE=new RegExp(`^rgba\\(${HE},${HE},${HE},${WE}\\)$`),KE=new RegExp(`^rgba\\(${GE},${GE},${GE},${WE}\\)$`),JE=new RegExp(`^hsl\\(${WE},${GE},${GE}\\)$`),ZE=new RegExp(`^hsla\\(${WE},${GE},${GE},${WE}\\)$`),QE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function eM(){return this.rgb().formatHex()}function tM(){return this.rgb().formatRgb()}function nM(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$E.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rM(t):3===n?new sM(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?iM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?iM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=XE.exec(e))?new sM(t[1],t[2],t[3],1):(t=qE.exec(e))?new sM(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=YE.exec(e))?iM(t[1],t[2],t[3],t[4]):(t=KE.exec(e))?iM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=JE.exec(e))?dM(t[1],t[2]/100,t[3]/100,1):(t=ZE.exec(e))?dM(t[1],t[2]/100,t[3]/100,t[4]):QE.hasOwnProperty(e)?rM(QE[e]):"transparent"===e?new sM(NaN,NaN,NaN,0):null}function rM(e){return new sM(e>>16&255,e>>8&255,255&e,1)}function iM(e,t,n,r){return r<=0&&(e=t=n=NaN),new sM(e,t,n,r)}function aM(e,t,n,r){return 1===arguments.length?((i=e)instanceof BE||(i=nM(i)),i?new sM((i=i.rgb()).r,i.g,i.b,i.opacity):new sM):new sM(e,t,n,null==r?1:r);var i}function sM(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function oM(){return`#${hM(this.r)}${hM(this.g)}${hM(this.b)}`}function lM(){const e=cM(this.opacity);return`${1===e?"rgb(":"rgba("}${uM(this.r)}, ${uM(this.g)}, ${uM(this.b)}${1===e?")":`, ${e})`}`}function cM(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uM(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hM(e){return((e=uM(e))<16?"0":"")+e.toString(16)}function dM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pM(e,t,n,r)}function fM(e){if(e instanceof pM)return new pM(e.h,e.s,e.l,e.opacity);if(e instanceof BE||(e=nM(e)),!e)return new pM;if(e instanceof pM)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new pM(s,o,l,e.opacity)}function pM(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function mM(e){return(e=(e||0)%360)<0?e+360:e}function gM(e){return Math.max(0,Math.min(1,e||0))}function vM(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}UE(BE,nM,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eM,formatHex:eM,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return fM(this).formatHsl()},formatRgb:tM,toString:tM}),UE(sM,aM,jE(BE,{brighter(e){return e=null==e?VE:Math.pow(VE,e),new sM(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?zE:Math.pow(zE,e),new sM(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sM(uM(this.r),uM(this.g),uM(this.b),cM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oM,formatHex:oM,formatHex8:function(){return`#${hM(this.r)}${hM(this.g)}${hM(this.b)}${hM(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:lM,toString:lM})),UE(pM,(function(e,t,n,r){return 1===arguments.length?fM(e):new pM(e,t,n,null==r?1:r)}),jE(BE,{brighter(e){return e=null==e?VE:Math.pow(VE,e),new pM(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?zE:Math.pow(zE,e),new pM(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sM(vM(e>=240?e-240:e+120,i,r),vM(e,i,r),vM(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pM(mM(this.h),gM(this.s),gM(this.l),cM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cM(this.opacity);return`${1===e?"hsl(":"hsla("}${mM(this.h)}, ${100*gM(this.s)}%, ${100*gM(this.l)}%${1===e?")":`, ${e})`}`}}));const yM=e=>()=>e;function bM(e){return 1===(e=+e)?xM:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):yM(isNaN(t)?n:t)}}function xM(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):yM(isNaN(e)?t:e)}const wM=function e(t){var n=bM(t);function r(e,t){var r=n((e=aM(e)).r,(t=aM(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=xM(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function _M(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function SM(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=OM(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function TM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function EM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function MM(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=OM(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var AM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,CM=new RegExp(AM.source,"g");function PM(e,t){var n,r,i,a=AM.lastIndex=CM.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=AM.exec(e))&&(r=CM.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:EM(n,r)})),a=CM.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function OM(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?yM(t):("number"===i?EM:"string"===i?(n=nM(t))?(t=n,wM):PM:t instanceof nM?wM:t instanceof Date?TM:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?SM:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?MM:EM:_M))(e,t)}function kM(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RM(e){return+e}var IM=[0,1];function NM(e){return e}function DM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function LM(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=DM(i,r),a=n(s,a)):(r=DM(r,i),a=n(a,s)),function(e){return a(r(e))}}function FM(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=DM(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=pE(e,t,1,r)-1;return a[n](i[n](t))}}function UM(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jM(){var e,t,n,r,i,a,s=IM,o=IM,l=OM,c=NM;function u(){var e,t,n,l=Math.min(s.length,o.length);return c!==NM&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?FM:LM,i=a=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return h.invert=function(n){return c(t((a||(a=r(o,s.map(e),EM)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,RM),u()):s.slice()},h.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},h.rangeRound=function(e){return o=Array.from(e),l=kM,u()},h.clamp=function(e){return arguments.length?(c=!!e||NM,u()):c!==NM},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function BM(){return jM()(NM,NM)}function zM(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function VM(e){return(e=zM(Math.abs(e)))?e[1]:NaN}var HM,WM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function GM(e){if(!(t=WM.exec(e)))throw new Error("invalid format: "+e);var t;return new $M({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function $M(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function XM(e,t){var n=zM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}GM.prototype=$M.prototype,$M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const qM={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XM(100*e,t),r:XM,s:function(e,t){var n=zM(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(HM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+zM(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YM(e){return e}var KM,JM,ZM,QM=Array.prototype.map,eA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tA(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?YM:(t=QM.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?YM:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(QM.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=GM(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):qM[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?a:/[%p]/.test(y)?l:"",w=qM[y],_=/[defgprs%]/.test(y);function S(e){var i,a,l,d=b,S=x;if("c"===y)S=w(e)+S,e="";else{var T=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0===+e&&"+"!==h&&(T=!1),d=(T?"("===h?h:c:"-"===h||"("===h?"":h)+d,S=("s"===y?eA[8+HM/3]:"")+S+(T&&"("===h?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?s+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=d.length+e.length+S.length,M=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(M+e,M.length?p-S.length:1/0),M=""),n){case"<":e=d+e+S+M;break;case"=":e=d+M+e+S;break;case"^":e=M.slice(0,E=M.length>>1)+d+e+S+M.slice(E);break;default:e=M+d+e+S}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:h,formatPrefix:function(e,t){var n=h(((e=GM(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(VM(t)/3))),i=Math.pow(10,-r),a=eA[8+r/3];return function(e){return n(i*e)+a}}}}function nA(e,t,n,r){var i,a=EE(e,t,n);switch((r=GM(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(VM(t)/3)))-VM(Math.abs(e)))}(a,s))||(r.precision=i),ZM(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,VM(t)-VM(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-VM(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return JM(r)}function rA(e){var t=e.domain;return e.ticks=function(e){var n=t();return SE(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return nA(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=TE(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function iA(){var e=BM();return e.copy=function(){return UM(e,iA())},kE.apply(e,arguments),rA(e)}function aA(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function sA(e){return Math.log(e)}function oA(e){return Math.exp(e)}function lA(e){return-Math.log(-e)}function cA(e){return-Math.exp(-e)}function uA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hA(e){return(t,n)=>-e(-t,n)}function dA(e){const t=e(sA,oA),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?uA:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=hA(r),i=hA(i),e(lA,cA)):e(sA,oA),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,h=r(s),d=r(o);const f=null==e?10:+e;let p=[];if(!(a%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(c=1;c<a;++c)if(u=h<0?c/i(-h):c*i(h),!(u<s)){if(u>o)break;p.push(u)}}else for(;h<=d;++h)for(c=a-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=SE(s,o,f))}else p=SE(h,d,Math.min(d-h,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=GM(n)).precision||(n.trim=!0),n=JM(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(aA(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function fA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mA(e){var t=1,n=e(fA(t),pA(t));return n.constant=function(n){return arguments.length?e(fA(t=+n),pA(t)):t},rA(n)}function gA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vA(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yA(e){return e<0?-e*e:e*e}function bA(e){var t=e(NM,NM),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(NM,NM):.5===n?e(vA,yA):e(gA(n),gA(1/n)):n},rA(t)}function xA(){var e=bA(jM());return e.copy=function(){return UM(e,xA()).exponent(e.exponent())},kE.apply(e,arguments),e}function wA(e){return Math.sign(e)*e*e}KM=tA({thousands:",",grouping:[3],currency:["$",""]}),JM=KM.format,ZM=KM.formatPrefix;const _A=new Date,SA=new Date;function TA(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>TA((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(_A.setTime(+t),SA.setTime(+r),e(_A),e(SA),Math.floor(n(_A,SA))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const EA=TA((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));EA.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?TA((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):EA:null),EA.range;const MA=1e3,AA=6e4,CA=36e5,PA=864e5,OA=6048e5,kA=2592e6,RA=31536e6,IA=TA((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*MA)}),((e,t)=>(t-e)/MA),(e=>e.getUTCSeconds()));IA.range;const NA=TA((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*MA)}),((e,t)=>{e.setTime(+e+t*AA)}),((e,t)=>(t-e)/AA),(e=>e.getMinutes()));NA.range;const DA=TA((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*AA)}),((e,t)=>(t-e)/AA),(e=>e.getUTCMinutes()));DA.range;const LA=TA((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*MA-e.getMinutes()*AA)}),((e,t)=>{e.setTime(+e+t*CA)}),((e,t)=>(t-e)/CA),(e=>e.getHours()));LA.range;const FA=TA((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*CA)}),((e,t)=>(t-e)/CA),(e=>e.getUTCHours()));FA.range;const UA=TA((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AA)/PA),(e=>e.getDate()-1));UA.range;const jA=TA((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/PA),(e=>e.getUTCDate()-1));jA.range;const BA=TA((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/PA),(e=>Math.floor(e/PA)));function zA(e){return TA((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*AA)/OA))}BA.range;const VA=zA(0),HA=zA(1),WA=zA(2),GA=zA(3),$A=zA(4),XA=zA(5),qA=zA(6);function YA(e){return TA((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/OA))}VA.range,HA.range,WA.range,GA.range,$A.range,XA.range,qA.range;const KA=YA(0),JA=YA(1),ZA=YA(2),QA=YA(3),eC=YA(4),tC=YA(5),nC=YA(6);KA.range,JA.range,ZA.range,QA.range,eC.range,tC.range,nC.range;const rC=TA((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));rC.range;const iC=TA((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));iC.range;const aC=TA((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));aC.every=e=>isFinite(e=Math.floor(e))&&e>0?TA((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,aC.range;const sC=TA((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function oC(e,t,n,r,i,a){const s=[[IA,1,MA],[IA,5,5e3],[IA,15,15e3],[IA,30,3e4],[a,1,AA],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,CA],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,PA],[r,2,1728e5],[n,1,OA],[t,1,kA],[t,3,7776e6],[e,1,RA]];function o(t,n,r){const i=Math.abs(n-t)/r,a=hE((([,,e])=>e)).right(s,i);if(a===s.length)return e.every(EE(t/RA,n/RA,r));if(0===a)return EA.every(Math.max(EE(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}sC.every=e=>isFinite(e=Math.floor(e))&&e>0?TA((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,sC.range;const[lC,cC]=oC(sC,iC,KA,BA,FA,DA),[uC,hC]=oC(aC,rC,VA,UA,LA,NA);function dC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pC(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var mC,gC,vC,yC={"-":"",_:" ",0:"0"},bC=/^\s*\d+/,xC=/^%/,wC=/[\\^$*+?|[\]().{}]/g;function _C(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function SC(e){return e.replace(wC,"\\$&")}function TC(e){return new RegExp("^(?:"+e.map(SC).join("|")+")","i")}function EC(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function MC(e,t,n){var r=bC.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function AC(e,t,n){var r=bC.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function CC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function PC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function OC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kC(e,t,n){var r=bC.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function RC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function IC(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function NC(e,t,n){var r=bC.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function DC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function LC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FC(e,t,n){var r=bC.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function UC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function jC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function BC(e,t,n){var r=bC.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function zC(e,t,n){var r=bC.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function VC(e,t,n){var r=bC.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function HC(e,t,n){var r=xC.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function WC(e,t,n){var r=bC.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function GC(e,t,n){var r=bC.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function $C(e,t){return _C(e.getDate(),t,2)}function XC(e,t){return _C(e.getHours(),t,2)}function qC(e,t){return _C(e.getHours()%12||12,t,2)}function YC(e,t){return _C(1+UA.count(aC(e),e),t,3)}function KC(e,t){return _C(e.getMilliseconds(),t,3)}function JC(e,t){return KC(e,t)+"000"}function ZC(e,t){return _C(e.getMonth()+1,t,2)}function QC(e,t){return _C(e.getMinutes(),t,2)}function eP(e,t){return _C(e.getSeconds(),t,2)}function tP(e){var t=e.getDay();return 0===t?7:t}function nP(e,t){return _C(VA.count(aC(e)-1,e),t,2)}function rP(e){var t=e.getDay();return t>=4||0===t?$A(e):$A.ceil(e)}function iP(e,t){return e=rP(e),_C($A.count(aC(e),e)+(4===aC(e).getDay()),t,2)}function aP(e){return e.getDay()}function sP(e,t){return _C(HA.count(aC(e)-1,e),t,2)}function oP(e,t){return _C(e.getFullYear()%100,t,2)}function lP(e,t){return _C((e=rP(e)).getFullYear()%100,t,2)}function cP(e,t){return _C(e.getFullYear()%1e4,t,4)}function uP(e,t){var n=e.getDay();return _C((e=n>=4||0===n?$A(e):$A.ceil(e)).getFullYear()%1e4,t,4)}function hP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_C(t/60|0,"0",2)+_C(t%60,"0",2)}function dP(e,t){return _C(e.getUTCDate(),t,2)}function fP(e,t){return _C(e.getUTCHours(),t,2)}function pP(e,t){return _C(e.getUTCHours()%12||12,t,2)}function mP(e,t){return _C(1+jA.count(sC(e),e),t,3)}function gP(e,t){return _C(e.getUTCMilliseconds(),t,3)}function vP(e,t){return gP(e,t)+"000"}function yP(e,t){return _C(e.getUTCMonth()+1,t,2)}function bP(e,t){return _C(e.getUTCMinutes(),t,2)}function xP(e,t){return _C(e.getUTCSeconds(),t,2)}function wP(e){var t=e.getUTCDay();return 0===t?7:t}function _P(e,t){return _C(KA.count(sC(e)-1,e),t,2)}function SP(e){var t=e.getUTCDay();return t>=4||0===t?eC(e):eC.ceil(e)}function TP(e,t){return e=SP(e),_C(eC.count(sC(e),e)+(4===sC(e).getUTCDay()),t,2)}function EP(e){return e.getUTCDay()}function MP(e,t){return _C(JA.count(sC(e)-1,e),t,2)}function AP(e,t){return _C(e.getUTCFullYear()%100,t,2)}function CP(e,t){return _C((e=SP(e)).getUTCFullYear()%100,t,2)}function PP(e,t){return _C(e.getUTCFullYear()%1e4,t,4)}function OP(e,t){var n=e.getUTCDay();return _C((e=n>=4||0===n?eC(e):eC.ceil(e)).getUTCFullYear()%1e4,t,4)}function kP(){return"+0000"}function RP(){return"%"}function IP(e){return+e}function NP(e){return Math.floor(+e/1e3)}function DP(e){return new Date(e)}function LP(e){return e instanceof Date?+e:+new Date(+e)}function FP(e,t,n,r,i,a,s,o,l,c){var u=BM(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,LP)):d().map(DP)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=d();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(aA(n,e)):u},u.copy=function(){return UM(u,FP(e,t,n,r,i,a,s,o,l,c))},u}function UP(){var e,t,n,r,i,a=0,s=1,o=NM,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(OM),c.rangeRound=u(kM),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function jP(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BP(){var e=bA(UP());return e.copy=function(){return jP(e,BP()).exponent(e.exponent())},RE.apply(e,arguments)}function zP(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,u=1,h=NM,d=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=OM);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=p(OM),f.rangeRound=p(kM),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function VP(){var e=bA(zP());return e.copy=function(){return jP(e,VP()).exponent(e.exponent())},RE.apply(e,arguments)}!function(e){mC=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=TC(i),u=EC(i),h=TC(a),d=EC(a),f=TC(s),p=EC(s),m=TC(o),g=EC(o),v=TC(l),y=EC(l),b={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:$C,e:$C,f:JC,g:lP,G:uP,H:XC,I:qC,j:YC,L:KC,m:ZC,M:QC,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:IP,s:NP,S:eP,u:tP,U:nP,V:iP,w:aP,W:sP,x:null,X:null,y:oP,Y:cP,Z:hP,"%":RP},x={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:dP,e:dP,f:vP,g:CP,G:OP,H:fP,I:pP,j:mP,L:gP,m:yP,M:bP,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:IP,s:NP,S:xP,u:wP,U:_P,V:TP,w:EP,W:MP,x:null,X:null,y:AP,Y:PP,Z:kP,"%":RP},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:LC,e:LC,f:VC,g:RC,G:kC,H:UC,I:UC,j:FC,L:zC,m:DC,M:jC,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:NC,Q:WC,s:GC,S:BC,u:AC,U:CC,V:PC,w:MC,W:OC,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:RC,Y:kC,Z:IC,"%":HC};function _(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=yC[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function S(e,t){return function(n){var r,i,a=pC(1900,void 0,1);if(T(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=fC(pC(a.y,0,1))).getUTCDay(),r=i>4||0===i?JA.ceil(r):JA(r),r=jA.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=dC(pC(a.y,0,1))).getDay(),r=i>4||0===i?HA.ceil(r):HA(r),r=UA.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?fC(pC(a.y,0,1)).getUTCDay():dC(pC(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,fC(a)):dC(a)}}function T(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in yC?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),x.x=_(n,x),x.X=_(r,x),x.c=_(t,x),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),gC=mC.format,mC.parse,vC=mC.utcFormat,mC.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const HP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:DE,scaleDiverging:function e(){var t=rA(zP()(NM));return t.copy=function(){return jP(t,e())},RE.apply(t,arguments)},scaleDivergingLog:function e(){var t=dA(zP()).domain([.1,1,10]);return t.copy=function(){return jP(t,e()).base(t.base())},RE.apply(t,arguments)},scaleDivergingPow:VP,scaleDivergingSqrt:function(){return VP.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=mA(zP());return t.copy=function(){return jP(t,e()).constant(t.constant())},RE.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,RM),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,RM):[0,1],rA(r)},scaleImplicit:IE,scaleLinear:iA,scaleLog:function e(){const t=dA(jM()).domain([1,10]);return t.copy=()=>UM(t,e()).base(t.base()),kE.apply(t,arguments),t},scaleOrdinal:NE,scalePoint:FE,scalePow:xA,scaleQuantile:function e(){var t,n=[],r=[],i=[];function a(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=OE(n,e/t);return s}function s(e){return null==e||isNaN(e=+e)?t:r[pE(i,e)]}return s.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},s.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(cE),a()},s.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return i.slice()},s.copy=function(){return e().domain(n).range(r).unknown(t)},kE.apply(s,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,a=[.5],s=[0,1];function o(e){return null!=e&&e<=e?s[pE(a,e,0,i)]:t}function l(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*r-(e-i)*n)/(i+1);return o}return o.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},o.range=function(e){return arguments.length?(i=(s=Array.from(e)).length-1,l()):s.slice()},o.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return e().domain([n,r]).range(s).unknown(t)},kE.apply(rA(o),arguments)},scaleRadial:function e(){var t,n=BM(),r=[0,1],i=!1;function a(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return a.invert=function(e){return n.invert(wA(e))},a.domain=function(e){return arguments.length?(n.domain(e),a):n.domain()},a.range=function(e){return arguments.length?(n.range((r=Array.from(e,RM)).map(wA)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(i=!!e,a):i},a.clamp=function(e){return arguments.length?(n.clamp(e),a):n.clamp()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},kE.apply(a,arguments),rA(a)},scaleSequential:function e(){var t=rA(UP()(NM));return t.copy=function(){return jP(t,e())},RE.apply(t,arguments)},scaleSequentialLog:function e(){var t=dA(UP()).domain([1,10]);return t.copy=function(){return jP(t,e()).base(t.base())},RE.apply(t,arguments)},scaleSequentialPow:BP,scaleSequentialQuantile:function e(){var t=[],n=NM;function r(e){if(null!=e&&!isNaN(e=+e))return n((pE(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(cE),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map(((e,r)=>n(r/(t.length-1))))},r.quantiles=function(e){return Array.from({length:e+1},((n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return AE(e);if(t>=1)return ME(e);var n,r=(n-1)*t,i=Math.floor(r),a=ME(CE(e,i).subarray(0,i+1));return a+(AE(e.subarray(i+1))-a)*(r-i)}}(t,r/e)))},r.copy=function(){return e(n).domain(t)},RE.apply(r,arguments)},scaleSequentialSqrt:function(){return BP.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=mA(UP());return t.copy=function(){return jP(t,e()).constant(t.constant())},RE.apply(t,arguments)},scaleSqrt:function(){return xA.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=mA(jM());return t.copy=function(){return UM(t,e()).constant(t.constant())},kE.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function a(e){return null!=e&&e<=e?r[pE(n,e,0,i)]:t}return a.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(n).range(r).unknown(t)},kE.apply(a,arguments)},scaleTime:function(){return kE.apply(FP(uC,hC,aC,rC,VA,UA,LA,NA,IA,gC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return kE.apply(FP(lC,cC,sC,iC,KA,jA,FA,DA,IA,vC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:nA},Symbol.toStringTag,{value:"Module"}));var WP=tf;var GP=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(void 0===o?s==s&&!WP(s):n(s,o)))var o=s,l=a}return l};var $P=GP,XP=function(e,t){return e>t},qP=Tw;const YP=Fe((function(e){return e&&e.length?$P(e,qP,XP):void 0}));var KP=GP,JP=function(e,t){return e<t},ZP=Tw;const QP=Fe((function(e){return e&&e.length?KP(e,ZP,JP):void 0}));var eO=Fp,tO=Dw,nO=P_,rO=Dd;var iO=w_,aO=function(e,t){return(rO(e)?eO:nO)(e,tO(t))};const sO=Fe((function(e,t){return iO(aO(e,t),1)}));var oO=Zx;const lO=Fe((function(e,t){return oO(e,t)}));var cO,uO=1e9,hO=!0,dO="[DecimalError] ",fO=dO+"Invalid argument: ",pO=dO+"Exponent out of range: ",mO=Math.floor,gO=Math.pow,vO=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yO=1e7,bO=9007199254740991,xO=mO(1286742750677284.5),wO={};function _O(e,t){var n,r,i,a,s,o,l,c,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),hO?RO(t,h):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),a>(o=(s=Math.ceil(h/7))>o?s+1:o+1)&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((o=l.length)-(a=c.length)<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/yO|0,l[a]%=yO;for(n&&(l.unshift(n),++i),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=i,hO?RO(t,h):t}function SO(e,t,n){if(e!==~~e||e<t||e>n)throw Error(fO+e)}function TO(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=PO(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=PO(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}wO.absoluteValue=wO.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},wO.comparedTo=wO.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},wO.decimalPlaces=wO.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},wO.dividedBy=wO.div=function(e){return EO(this,new this.constructor(e))},wO.dividedToIntegerBy=wO.idiv=function(e){var t=this.constructor;return RO(EO(this,new t(e),0,1),t.precision)},wO.equals=wO.eq=function(e){return!this.cmp(e)},wO.exponent=function(){return AO(this)},wO.greaterThan=wO.gt=function(e){return this.cmp(e)>0},wO.greaterThanOrEqualTo=wO.gte=function(e){return this.cmp(e)>=0},wO.isInteger=wO.isint=function(){return this.e>this.d.length-2},wO.isNegative=wO.isneg=function(){return this.s<0},wO.isPositive=wO.ispos=function(){return this.s>0},wO.isZero=function(){return 0===this.s},wO.lessThan=wO.lt=function(e){return this.cmp(e)<0},wO.lessThanOrEqualTo=wO.lte=function(e){return this.cmp(e)<1},wO.logarithm=wO.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(cO))throw Error(dO+"NaN");if(n.s<1)throw Error(dO+(n.s?"NaN":"-Infinity"));return n.eq(cO)?new r(0):(hO=!1,t=EO(OO(n,a),OO(e,a),a),hO=!0,RO(t,i))},wO.minus=wO.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IO(t,e):_O(t,(e.s=-e.s,e))},wO.modulo=wO.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(dO+"NaN");return n.s?(hO=!1,t=EO(n,e,0,1).times(e),hO=!0,n.minus(t)):RO(new r(n),i)},wO.naturalExponential=wO.exp=function(){return MO(this)},wO.naturalLogarithm=wO.ln=function(){return OO(this)},wO.negated=wO.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},wO.plus=wO.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_O(t,e):IO(t,(e.s=-e.s,e))},wO.precision=wO.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(fO+e);if(t=AO(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},wO.squareRoot=wO.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(dO+"NaN")}for(e=AO(o),hO=!1,0==(i=Math.sqrt(+o))||i==1/0?(((t=TO(o.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=mO((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=s=(n=l.precision)+3;;)if(r=(a=r).plus(EO(o,a,s+2)).times(.5),TO(a.d).slice(0,s)===(t=TO(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(RO(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if("9999"!=t)break;s+=4}return hO=!0,RO(r,n)},wO.times=wO.mul=function(e){var t,n,r,i,a,s,o,l,c,u=this,h=u.constructor,d=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,(l=d.length)<(c=f.length)&&(a=d,d=f,f=a,s=l,l=c,c=s),a=[],r=s=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+f[r]*d[i-r-1]+t,a[i--]=o%yO|0,t=o/yO|0;a[i]=(a[i]+t)%yO|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,hO?RO(e,h.precision):e},wO.toDecimalPlaces=wO.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(SO(e,0,uO),void 0===t?t=r.rounding:SO(t,0,8),RO(n,e+AO(n)+1,t))},wO.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=NO(r,!0):(SO(e,0,uO),void 0===t?t=i.rounding:SO(t,0,8),n=NO(r=RO(new i(r),e+1,t),!0,e+1)),n},wO.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?NO(i):(SO(e,0,uO),void 0===t?t=a.rounding:SO(t,0,8),n=NO((r=RO(new a(i),e+AO(i)+1,t)).abs(),!1,e+AO(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},wO.toInteger=wO.toint=function(){var e=this,t=e.constructor;return RO(new t(e),AO(e)+1,t.rounding)},wO.toNumber=function(){return+this},wO.toPower=wO.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(cO);if(!(o=new l(o)).s){if(e.s<1)throw Error(dO+"Infinity");return o}if(o.eq(cO))return o;if(r=l.precision,e.eq(cO))return RO(o,r);if(s=(t=e.e)>=(n=e.d.length-1),a=o.s,s){if((n=c<0?-c:c)<=bO){for(i=new l(cO),t=Math.ceil(r/7+4),hO=!1;n%2&&DO((i=i.times(o)).d,t),0!==(n=mO(n/2));)DO((o=o.times(o)).d,t);return hO=!0,e.s<0?new l(cO).div(i):RO(i,r)}}else if(a<0)throw Error(dO+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,hO=!1,i=e.times(OO(o,r+12)),hO=!0,(i=MO(i)).s=a,i},wO.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=NO(i,(n=AO(i))<=a.toExpNeg||n>=a.toExpPos):(SO(e,1,uO),void 0===t?t=a.rounding:SO(t,0,8),r=NO(i=RO(new a(i),e,t),e<=(n=AO(i))||n<=a.toExpNeg,e)),r},wO.toSignificantDigits=wO.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(SO(e,1,uO),void 0===t?t=n.rounding:SO(t,0,8)),RO(new n(this),e,t)},wO.toString=wO.valueOf=wO.val=wO.toJSON=wO[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=AO(e),n=e.constructor;return NO(e,t<=n.toExpNeg||t>=n.toExpPos)};var EO=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%yO|0,r=n/yO|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*yO+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,l,c,u,h,d,f,p,m,g,v,y,b,x,w,_,S,T,E=r.constructor,M=r.s==i.s?1:-1,A=r.d,C=i.d;if(!r.s)return new E(r);if(!i.s)throw Error(dO+"Division by zero");for(l=r.e-i.e,S=C.length,w=A.length,p=(f=new E(M)).d=[],c=0;C[c]==(A[c]||0);)++c;if(C[c]>(A[c]||0)&&--l,(y=null==a?a=E.precision:s?a+(AO(r)-AO(i))+1:a)<0)return new E(0);if(y=y/7+2|0,c=0,1==S)for(u=0,C=C[0],y++;(c<w||u)&&y--;c++)b=u*yO+(A[c]||0),p[c]=b/C|0,u=b%C|0;else{for((u=yO/(C[0]+1)|0)>1&&(C=e(C,u),A=e(A,u),S=C.length,w=A.length),x=S,g=(m=A.slice(0,S)).length;g<S;)m[g++]=0;(T=C.slice()).unshift(0),_=C[0],C[1]>=yO/2&&++_;do{u=0,(o=t(C,m,S,g))<0?(v=m[0],S!=g&&(v=v*yO+(m[1]||0)),(u=v/_|0)>1?(u>=yO&&(u=yO-1),1==(o=t(h=e(C,u),m,d=h.length,g=m.length))&&(u--,n(h,S<d?T:C,d))):(0==u&&(o=u=1),h=C.slice()),(d=h.length)<g&&h.unshift(0),n(m,h,g),-1==o&&(o=t(C,m,S,g=m.length))<1&&(u++,n(m,S<g?T:C,g)),g=m.length):0===o&&(u++,m=[0]),p[c++]=u,o&&m[0]?m[g++]=A[x]||0:(m=[A[x]],g=1)}while((x++<w||void 0!==m[0])&&y--)}return p[0]||p.shift(),f.e=l,RO(f,s?a+AO(f)+1:a)}}();function MO(e,t){var n,r,i,a,s,o=0,l=0,c=e.constructor,u=c.precision;if(AO(e)>16)throw Error(pO+AO(e));if(!e.s)return new c(cO);for(null==t?(hO=!1,s=u):s=t,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(s+=Math.log(gO(2,l))/Math.LN10*2+5|0,n=r=i=new c(cO),c.precision=s;;){if(r=RO(r.times(e),s),n=n.times(++o),TO((a=i.plus(EO(r,n,s))).d).slice(0,s)===TO(i.d).slice(0,s)){for(;l--;)i=RO(i.times(i),s);return c.precision=u,null==t?(hO=!0,RO(i,u)):i}i=a}}function AO(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function CO(e,t,n){if(t>e.LN10.sd())throw hO=!0,n&&(e.precision=n),Error(dO+"LN10 precision limit exceeded");return RO(new e(e.LN10),t)}function PO(e){for(var t="";e--;)t+="0";return t}function OO(e,t){var n,r,i,a,s,o,l,c,u,h=1,d=e,f=d.d,p=d.constructor,m=p.precision;if(d.s<1)throw Error(dO+(d.s?"NaN":"-Infinity"));if(d.eq(cO))return new p(0);if(null==t?(hO=!1,c=m):c=t,d.eq(10))return null==t&&(hO=!0),CO(p,c);if(c+=10,p.precision=c,r=(n=TO(f)).charAt(0),a=AO(d),!(Math.abs(a)<15e14))return l=CO(p,c+2,m).times(a+""),d=OO(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=m,null==t?(hO=!0,RO(d,m)):d;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=TO((d=d.times(e)).d)).charAt(0),h++;for(a=AO(d),r>1?(d=new p("0."+n),a++):d=new p(r+"."+n.slice(1)),o=s=d=EO(d.minus(cO),d.plus(cO),c),u=RO(d.times(d),c),i=3;;){if(s=RO(s.times(u),c),TO((l=o.plus(EO(s,new p(i),c))).d).slice(0,c)===TO(o.d).slice(0,c))return o=o.times(2),0!==a&&(o=o.plus(CO(p,c+2,m).times(a+""))),o=EO(o,new p(h),c),p.precision=m,null==t?(hO=!0,RO(o,m)):o;o=l,i+=2}}function kO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=mO(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),hO&&(e.e>xO||e.e<-xO))throw Error(pO+n)}else e.s=0,e.e=0,e.d=[0];return e}function RO(e,t,n){var r,i,a,s,o,l,c,u,h=e.d;for(s=1,a=h[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,c=h[u=0];else{if((u=Math.ceil((r+1)/7))>=(a=h.length))return e;for(c=a=h[u],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(o=c/(a=gO(10,s-i-1))%10|0,l=t<0||void 0!==h[u+1]||c%a,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?i>0?c/gO(10,s-i):0:h[u-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return l?(a=AO(e),h.length=1,t=t-a-1,h[0]=gO(10,(7-t%7)%7),e.e=mO(-t/7)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(0==r?(h.length=u,a=1,u--):(h.length=u+1,a=gO(10,7-r),h[u]=i>0?(c/gO(10,s-i)%gO(10,i)|0)*a:0),l)for(;;){if(0==u){(h[0]+=a)==yO&&(h[0]=1,++e.e);break}if(h[u]+=a,h[u]!=yO)break;h[u--]=0,a=1}for(r=h.length;0===h[--r];)h.pop();if(hO&&(e.e>xO||e.e<-xO))throw Error(pO+AO(e));return e}function IO(e,t){var n,r,i,a,s,o,l,c,u,h,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),hO?RO(t,f):t;if(l=e.d,h=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((u=s<0)?(n=l,s=-s,o=h.length):(n=h,r=c,o=l.length),s>(i=Math.max(Math.ceil(f/7),o)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(o=h.length))&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}s=0}for(u&&(n=l,l=h,h=n,t.s=-t.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&0===l[--a];)l[a]=yO-1;--l[a],l[i]+=yO}l[i]-=h[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,hO?RO(t,f):t):new d(0)}function NO(e,t,n){var r,i=AO(e),a=TO(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+PO(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+PO(-i-1)+a,n&&(r=n-s)>0&&(a+=PO(r))):i>=s?(a+=PO(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+PO(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=PO(r))),e.s<0?"-"+a:a}function DO(e,t){if(e.length>t)return e.length=t,!0}function LO(e){if(!e||"object"!=typeof e)throw Error(dO+"Object expected");var t,n,r,i=["precision",1,uO,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(mO(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(fO+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(fO+n+": "+r);this[n]=new this(r)}return this}var FO=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(fO+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):kO(t,e.toString())}if("string"!=typeof e)throw Error(fO+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!vO.test(e))throw Error(fO+e);kO(t,e)}if(a.prototype=wO,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=LO,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});cO=new FO(1);const UO=FO;function jO(e){return function(e){if(Array.isArray(e))return BO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return BO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zO=function(e){return e},VO={"@@functional/placeholder":!0},HO=function(e){return e===VO},WO=function(e){return function t(){return 0===arguments.length||1===arguments.length&&HO(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},GO=function e(t,n){return 1===t?n:WO((function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter((function(e){return e!==VO})).length;return s>=t?n.apply(void 0,i):e(t-s,WO((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=i.map((function(e){return HO(e)?t.shift():e}));return n.apply(void 0,jO(a).concat(t))})))}))},$O=function(e){return GO(e.length,e)},XO=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},qO=$O((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),YO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},KO=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};const JO={rangeStep:function(e,t,n){for(var r=new UO(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new UO(e).abs().log(10).toNumber())+1},interpolateNumber:$O((function(e,t,n){var r=+e;return r+n*(+t-r)})),uninterpolateNumber:$O((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uninterpolateTruncation:$O((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}))};function ZO(e){return function(e){if(Array.isArray(e))return tk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ek(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}(e,t)||ek(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ek(e,t){if(e){if("string"==typeof e)return tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tk(e,t):void 0}}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nk(e){var t=QO(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function rk(e,t,n){if(e.lte(0))return new UO(0);var r=JO.getDigitCount(e.toNumber()),i=new UO(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new UO(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return t?o:new UO(Math.ceil(o))}function ik(e,t,n){var r=1,i=new UO(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new UO(10).pow(JO.getDigitCount(e)-1),i=new UO(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new UO(Math.floor(e)))}else 0===e?i=new UO(Math.floor((t-1)/2)):n||(i=new UO(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return zO;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}}(qO((function(e){return i.add(new UO(e-s).mul(r)).toNumber()})),XO);return o(0,t)}function ak(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new UO(0),tickMin:new UO(0),tickMax:new UO(0)};var a,s=rk(new UO(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new UO(0):(a=new UO(e).add(t).div(2)).sub(new UO(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new UO(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?ak(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new UO(o).mul(s)),tickMax:a.add(new UO(l).mul(s))})}var sk=KO((function(e){var t=QO(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(i,2),o=QO(nk([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(ZO(XO(0,i-1).map((function(){return 1/0})))):[].concat(ZO(XO(0,i-1).map((function(){return-1/0}))),[c]);return n>r?YO(u):u}if(l===c)return ik(l,i,a);var h=ak(l,c,s,a),d=h.step,f=h.tickMin,p=h.tickMax,m=JO.rangeStep(f,p.add(new UO(.1).mul(d)),d);return n>r?YO(m):m})),ok=KO((function(e,t){var n=QO(e,2),r=n[0],i=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=QO(nk([r,i]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var c=Math.max(t,2),u=rk(new UO(l).sub(o).div(c-1),a,0),h=[].concat(ZO(JO.rangeStep(new UO(o),new UO(l).sub(new UO(.99).mul(u)),u)),[l]);return r>i?YO(h):h}));function lk(e,t){throw new Error("Invariant failed")}var ck=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uk(e){return(uk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hk.apply(this,arguments)}function dk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mk(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wk(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gk(e,t,n){return t=yk(t),function(e,t){if(t&&("object"===uk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vk()?Reflect.construct(t,n||[],yk(e).constructor):t.apply(e,n))}function vk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vk=function(){return!!e})()}function yk(e){return(yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bk(e,t){return(bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xk(e,t,n){return(t=wk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wk(e){var t=function(e,t){if("object"!=uk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uk(t)?t:t+""}var _k=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}(e,Ne.Component),mk(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,a=e.data,s=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=pk(e,ck),u=dg(c,!1);"x"===this.props.direction&&"number"!==o.type&&lk();var h=a.map((function(e){var a=s(e,i),c=a.x,h=a.y,d=a.value,f=a.errorVal;if(!f)return null;var p,m,g=[];if(Array.isArray(f)){var v=dk(f,2);p=v[0],m=v[1]}else p=m=f;if("vertical"===n){var y=o.scale,b=h+t,x=b+r,w=b-r,_=y(d-p),S=y(d+m);g.push({x1:S,y1:x,x2:S,y2:w}),g.push({x1:_,y1:b,x2:S,y2:b}),g.push({x1:_,y1:x,x2:_,y2:w})}else if("horizontal"===n){var T=l.scale,E=c+t,M=E-r,A=E+r,C=T(d-p),P=T(d+m);g.push({x1:M,y1:P,x2:A,y2:P}),g.push({x1:E,y1:C,x2:E,y2:P}),g.push({x1:M,y1:C,x2:A,y2:C})}return Ne.createElement(Sg,hk({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),g.map((function(e){return Ne.createElement("line",hk({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return Ne.createElement(Sg,{className:"recharts-errorBars"},h)}}])}();function Sk(e){return(Sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tk(Object(n),!0).forEach((function(t){Mk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mk(e,t,n){var r;return r=function(e,t){if("object"!=Sk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Sk(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xk(_k,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),xk(_k,"displayName","ErrorBar");var Ak=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,a=cg(t,m_);if(!a)return null;var s,o=m_.defaultProps,l=void 0!==o?Ek(Ek({},o),a.props):{};return s=a.props&&a.props.payload?a.props&&a.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?Ek(Ek({},n),t.props):{},i=r.dataKey,a=r.name,s=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||s||"square",color:Lk(t),value:a||i,payload:r}})),Ek(Ek(Ek({},l),m_.getWithHeight(a,r)),{},{payload:s,item:a})};function Ck(e){return(Ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pk(e){return function(e){if(Array.isArray(e))return Ok(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ok(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ok(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kk(Object(n),!0).forEach((function(t){Ik(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ik(e,t,n){var r;return r=function(e,t){if("object"!=Ck(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ck(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ck(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nk(e,t,n){return am(e)||am(t)?n:Um(t)?im(e,t,n):ff(t)?t(e):n}function Dk(e,t,n,r){var i=sO(e,(function(e){return Nk(e,t)}));if("number"===n){var a=i.filter((function(e){return Fm(e)||parseFloat(e)}));return a.length?[QP(a),YP(a)]:[1/0,-1/0]}return(r?i.filter((function(e){return!am(e)})):i).map((function(e){return Um(e)||e instanceof Date?e:""}))}var Lk=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Rk(Rk({},e.type.defaultProps),e.props):e.props,a=i.stroke,s=i.fill;switch(r){case"Line":n=a;break;case"Area":case"Radar":n=a&&"none"!==a?a:s;break;default:n=s}return n},Fk=function(e,t,n,r,i){var a=lg(t.props.children,_k).filter((function(e){return function(e,t,n){return!!am(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(a&&a.length){var s=a.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=Nk(t,n);if(am(r))return e;var i=Array.isArray(r)?[QP(r),YP(r)]:[r,r],a=s.reduce((function(e,n){var r=Nk(t,n,0),a=i[0]-Math.abs(Array.isArray(r)?r[0]:r),s=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(a,e[0]),Math.max(s,e[1])]}),[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}),[1/0,-1/0])}return null},Uk=function(e,t,n,r,i){var a=t.map((function(t){var a=t.props.dataKey;return"number"===n&&a&&Fk(e,t,a,r)||Dk(e,a,n,i)}));if("number"===n)return a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var s={};return a.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)s[t[n]]||(s[t[n]]=!0,e.push(t[n]));return e}),[])},jk=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Bk=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,a,s=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate}));return i||s.push(t),a||s.push(n),s},zk=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,a=e.type,s=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===a&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==s?void 0:s.length)>=2?2*Dm(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!Nm(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},Vk=new WeakMap,Hk=function(e,t){if("function"!=typeof t)return e;Vk.has(e)||Vk.set(e,new WeakMap);var n=Vk.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Wk=1e-4,Gk={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=Nm(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Kv(e,t)}},none:Kv,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}Kv(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],h=u[s][1]||0,d=(h-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];d+=(p[s][1]||0)-(p[s-1][1]||0)}l+=h,c+=d*h}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,Kv(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=Nm(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},$k=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=Gk[n],a=function(){var e=Kg([]),t=Jv,n=Kv,r=Zv;function i(i){var a,s,o=Array.from(e.apply(this,arguments),Qv),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=cv(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Kg(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Kg(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Jv:"function"==typeof e?e:Kg(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Kv:e,i):n},i}().keys(r).value((function(e,t){return+Nk(e,t,0)})).order(Jv).offset(i);return a(e)},Xk=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,a=e.entry,s=e.index;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=Nk(a,t.dataKey,t.domain[s]);return am(o)?null:t.scale(o)-i/2+r},qk=function(e,t,n){return Object.keys(e).reduce((function(r,i){var a=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[QP(t.concat([e[0]]).filter(Fm)),YP(t.concat([e[1]]).filter(Fm))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Yk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jk=function(e,t,n){if(ff(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Fm(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Yk.test(e[0])){var i=+Yk.exec(e[0])[1];r[0]=t[0]-i}else ff(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Fm(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Kk.test(e[1])){var a=+Kk.exec(e[1])[1];r[1]=t[1]+a}else ff(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Zk=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=uS(t,(function(e){return e.coordinate})),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},Qk=function(e,t,n){return e&&e.length?lO(e,im(n,"type.defaultProps.domain"))?t:e:t},eR=function(e,t){var n=e.type.defaultProps?Rk(Rk({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,a=n.unit,s=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return Rk(Rk({},dg(e,!1)),{},{dataKey:r,unit:a,formatter:s,name:i||r,color:Lk(e),value:Nk(t,r),type:o,payload:t,chartType:l,hide:c})};function tR(e){return(tR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(n),!0).forEach((function(t){iR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iR(e,t,n){var r;return r=function(e,t){if("object"!=tR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aR=Math.PI/180,sR=function(e){return 180*e/Math.PI},oR=function(e,t,n,r){return{x:e+Math.cos(-aR*r)*n,y:t+Math.sin(-aR*r)*n}},lR=function(e,t){var n=e.x,r=e.y,i=t.cx,a=t.cy,s=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-a,2))}({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:sR(l),angleInRadian:l}},cR=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},uR=function(e,t){var n=e.x,r=e.y,i=lR({x:n,y:r},t),a=i.radius,s=i.angle,o=t.innerRadius,l=t.outerRadius;if(a<o||a>l)return!1;if(0===a)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}}(t),h=u.startAngle,d=u.endAngle,f=s;if(h<=d){for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}else{for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}return c?rR(rR({},t),{},{radius:a,angle:cR(f,t)}):null};function hR(e){return(hR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dR=["offset"];function fR(e){return function(e){if(Array.isArray(e))return pR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gR(Object(n),!0).forEach((function(t){yR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yR(e,t,n){var r;return r=function(e,t){if("object"!=hR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bR(){return bR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bR.apply(this,arguments)}var xR=function(e,t,n){var r,i,a=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,h=c.cy,d=c.innerRadius,f=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,v=(d+f)/2,y=function(e,t){return Dm(t-e)*Math.min(Math.abs(t-e),360)}(p,m),b=y>=0?1:-1;"insideStart"===a?(r=p+b*o,i=g):"insideEnd"===a?(r=m-b*o,i=!g):"end"===a&&(r=m+b*o,i=g),i=y<=0?i:!i;var x=oR(u,h,v,r),w=oR(u,h,v,r+359*(i?1:-1)),_="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(w.x,",").concat(w.y),S=am(e.id)?Bm("recharts-radial-line-"):e.id;return Ne.createElement("text",bR({},n,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",l)}),Ne.createElement("defs",null,Ne.createElement("path",{id:S,d:_})),Ne.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function wR(e){var t,n=e.offset,r=vR({offset:void 0===n?5:n},mR(e,dR)),i=r.viewBox,a=r.position,s=r.value,o=r.children,l=r.content,c=r.className,u=void 0===c?"":c,h=r.textBreakAll;if(!i||am(s)&&am(o)&&!Ie.isValidElement(l)&&!ff(l))return null;if(Ie.isValidElement(l))return Ie.cloneElement(l,r);if(ff(l)){if(t=Ie.createElement(l,r),Ie.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=am(e.children)?t:e.children;return ff(n)?n(r):r}(r);var d=function(e){return"cx"in e&&Fm(e.cx)}(i),f=dg(r,!0);if(d&&("insideStart"===a||"insideEnd"===a||"end"===a))return xR(r,t,f);var p=d?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,a=i.cx,s=i.cy,o=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=oR(a,s,l+n,c),h=u.x;return{x:h,y:u.y,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var d=oR(a,s,(o+l)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,a=t,s=a.x,o=a.y,l=a.width,c=a.height,u=c>=0?1:-1,h=u*r,d=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",v=p>0?"start":"end";if("top"===i)return vR(vR({},{x:s+l/2,y:o-u*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===i)return vR(vR({},{x:s+l/2,y:o+c+h,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===i){var y={x:s-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return vR(vR({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===i){var b={x:s+l+m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return vR(vR({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?vR({x:s+m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},x):"insideRight"===i?vR({x:s+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?vR({x:s+l/2,y:o+h,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===i?vR({x:s+l/2,y:o+c-h,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===i?vR({x:s+m,y:o+h,textAnchor:v,verticalAnchor:f},x):"insideTopRight"===i?vR({x:s+l-m,y:o+h,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===i?vR({x:s+m,y:o+c-h,textAnchor:v,verticalAnchor:d},x):"insideBottomRight"===i?vR({x:s+l-m,y:o+c-h,textAnchor:g,verticalAnchor:d},x):cf(i)&&(Fm(i.x)||Lm(i.x))&&(Fm(i.y)||Lm(i.y))?vR({x:s+zm(i.x,l),y:o+zm(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):vR({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return Ne.createElement(lE,bR({className:Vt("recharts-label",u)},f,p,{breakAll:h}),t)}wR.displayName="Label";var _R=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,a=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,h=e.y,d=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(Fm(p)&&Fm(m)){if(Fm(u)&&Fm(h))return{x:u,y:h,width:p,height:m};if(Fm(d)&&Fm(f))return{x:d,y:f,width:p,height:m}}return Fm(u)&&Fm(h)?{x:u,y:h,width:0,height:0}:Fm(t)&&Fm(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};wR.parseViewBox=_R,wR.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=_R(e),a=lg(r,wR).map((function(e,n){return Ie.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?Ne.createElement(wR,{key:"label-implicit",viewBox:t}):Um(e)?Ne.createElement(wR,{key:"label-implicit",viewBox:t,value:e}):Ie.isValidElement(e)?e.type===wR?Ie.cloneElement(e,{key:"label-implicit",viewBox:t}):Ne.createElement(wR,{key:"label-implicit",content:e,viewBox:t}):ff(e)?Ne.createElement(wR,{key:"label-implicit",content:e,viewBox:t}):cf(e)?Ne.createElement(wR,bR({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[s].concat(fR(a))};const SR=Fe((function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function TR(e){return(TR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ER=["valueAccessor"],MR=["data","dataKey","clockWise","id","textBreakAll"];function AR(e){return function(e){if(Array.isArray(e))return CR(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return CR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PR(){return PR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PR.apply(this,arguments)}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OR(Object(n),!0).forEach((function(t){RR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RR(e,t,n){var r;return r=function(e,t){if("object"!=TR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==TR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var NR=function(e){return Array.isArray(e.value)?SR(e.value):e.value};function DR(e){var t=e.valueAccessor,n=void 0===t?NR:t,r=IR(e,ER),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=IR(r,MR);return i&&i.length?Ne.createElement(Sg,{className:"recharts-label-list"},i.map((function(e,t){var r=am(a)?n(e,t):Nk(e&&e.payload,a),i=am(o)?{}:{id:"".concat(o,"-").concat(t)};return Ne.createElement(wR,PR({},dg(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:wR.parseViewBox(am(s)?e:kR(kR({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}function LR(e){return(LR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FR(){return FR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FR.apply(this,arguments)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UR(Object(n),!0).forEach((function(t){BR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BR(e,t,n){var r;return r=function(e,t){if("object"!=LR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==LR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}DR.displayName="LabelList",DR.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=lg(e.children,DR).map((function(e,n){return Ie.cloneElement(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?Ne.createElement(DR,{key:"labelList-implicit",data:t}):Ne.isValidElement(e)||ff(e)?Ne.createElement(DR,{key:"labelList-implicit",data:t,content:e}):cf(e)?Ne.createElement(DR,PR({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(AR(r)):r};var zR=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,a=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+r,u=Math.asin(o/c)/aR,h=l?i:i+a*u,d=l?i-a*u:i;return{center:oR(t,n,c,h),circleTangency:oR(t,n,r,h),lineTangency:oR(t,n,c*Math.cos(u*aR),d),theta:u}},VR=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.startAngle,s=function(e,t){return Dm(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),o=a+s,l=oR(t,n,i,a),c=oR(t,n,i,o),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=oR(t,n,r,a),d=oR(t,n,r,o);u+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=o),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},HR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WR=function(e){var t=jR(jR({},HR),e),n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,h=t.className;if(a<i||c===u)return null;var d,f=Vt("recharts-sector",h),p=a-i,m=zm(s,p,0,!0);return d=m>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Dm(c-l),h=zR({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),d=h.circleTangency,f=h.lineTangency,p=h.theta,m=zR({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),g=m.circleTangency,v=m.lineTangency,y=m.theta,b=o?Math.abs(l-c):Math.abs(l-c)-p-y;if(b<0)return s?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):VR({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var w=zR({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=w.circleTangency,S=w.lineTangency,T=w.theta,E=zR({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),M=E.circleTangency,A=E.lineTangency,C=E.theta,P=o?Math.abs(l-c):Math.abs(l-c)-T-C;if(P<0&&0===a)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(A.x,",").concat(A.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(M.x,",").concat(M.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):VR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),Ne.createElement("path",FR({},dg(t,!0),{className:f,d:d,role:"img"}))};function GR(e){return(GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $R(){return $R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$R.apply(this,arguments)}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XR(Object(n),!0).forEach((function(t){YR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YR(e,t,n){var r;return r=function(e,t){if("object"!=GR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==GR(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KR={curveBasisClosed:function(e){return new Fv(e)},curveBasisOpen:function(e){return new Uv(e)},curveBasis:function(e){return new Lv(e)},curveBumpX:function(e){return new gv(e,!0)},curveBumpY:function(e){return new gv(e,!1)},curveLinearClosed:function(e){return new jv(e)},curveLinear:hv,curveMonotoneX:function(e){return new Wv(e)},curveMonotoneY:function(e){return new Gv(e)},curveNatural:function(e){return new Xv(e)},curveStep:function(e){return new Yv(e,.5)},curveStepAfter:function(e){return new Yv(e,1)},curveStepBefore:function(e){return new Yv(e,0)}},JR=function(e){return e.x===+e.x&&e.y===+e.y},ZR=function(e){return e.x},QR=function(e){return e.y},eI=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,a=void 0===i?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(ff(e))return e;var n="curve".concat(Yg(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?KR[n]||hv:KR["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),h=c?a.filter((function(e){return JR(e)})):a;if(Array.isArray(s)){var d=c?s.filter((function(e){return JR(e)})):s,f=h.map((function(e,t){return qR(qR({},e),{},{base:d[t]})}));return(t="vertical"===o?mv().y(QR).x1(ZR).x0((function(e){return e.base.x})):mv().x(ZR).y1(QR).y0((function(e){return e.base.y}))).defined(JR).curve(u),t(f)}return(t="vertical"===o&&Fm(s)?mv().y(QR).x1(ZR).x0(s):Fm(s)?mv().x(ZR).y1(QR).y0(s):pv().x(ZR).y(QR)).defined(JR).curve(u),t(h)},tI=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var a=n&&n.length?eI(e):r;return Ne.createElement("path",$R({},dg(e,!1),Zm(e),{className:Vt("recharts-curve",t),d:a,ref:i}))},nI={exports:{}};function rI(){}function iI(){}iI.resetWarningCache=rI;nI.exports=function(){function e(e,t,n,r,i,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iI,resetWarningCache:rI};return n.PropTypes=n,n}();const aI=Fe(nI.exports);var sI=Object.getOwnPropertyNames,oI=Object.getOwnPropertySymbols,lI=Object.prototype.hasOwnProperty;function cI(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function uI(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var i=r.cache,a=i.get(t),s=i.get(n);if(a&&s)return a===n&&s===t;i.set(t,n),i.set(n,t);var o=e(t,n,r);return i.delete(t),i.delete(n),o}}function hI(e){return sI(e).concat(oI(e))}var dI=Object.hasOwn||function(e,t){return lI.call(e,t)};function fI(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var pI=Object.getOwnPropertyDescriptor,mI=Object.keys;function gI(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function vI(e,t){return fI(e.getTime(),t.getTime())}function yI(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function bI(e,t){return e===t}function xI(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,s=new Array(r),o=e.entries(),l=0;(i=o.next())&&!i.done;){for(var c=t.entries(),u=!1,h=0;(a=c.next())&&!a.done;)if(s[h])h++;else{var d=i.value,f=a.value;if(n.equals(d[0],f[0],l,h,e,t,n)&&n.equals(d[1],f[1],d[0],f[0],e,t,n)){u=s[h]=!0;break}h++}if(!u)return!1;l++}return!0}var wI=fI;function _I(e,t,n){var r=mI(e),i=r.length;if(mI(t).length!==i)return!1;for(;i-- >0;)if(!PI(e,t,n,r[i]))return!1;return!0}function SI(e,t,n){var r,i,a,s=hI(e),o=s.length;if(hI(t).length!==o)return!1;for(;o-- >0;){if(!PI(e,t,n,r=s[o]))return!1;if(i=pI(e,r),a=pI(t,r),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable))return!1}return!0}function TI(e,t){return fI(e.valueOf(),t.valueOf())}function EI(e,t){return e.source===t.source&&e.flags===t.flags}function MI(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,s=new Array(r),o=e.values();(i=o.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!s[u]&&n.equals(i.value,a.value,i.value,a.value,e,t,n)){c=s[u]=!0;break}u++}if(!c)return!1}return!0}function AI(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function CI(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function PI(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||dI(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var OI=Array.isArray,kI="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,RI=Object.assign,II=Object.prototype.toString.call.bind(Object.prototype.toString);var NI=DI();function DI(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,a=e.createState,s=e.strict,o=void 0!==s&&s,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?SI:gI,areDatesEqual:vI,areErrorsEqual:yI,areFunctionsEqual:bI,areMapsEqual:r?cI(xI,SI):xI,areNumbersEqual:wI,areObjectsEqual:r?SI:_I,arePrimitiveWrappersEqual:TI,areRegExpsEqual:EI,areSetsEqual:r?cI(MI,SI):MI,areTypedArraysEqual:r?SI:AI,areUrlsEqual:CI};if(n&&(i=RI({},i,n(i))),t){var a=uI(i.areArraysEqual),s=uI(i.areMapsEqual),o=uI(i.areObjectsEqual),l=uI(i.areSetsEqual);i=RI({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,d=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?s(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return o(e,f,p);if(OI(e))return t(e,f,p);if(null!=kI&&kI(e))return h(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return a(e,f,p);if(g===Set)return u(e,f,p);var v=II(e);return"[object Date]"===v?n(e,f,p):"[object RegExp]"===v?c(e,f,p):"[object Map]"===v?a(e,f,p):"[object Set]"===v?u(e,f,p):"[object Object]"===v?"function"!=typeof e.then&&"function"!=typeof f.then&&o(e,f,p):"[object URL]"===v?d(e,f,p):"[object Error]"===v?r(e,f,p):"[object Arguments]"===v?o(e,f,p):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&l(e,f,p)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(e,s){var o=r(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,u=o.meta;return n(e,s,{cache:c,equals:i,meta:u,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(e,t){return n(e,t,s)}}({circular:r,comparator:c,createState:a,equals:i?i(c):(t=c,function(e,n,r,i,a,s,o){return t(e,n,o)}),strict:o})}function LI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function FI(e){return(FI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UI(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BI(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=UI(r),a=i[0],s=i.slice(1);return"number"==typeof a?void LI(n.bind(null,s),a):(n(a),void LI(n.bind(null,s)))}"object"===FI(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function zI(e){return(zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VI(Object(n),!0).forEach((function(t){WI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==zI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zI(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}DI({strict:!0}),DI({circular:!0}),DI({circular:!0,strict:!0}),DI({createInternalComparator:function(){return fI}}),DI({strict:!0,createInternalComparator:function(){return fI}}),DI({circular:!0,createInternalComparator:function(){return fI}}),DI({circular:!0,createInternalComparator:function(){return fI},strict:!0});var GI=function(e){return e},$I=function(e,t){return Object.keys(t).reduce((function(n,r){return HI(HI({},n),{},WI({},r,e(r,t[r])))}),{})},XI=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function qI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||KI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YI(e){return function(e){if(Array.isArray(e))return JI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||KI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KI(e,t){if(e){if("string"==typeof e)return JI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JI(e,t):void 0}}function JI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZI=1e-4,QI=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},eN=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},tN=function(e,t){return function(n){var r=QI(e,t);return eN(r,n)}},nN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,a=1,s=1;break;case"ease":r=.25,i=.1,a=.25,s=1;break;case"ease-in":r=.42,i=0,a=1,s=1;break;case"ease-out":r=.42,i=0,a=.58,s=1;break;case"ease-in-out":r=0,i=0,a=.58,s=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=qI(o[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],i=l[1],a=l[2],s=l[3]}}var c,u,h=tN(r,a),d=tN(i,s),f=(c=r,u=a,function(e){var t=QI(c,u),n=[].concat(YI(t.map((function(e,t){return e*t})).slice(1)),[0]);return eN(n,e)}),p=function(e){for(var t,n=e>1?1:e,r=n,i=0;i<8;++i){var a=h(r)-n,s=f(r);if(Math.abs(a-n)<ZI||s<ZI)return d(r);r=(t=r-a/s)>1?1:t<0?0:t}return d(r)};return p.isStepper=!1,p},rN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nN(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,a=e.dt,s=void 0===a?17:a,o=function(e,t,r){var a=r+(-(e-t)*n-r*i)*s/1e3,o=r*s/1e3+e;return Math.abs(o-t)<ZI&&Math.abs(a)<ZI?[t,0]:[o,a]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===r.split("(")[0])return nN(r)}return"function"==typeof r?r:null};function iN(e){return(iN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aN(e){return function(e){if(Array.isArray(e))return hN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sN(Object(n),!0).forEach((function(t){lN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==iN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==iN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||uN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uN(e,t){if(e){if("string"==typeof e)return hN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hN(e,t):void 0}}function hN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dN=function(e,t,n){return e+(t-e)*n},fN=function(e){return e.from!==e.to},pN=function e(t,n,r){var i=$I((function(e,n){if(fN(n)){var r=cN(t(n.from,n.to,n.velocity),2),i=r[0],a=r[1];return oN(oN({},n),{},{from:i,velocity:a})}return n}),n);return r<1?$I((function(e,t){return fN(t)?oN(oN({},t),{},{velocity:dN(t.velocity,i[e].velocity,r),from:dN(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const mN=function(e,t,n,r,i){var a,s,o,l,c=(a=e,s=t,[Object.keys(a),Object.keys(s)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return oN(oN({},n),{},lN({},r,[e[r],t[r]]))}),{}),h=c.reduce((function(n,r){return oN(oN({},n),{},lN({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),d=-1,f=function(){return null};return f=n.isStepper?function(r){o||(o=r);var a=(r-o)/n.dt;h=pN(n,h,a),i(oN(oN(oN({},e),t),$I((function(e,t){return t.from}),h))),o=r,Object.values(h).filter(fN).length&&(d=requestAnimationFrame(f))}:function(a){l||(l=a);var s=(a-l)/r,o=$I((function(e,t){return dN.apply(void 0,aN(t).concat([n(s)]))}),u);if(i(oN(oN(oN({},e),t),o)),s<1)d=requestAnimationFrame(f);else{var c=$I((function(e,t){return dN.apply(void 0,aN(t).concat([n(1)]))}),u);i(oN(oN(oN({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(d)}}};function gN(e){return(gN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vN=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bN(e){return function(e){if(Array.isArray(e))return xN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(n),!0).forEach((function(t){SN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SN(e,t,n){return(t=EN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TN(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EN(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EN(e){var t=function(e,t){if("object"!==gN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gN(t)?t:String(t)}function MN(e,t){return(MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ON(e);if(t){var i=ON(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CN(this,n)}}function CN(e,t){if(t&&("object"===gN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return PN(e)}function PN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ON(e){return(ON=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kN=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}(t,Ie.PureComponent);var e=AN(t);function t(n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=(i=e.call(this,n,r)).props,s=a.isActive,o=a.attributeName,l=a.from,c=a.to,u=a.steps,h=a.children,d=a.duration;if(i.handleStyleChange=i.handleStyleChange.bind(PN(i)),i.changeStyle=i.changeStyle.bind(PN(i)),!s||d<=0)return i.state={style:{}},"function"==typeof h&&(i.state={style:c}),CN(i);if(u&&u.length)i.state={style:u[0].style};else if(l){if("function"==typeof h)return i.state={style:l},CN(i);i.state={style:o?SN({},o,l):l}}else i.state={style:{}};return i}return TN(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,a=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(NI(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||a?o:e.to;if(this.state&&l){var h={style:i?SN({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(h)}this.runAnimation(_N(_N({},this.props),{},{from:u,begin:0}))}}else{var d={style:i?SN({},i,s):s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,a=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=mN(n,r,rN(a),i,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},i,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,a=n[0],s=a.style,o=a.duration,l=void 0===o?0:o;return this.manager.start([i].concat(bN(n.reduce((function(e,r,i){if(0===i)return e;var a=r.duration,s=r.easing,o=void 0===s?"ease":s,l=r.style,c=r.properties,u=r.onAnimationEnd,h=i>0?n[i-1]:r,d=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(bN(e),[t.runJSAnimation.bind(t,{from:h.style,to:l,duration:a,easing:o}),a]);var f=XI(d,a,o),p=_N(_N(_N({},h.style),l),{},{transition:f});return[].concat(bN(e),[p,a,u]).filter(GI)}),[s,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=BI());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,a=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof a&&"function"!=typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var h=r?SN({},r,i):i,d=XI(Object.keys(h),n,a);u.start([s,t,_N(_N({},h),{},{transition:d}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=yN(e,vN),a=Ie.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!r||0===a||n<=0)return t;var o=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return Ie.cloneElement(e,_N(_N({},i),{},{style:_N(_N({},r),s),className:a}))};return 1===a?o(Ie.Children.only(t)):Ne.createElement("div",null,Ie.Children.map(t,(function(e){return o(e)})))}}]),t}();function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(null,arguments)}function IN(e){return(IN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NN.apply(this,arguments)}function DN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FN(Object(n),!0).forEach((function(t){jN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jN(e,t,n){var r;return r=function(e,t){if("object"!=IN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==IN(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}kN.displayName="Animate",kN.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},kN.propTypes={from:aI.oneOfType([aI.object,aI.string]),to:aI.oneOfType([aI.object,aI.string]),attributeName:aI.string,duration:aI.number,begin:aI.number,easing:aI.oneOfType([aI.string,aI.func]),steps:aI.arrayOf(aI.shape({duration:aI.number.isRequired,style:aI.object.isRequired,easing:aI.oneOfType([aI.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),aI.func]),properties:aI.arrayOf("string"),onAnimationEnd:aI.func})),children:aI.oneOfType([aI.node,aI.func]),isActive:aI.bool,canBegin:aI.bool,onAnimationEnd:aI.func,shouldReAnimate:aI.bool,onAnimationStart:aI.func,onAnimationReStart:aI.func};var BN=function(e,t,n,r,i){var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=i[h]>s?s:i[h];a="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),a+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var d=Math.min(s,i);a="M ".concat(e,",").concat(t+o*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*d,"\n            L ").concat(e+n,",").concat(t+r-o*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*d," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},zN=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,a=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(i,i+s),c=Math.max(i,i+s),u=Math.min(a,a+o),h=Math.max(a,a+o);return n>=l&&n<=c&&r>=u&&r<=h}return!1},VN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HN=function(e){var t=UN(UN({},VN),e),n=Ie.useRef(),r=DN(Ie.useState(-1),2),i=r[0],a=r[1];Ie.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,o=t.y,l=t.width,c=t.height,u=t.radius,h=t.className,d=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var v=Vt("recharts-rectangle",h);return g?Ne.createElement(kN,{canBegin:i>0,from:{width:l,height:c,x:s,y:o},to:{width:l,height:c,x:s,y:o},duration:f,animationEasing:d,isActive:g},(function(e){var r=e.width,a=e.height,s=e.x,o=e.y;return Ne.createElement(kN,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:d},Ne.createElement("path",NN({},dg(t,!0),{className:v,d:BN(s,o,r,a,u),ref:n})))})):Ne.createElement("path",NN({},dg(t,!0),{className:v,d:BN(s,o,l,c,u)}))};function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(this,arguments)}var GN=function(e){var t=e.cx,n=e.cy,r=e.r,i=Vt("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?Ne.createElement("circle",WN({},dg(e,!1),Zm(e),{className:i,cx:t,cy:n,r:r})):null};function $N(e){return($N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var XN=["x","y","top","left","width","height","className"];function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(this,arguments)}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KN(e,t,n){var r;return r=function(e,t){if("object"!=$N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$N(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ZN=function(e,t,n,r,i,a){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n)},QN=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,a=e.top,s=void 0===a?0:a,o=e.left,l=void 0===o?0:o,c=e.width,u=void 0===c?0:c,h=e.height,d=void 0===h?0:h,f=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YN(Object(n),!0).forEach((function(t){KN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:i,top:s,left:l,width:u,height:d},JN(e,XN));return Fm(n)&&Fm(i)&&Fm(u)&&Fm(d)&&Fm(s)&&Fm(l)?Ne.createElement("path",qN({},dg(p,!0),{className:Vt("recharts-cross",f),d:ZN(n,i,u,d,s,l)})):null},eD=Qb(Object.getPrototypeOf,Object),tD=Jd,nD=eD,rD=Zd,iD=Function.prototype,aD=Object.prototype,sD=iD.toString,oD=aD.hasOwnProperty,lD=sD.call(Object);const cD=Fe((function(e){if(!rD(e)||"[object Object]"!=tD(e))return!1;var t=nD(e);if(null===t)return!0;var n=oD.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&sD.call(n)==lD}));var uD=Jd,hD=Zd;const dD=Fe((function(e){return!0===e||!1===e||hD(e)&&"[object Boolean]"==uD(e)}));function fD(e){return(fD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pD(){return pD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pD.apply(this,arguments)}function mD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vD(Object(n),!0).forEach((function(t){bD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bD(e,t,n){var r;return r=function(e,t){if("object"!=fD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fD(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xD=function(e,t,n,r,i){var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},wD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_D=function(e){var t=yD(yD({},wD),e),n=Ie.useRef(),r=mD(Ie.useState(-1),2),i=r[0],a=r[1];Ie.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,o=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,h=t.className,d=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isUpdateAnimationActive;if(s!==+s||o!==+o||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=Vt("recharts-trapezoid",h);return m?Ne.createElement(kN,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:o},duration:f,animationEasing:d,isActive:m},(function(e){var r=e.upperWidth,a=e.lowerWidth,s=e.height,o=e.x,l=e.y;return Ne.createElement(kN,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:d},Ne.createElement("path",pD({},dg(t,!0),{className:g,d:xD(o,l,r,a,s),ref:n})))})):Ne.createElement("g",null,Ne.createElement("path",pD({},dg(t,!0),{className:g,d:xD(s,o,l,c,u)})))},SD=["option","shapeType","propTransformer","activeClassName","isActive"];function TD(e){return(TD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ED(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MD(Object(n),!0).forEach((function(t){CD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CD(e,t,n){var r;return r=function(e,t){if("object"!=TD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==TD(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PD(e,t){return AD(AD({},t),e)}function OD(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Ne.createElement(HN,n);case"trapezoid":return Ne.createElement(_D,n);case"sector":return Ne.createElement(WR,n);case"symbols":if(function(e){return"symbols"===e}(t))return Ne.createElement(cy,n);break;default:return null}}function kD(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,a=void 0===i?PD:i,s=e.activeClassName,o=void 0===s?"recharts-active-shape":s,l=e.isActive,c=ED(e,SD);if(Ie.isValidElement(n))t=Ie.cloneElement(n,AD(AD({},c),function(e){return Ie.isValidElement(e)?e.props:e}(n)));else if(ff(n))t=n(c);else if(cD(n)&&!dD(n)){var u=a(n,c);t=Ne.createElement(OD,{shapeType:r,elementProps:u})}else{var h=c;t=Ne.createElement(OD,{shapeType:r,elementProps:h})}return l?Ne.createElement(Sg,{className:o},t):t}function RD(e,t){return null!=t&&"trapezoids"in e.props}function ID(e,t){return null!=t&&"sectors"in e.props}function ND(e,t){return null!=t&&"points"in e.props}function DD(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,a=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&a}function LD(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function FD(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function UD(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return RD(e,t)?n="trapezoids":ID(e,t)?n="sectors":ND(e,t)&&(n="points"),n}(n,t),a=function(e,t){var n,r;return RD(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ID(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:ND(e,t)?t.payload:{}}(n,t),s=r.filter((function(e,r){var s=lO(a,e),o=n.props[i].filter((function(e){var r=function(e,t){var n;return RD(e,t)?n=DD:ID(e,t)?n=LD:ND(e,t)&&(n=FD),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(o[o.length-1]);return s&&r===l}));return r.indexOf(s[s.length-1])}var jD=Math.ceil,BD=Math.max;var zD=oT,VD=1/0;var HD=function(e){return e?(e=zD(e))===VD||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},WD=function(e,t,n,r){for(var i=-1,a=BD(jD((t-e)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=e,e+=n;return s},GD=sS,$D=HD;const XD=Fe(function(e){return function(t,n,r){return r&&"number"!=typeof r&&GD(t,n,r)&&(n=r=void 0),t=$D(t),void 0===n?(n=t,t=0):n=$D(n),r=void 0===r?t<n?1:-1:$D(r),WD(t,n,r,e)}}());function qD(e){return(qD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YD(Object(n),!0).forEach((function(t){JD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JD(e,t,n){var r;return r=function(e,t){if("object"!=qD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qD(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZD=["Webkit","Moz","O","ms"];function QD(e){return(QD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eL(){return eL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eL.apply(this,arguments)}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(n),!0).forEach((function(t){lL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cL(r.key),r)}}function iL(e,t,n){return t=sL(t),function(e,t){if(t&&("object"===QD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aL()?Reflect.construct(t,n||[],sL(e).constructor):t.apply(e,n))}function aL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aL=function(){return!!e})()}function sL(e){return(sL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oL(e,t){return(oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lL(e,t,n){return(t=cL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cL(e){var t=function(e,t){if("object"!=QD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QD(t)?t:t+""}var uL=function(e){return e.changedTouches&&!!e.changedTouches.length},hL=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lL(n=iL(this,e,[t]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),lL(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),lL(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),lL(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),lL(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),lL(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),lL(n,"handleSlideDragStart",(function(e){var t=uL(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oL(e,t)}(e,Ie.PureComponent),t=e,r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.stroke,s=Math.floor(n+i/2)-1;return Ne.createElement(Ne.Fragment,null,Ne.createElement("rect",{x:t,y:n,width:r,height:i,fill:a,stroke:"none"}),Ne.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),Ne.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return Ne.isValidElement(t)?Ne.cloneElement(t,n):ff(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,a=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||s!==t.prevUpdateId)return nL({prevData:n,prevTravellerWidth:a,prevUpdateId:s,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,a=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=FE().domain(XD(0,o)).range([i,i+a-s]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:a,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([i,i+r-a]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:a,prevUpdateId:s,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,a=this.props,s=a.gap,o=a.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),h=e.getIndexInRange(i,c);return{startIndex:u-u%s,endIndex:h===o?o:h-h%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,a=Nk(n[e],i,e);return ff(r)?r(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,a=this.props,s=a.x,o=a.width,l=a.travellerWidth,c=a.startIndex,u=a.endIndex,h=a.onChange,d=e.pageX-n;d>0?d=Math.min(d,s+o-l-i,s+o-l-r):d<0&&(d=Math.max(d,s-r,s-i));var f=this.getIndex({startX:r+d,endX:i+d});f.startIndex===c&&f.endIndex===u||!h||h(f),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=uL(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,a=t.startX,s=this.state[r],o=this.props,l=o.x,c=o.width,u=o.travellerWidth,h=o.onChange,d=o.gap,f=o.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-s):m<0&&(m=Math.max(m,l-s)),p[r]=s+m;var g=this.getIndex(p),v=g.startIndex,y=g.endIndex;this.setState(lL(lL({},r,s+m),"brushMoveStartX",e.pageX),(function(){var e;h&&(e=f.length-1,("startX"===r&&(i>a?v%d===0:y%d===0)||i<a&&y===e||"endX"===r&&(i>a?y%d===0:v%d===0)||i>a&&y===e)&&h(g))}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,a=r.startX,s=r.endX,o=this.state[t],l=i.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=s||"endX"===t&&u<=a||this.setState(lL({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,a=e.fill,s=e.stroke;return Ne.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,a=e.data,s=e.children,o=e.padding,l=Ie.Children.only(s);return l?Ne.cloneElement(l,{x:t,y:n,width:r,height:i,margin:o,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,a=this,s=this.props,o=s.y,l=s.travellerWidth,c=s.height,u=s.traveller,h=s.ariaLabel,d=s.data,f=s.startIndex,p=s.endIndex,m=Math.max(t,this.props.x),g=nL(nL({},dg(this.props,!1)),{},{x:m,y:o,width:l,height:c}),v=h||"Min value: ".concat(null===(r=d[f])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=d[p])||void 0===i?void 0:i.name);return Ne.createElement(Sg,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,a=n.stroke,s=n.travellerWidth,o=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return Ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:o,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,a=e.travellerWidth,s=e.stroke,o=this.state,l=o.startX,c=o.endX,u={pointerEvents:"none",fill:s};return Ne.createElement(Sg,{className:"recharts-brush-texts"},Ne.createElement(lE,eL({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+i/2},u),this.getTextOfTick(t)),Ne.createElement(lE,eL({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+a+5,y:r+i/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,a=e.y,s=e.width,o=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,h=c.endX,d=c.isTextActive,f=c.isSlideMoving,p=c.isTravellerMoving,m=c.isTravellerFocused;if(!t||!t.length||!Fm(i)||!Fm(a)||!Fm(s)||!Fm(o)||s<=0||o<=0)return null;var g,v,y,b,x=Vt("recharts-brush",n),w=1===Ne.Children.count(r),_=(v="none",y=(g="userSelect").replace(/(\w)/,(function(e){return e.toUpperCase()})),(b=ZD.reduce((function(e,t){return KD(KD({},e),{},JD({},t+y,v))}),{}))[g]=v,b);return Ne.createElement(Sg,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(u,h),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(h,"endX"),(d||f||p||m||l)&&this.renderText())}}])&&rL(t.prototype,n),r&&rL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();lL(hL,"displayName","Brush"),lL(hL,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dL=M_;var fL=jy,pL=Dw,mL=function(e,t){var n;return dL(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n},gL=Dd,vL=sS;const yL=Fe((function(e,t,n){var r=gL(e)?fL:mL;return n&&vL(e,t,n)&&(t=void 0),r(e,pL(t))}));var bL=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},xL=X_;var wL=function(e,t,n){"__proto__"==t&&xL?xL(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},_L=T_,SL=Dw;const TL=Fe((function(e,t){var n={};return t=SL(t),_L(e,(function(e,r,i){wL(n,r,t(e,r,i))})),n}));var EL=M_;var ML=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},AL=function(e,t){var n=!0;return EL(e,(function(e,r,i){return n=!!t(e,r,i)})),n},CL=Dw,PL=Dd,OL=sS;const kL=Fe((function(e,t,n){var r=PL(e)?ML:AL;return n&&OL(e,t,n)&&(t=void 0),r(e,CL(t))}));var RL=["x","y"];function IL(e){return(IL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NL(){return NL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NL.apply(this,arguments)}function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DL(Object(n),!0).forEach((function(t){FL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FL(e,t,n){var r;return r=function(e,t){if("object"!=IL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==IL(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jL(e,t){var n=e.x,r=e.y,i=UL(e,RL),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),h="".concat(t.width||i.width),d=parseInt(h,10);return LL(LL(LL(LL(LL({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:d,name:t.name,radius:t.radius})}function BL(e){return Ne.createElement(kD,NL({shapeType:"rectangle",propTransformer:jL,activeClassName:"recharts-active-bar"},e))}var zL,VL=["value","background"];function HL(e){return(HL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GL(){return GL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GL.apply(this,arguments)}function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$L(Object(n),!0).forEach((function(t){QL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eF(r.key),r)}}function YL(e,t,n){return t=JL(t),function(e,t){if(t&&("object"===HL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KL()?Reflect.construct(t,n||[],JL(e).constructor):t.apply(e,n))}function KL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(KL=function(){return!!e})()}function JL(e){return(JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZL(e,t){return(ZL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function QL(e,t,n){return(t=eF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eF(e){var t=function(e,t){if("object"!=HL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HL(t)?t:t+""}var tF=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return QL(t=YL(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),QL(t,"id",Bm("recharts-bar-")),QL(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),QL(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZL(e,t)}(e,Ie.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,a=n.activeIndex,s=n.activeBar,o=dg(this.props,!1);return e&&e.map((function(e,n){var l=n===a,c=l?s:r,u=XL(XL(XL({},o),e),{},{isActive:l,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return Ne.createElement(Sg,GL({className:"recharts-bar-rectangle"},Qm(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),Ne.createElement(BL,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return Ne.createElement(kN,{begin:a,duration:s,isActive:i,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,a=n.map((function(e,t){var n=c&&c[t];if(n){var a=Hm(n.x,e.x),s=Hm(n.y,e.y),o=Hm(n.width,e.width),l=Hm(n.height,e.height);return XL(XL({},e),{},{x:a(i),y:s(i),width:o(i),height:l(i)})}if("horizontal"===r){var u=Hm(0,e.height)(i);return XL(XL({},e),{},{y:e.y+e.height-u,height:u})}var h=Hm(0,e.width)(i);return XL(XL({},e),{},{width:h})}));return Ne.createElement(Sg,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&lO(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,a=dg(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,o=WL(t,VL);if(!s)return null;var l=XL(XL(XL(XL(XL({},o),{},{fill:"#eee"},s),a),Qm(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return Ne.createElement(BL,GL({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,a=n.yAxis,s=n.layout,o=lg(n.children,_k);if(!o)return null;var l="vertical"===s?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Nk(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Ne.createElement(Sg,u,o.map((function(e){return Ne.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:a,layout:s,offset:l,dataPointFormatter:c})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,a=e.yAxis,s=e.left,o=e.top,l=e.width,c=e.height,u=e.isAnimationActive,h=e.background,d=e.id;if(t||!n||!n.length)return null;var f=this.state.isAnimationFinished,p=Vt("recharts-bar",r),m=i&&i.allowDataOverflow,g=a&&a.allowDataOverflow,v=m||g,y=am(d)?this.id:d;return Ne.createElement(Sg,{className:p},m||g?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(y)},Ne.createElement("rect",{x:m?s:s-l/2,y:g?o:o-c/2,width:m?l:2*l,height:g?c:2*c}))):null,Ne.createElement(Sg,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(y,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,y),(!u||f)&&DR.renderCallByParent(this.props,n))}}])&&qL(t.prototype,n),r&&qL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function nF(e){return(nF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oF(r.key),r)}}function iF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iF(Object(n),!0).forEach((function(t){sF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sF(e,t,n){return(t=oF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oF(e){var t=function(e,t){if("object"!=nF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nF(t)?t:t+""}zL=tF,QL(tF,"displayName","Bar"),QL(tF,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!FS.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),QL(tF,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,h=e.displayedData,d=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?XL(XL({},m),n.props):n.props,v=g.dataKey,y=g.children,b=g.minPointSize,x="horizontal"===p?s:a,w=c?x.scale.domain():null,_=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),S=lg(y,ET),T=h.map((function(e,t){var r,h,d,m,g,y;c?r=function(e,t){if(!t||2!==t.length||!Fm(t[0])||!Fm(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Fm(e[0])||e[0]<n)&&(i[0]=n),(!Fm(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=Nk(e,v),Array.isArray(r)||(r=[_,r]));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i="number"==typeof n;return i?e(n,r):(i||lk(),t)}}(b,zL.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var T,E=[s.scale(r[0]),s.scale(r[1])],M=E[0],A=E[1];h=Xk({axis:a,ticks:o,bandSize:i,offset:f.offset,entry:e,index:t}),d=null!==(T=null!=A?A:M)&&void 0!==T?T:void 0,m=f.size;var C=M-A;if(g=Number.isNaN(C)?0:C,y={x:h,y:s.y,width:m,height:s.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var P=Dm(g||x)*(Math.abs(x)-Math.abs(g));d-=P,g+=P}}else{var O=[a.scale(r[0]),a.scale(r[1])],k=O[0],R=O[1];if(h=k,d=Xk({axis:s,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=R-k,g=f.size,y={x:a.x,y:d,width:a.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=Dm(m||x)*(Math.abs(x)-Math.abs(m))}return XL(XL(XL({},e),{},{x:h,y:d,width:m,height:g,value:c?r:r[1],payload:e,background:y},S&&S[t]&&S[t].props),{},{tooltipPayload:[eR(n,e)],tooltipPosition:{x:h+m/2,y:d+g/2}})}));return XL({data:T,layout:p},d)}));var lF=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},cF=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&rF(t.prototype,n),r&&rF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();sF(cF,"EPS",1e-4);var uF=function(e){var t=Object.keys(e).reduce((function(t,n){return aF(aF({},t),{},sF({},n,cF.create(e[n])))}),{});return aF(aF({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return TL(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return kL(e,(function(e,n){return t[n].isInRange(e)}))}})};var hF=Dw,dF=sx,fF=ux;var pF=function(e){return function(t,n,r){var i=Object(t);if(!dF(t)){var a=hF(n);t=fF(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:void 0}},mF=HD;var gF=Lw,vF=Dw,yF=function(e){var t=mF(e),n=t%1;return t==t?n?t-n:t:0},bF=Math.max;const xF=Fe(pF((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yF(n);return i<0&&(i=bF(r+i,0)),gF(e,vF(t),i)})));var wF=Rp((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")})),_F=Ie.createContext(void 0),SF=Ie.createContext(void 0),TF=Ie.createContext(void 0),EF=Ie.createContext({}),MF=Ie.createContext(void 0),AF=Ie.createContext(0),CF=Ie.createContext(0),PF=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,a=e.clipPathId,s=e.children,o=e.width,l=e.height,c=wF(i);return Ne.createElement(_F.Provider,{value:n},Ne.createElement(SF.Provider,{value:r},Ne.createElement(EF.Provider,{value:i},Ne.createElement(TF.Provider,{value:c},Ne.createElement(MF.Provider,{value:a},Ne.createElement(AF.Provider,{value:l},Ne.createElement(CF.Provider,{value:o},s)))))))},OF=function(e){var t=Ie.useContext(_F);null==t&&lk();var n=t[e];return null==n&&lk(),n},kF=function(e){var t=Ie.useContext(SF);null==t&&lk();var n=t[e];return null==n&&lk(),n},RF=function(){return Ie.useContext(CF)},IF=function(){return Ie.useContext(AF)};function NF(e){return(NF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DF(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HF(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LF(e,t,n){return t=UF(t),function(e,t){if(t&&("object"===NF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FF()?Reflect.construct(t,n||[],UF(e).constructor):t.apply(e,n))}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(FF=function(){return!!e})()}function UF(e){return(UF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jF(e,t){return(jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function BF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BF(Object(n),!0).forEach((function(t){VF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VF(e,t,n){return(t=HF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HF(e){var t=function(e,t){if("object"!=NF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NF(t)?t:t+""}function WF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $F(){return $F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$F.apply(this,arguments)}function XF(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=Ie.useContext(MF),u=OF(i),h=kF(a),d=Ie.useContext(TF);if(!c||!d)return null;Tg(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,a,s,o,l){var c=i.x,u=i.y,h=i.width,d=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:a});if(bL(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+h,y:p},{x:c,y:p}];return"left"===o?m.reverse():m}if(t){var g=l.x,v=e.x.apply(g,{position:a});if(bL(l,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:u+d},{x:v,y:u}];return"top"===s?y.reverse():y}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:a})}));return bL(l,"discard")&&yL(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(uF({x:u.scale,y:h.scale}),Um(t),Um(n),r&&2===r.length,d,e.position,u.orientation,h.orientation,e);if(!f)return null;var p=WF(f,2),m=p[0],g=m.x,v=m.y,y=p[1],b=y.x,x=y.y,w=zF(zF({clipPath:bL(e,"hidden")?"url(#".concat(c,")"):void 0},dg(e,!0)),{},{x1:g,y1:v,x2:b,y2:x});return Ne.createElement(Sg,{className:Vt("recharts-reference-line",o)},function(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):ff(e)?e(t):Ne.createElement("line",$F({},t,{className:"recharts-reference-line-line"}))}(s,w),wR.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return lF({x:t,y:n},{x:r,y:i})}({x1:g,y1:v,x2:b,y2:x})))}var qF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),LF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jF(e,t)}(e,Ne.Component),DF(e,[{key:"render",value:function(){return Ne.createElement(XF,this.props)}}])}();function YF(){return YF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YF.apply(this,arguments)}function KF(e){return(KF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JF(Object(n),!0).forEach((function(t){iU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QF(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aU(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eU(e,t,n){return t=nU(t),function(e,t){if(t&&("object"===KF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tU()?Reflect.construct(t,n||[],nU(e).constructor):t.apply(e,n))}function tU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tU=function(){return!!e})()}function nU(e){return(nU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rU(e,t){return(rU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iU(e,t,n){return(t=aU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aU(e){var t=function(e,t){if("object"!=KF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KF(t)?t:t+""}VF(qF,"displayName","ReferenceLine"),VF(qF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var sU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eU(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rU(e,t)}(e,Ne.Component),QF(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,a=t.alwaysShow,s=t.clipPathId,o=Um(n),l=Um(r);if(Tg(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,a=uF({x:r.scale,y:i.scale}),s=a.apply({x:t,y:n},{bandAware:!0});return bL(e,"discard")&&!a.isInRange(s)?null:s}(this.props);if(!c)return null;var u=c.x,h=c.y,d=this.props,f=d.shape,p=d.className,m=ZF(ZF({clipPath:bL(this.props,"hidden")?"url(#".concat(s,")"):void 0},dg(this.props,!0)),{},{cx:u,cy:h});return Ne.createElement(Sg,{className:Vt("recharts-reference-dot",p)},e.renderDot(f,m),wR.renderCallByParent(this.props,{x:u-i,y:h-i,width:2*i,height:2*i}))}}])}();function oU(){return oU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oU.apply(this,arguments)}function lU(e){return(lU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cU(Object(n),!0).forEach((function(t){gU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hU(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vU(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dU(e,t,n){return t=pU(t),function(e,t){if(t&&("object"===lU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fU()?Reflect.construct(t,n||[],pU(e).constructor):t.apply(e,n))}function fU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fU=function(){return!!e})()}function pU(e){return(pU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mU(e,t){return(mU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gU(e,t,n){return(t=vU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vU(e){var t=function(e,t){if("object"!=lU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lU(t)?t:t+""}iU(sU,"displayName","ReferenceDot"),iU(sU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),iU(sU,"renderDot",(function(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):ff(e)?e(t):Ne.createElement(GN,YF({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var yU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dU(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mU(e,t)}(e,Ne.Component),hU(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,a=t.y2,s=t.className,o=t.alwaysShow,l=t.clipPathId;Tg(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Um(n),u=Um(r),h=Um(i),d=Um(a),f=this.props.shape;if(!(c||u||h||d||f))return null;var p=function(e,t,n,r,i){var a=i.x1,s=i.x2,o=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var h=uF({x:c.scale,y:u.scale}),d={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(o,{position:"start"}):h.y.rangeMin},f={x:t?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!bL(i,"discard")||h.isInRange(d)&&h.isInRange(f)?lF(d,f):null}(c,u,h,d,this.props);if(!p&&!f)return null;var m=bL(this.props,"hidden")?"url(#".concat(l,")"):void 0;return Ne.createElement(Sg,{className:Vt("recharts-reference-area",s)},e.renderRect(f,uU(uU({clipPath:m},dg(this.props,!0)),p)),wR.renderCallByParent(this.props,p))}}])}();function bU(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function xU(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function wU(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function _U(e){return(_U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SU(Object(n),!0).forEach((function(t){EU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EU(e,t,n){var r;return r=function(e,t){if("object"!=_U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_U(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MU(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(Fm(l)||FS.isSsr)return function(e,t){return bU(e,t+1)}(i,"number"==typeof l&&Fm(l)?l:0);var d=[],f="top"===o||"bottom"===o?"width":"height",p=u&&"width"===f?IT(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=ff(c)?c(e.value,r):e.value;return"width"===f?xU(IT(i,{fontSize:t,letterSpacing:n}),p,h):IT(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?Dm(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,a=e.y,s=e.width,o=e.height;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(a,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,h=o,d=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:bU(r,u)};var a,s=c,d=function(){return void 0===a&&(a=n(t,s)),a},f=t.coordinate,p=0===c||wU(e,f,d,h,l);p||(c=0,h=o,u+=1),p&&(h=f+e*(d()/2+i),c+=u)};u<=s.length;)if(a=d())return a.v;return[]}(g,v,m,i,s):(d="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=t.start,c=t.end;if(a){var u=r[o-1],h=n(u,o-1),d=e*(u.coordinate+e*h/2-c);s[o-1]=u=TU(TU({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate}),wU(e,u.tickCoord,(function(){return h}),l,c)&&(c=u.tickCoord-e*(h/2+i),s[o-1]=TU(TU({},u),{},{isShow:!0}))}for(var f=a?o-1:o,p=function(t){var r,a=s[t],o=function(){return void 0===r&&(r=n(a,t)),r};if(0===t){var u=e*(a.coordinate-e*o()/2-l);s[t]=a=TU(TU({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else s[t]=a=TU(TU({},a),{},{tickCoord:a.coordinate});wU(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=TU(TU({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(g,v,m,i,s,"preserveStartEnd"===l):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=t.start,l=t.end,c=function(t){var r,c=a[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===s-1){var h=e*(c.coordinate+e*u()/2-l);a[t]=c=TU(TU({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate})}else a[t]=c=TU(TU({},c),{},{tickCoord:c.coordinate});wU(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=TU(TU({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(g,v,m,i,s),d.filter((function(e){return e.isShow})))}gU(yU,"displayName","ReferenceArea"),gU(yU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),gU(yU,"renderRect",(function(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):ff(e)?e(t):Ne.createElement(HN,oU({},t,{className:"recharts-reference-area-rect"}))}));var AU=["viewBox"],CU=["viewBox"],PU=["ticks"];function OU(e){return(OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kU(){return kU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kU.apply(this,arguments)}function RU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RU(Object(n),!0).forEach((function(t){BU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zU(r.key),r)}}function LU(e,t,n){return t=UU(t),function(e,t){if(t&&("object"===OU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FU()?Reflect.construct(t,n||[],UU(e).constructor):t.apply(e,n))}function FU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(FU=function(){return!!e})()}function UU(e){return(UU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jU(e,t){return(jU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function BU(e,t,n){return(t=zU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zU(e){var t=function(e,t){if("object"!=OU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OU(t)?t:t+""}var VU=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=LU(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jU(e,t)}(e,Ie.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return Ne.isValidElement(e)?Ne.cloneElement(e,t):ff(e)?e(t):Ne.createElement(lE,kU({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=NU(e,AU),i=this.props,a=i.viewBox,s=NU(i,CU);return!$m(n,a)||!$m(r,s)||!$m(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,a,s,o=this.props,l=o.x,c=o.y,u=o.width,h=o.height,d=o.orientation,f=o.tickSize,p=o.mirror,m=o.tickMargin,g=p?-1:1,v=e.tickSize||f,y=Fm(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,s=(r=(i=c+ +!p*h)-g*v)-g*m,a=y;break;case"left":r=i=e.coordinate,a=(t=(n=l+ +!p*u)-g*v)-g*m,s=y;break;case"right":r=i=e.coordinate,a=(t=(n=l+ +p*u)+g*v)+g*m,s=y;break;default:t=n=e.coordinate,s=(r=(i=c+ +p*h)+g*v)+g*m,a=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,a=e.orientation,s=e.mirror,o=e.axisLine,l=IU(IU(IU({},dg(this.props,!1)),dg(o,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!s||"bottom"===a&&s);l=IU(IU({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var u=+("left"===a&&!s||"right"===a&&s);l=IU(IU({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return Ne.createElement("line",kU({},l,{className:Vt("recharts-cartesian-axis-line",im(o,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,a=this.props,s=a.tickLine,o=a.stroke,l=a.tick,c=a.tickFormatter,u=a.unit,h=MU(IU(IU({},this.props),{},{ticks:t}),n,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=dg(this.props,!1),m=dg(l,!1),g=IU(IU({},p),{},{fill:"none"},dg(s,!1)),v=h.map((function(t,n){var r=i.getTickLineCoord(t),a=r.line,v=r.tick,y=IU(IU(IU(IU({textAnchor:d,verticalAnchor:f},p),{},{stroke:"none",fill:o},m),v),{},{index:n,payload:t,visibleTicksCount:h.length,tickFormatter:c});return Ne.createElement(Sg,kU({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Qm(i.props,t,n)),s&&Ne.createElement("line",kU({},g,a,{className:Vt("recharts-cartesian-axis-tick-line",im(s,"className"))})),l&&e.renderTickItem(l,y,"".concat(ff(c)?c(t.value,n):t.value).concat(u||"")))}));return Ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=NU(o,PU),u=l;return ff(a)&&(u=l&&l.length>0?a(this.props):a(c)),r<=0||i<=0||!u||!u.length?null:Ne.createElement(Sg,{className:Vt("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),wR.renderCallByParent(this.props))}}])&&DU(t.prototype,n),r&&DU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();BU(VU,"displayName","CartesianAxis"),BU(VU,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var HU=["x1","y1","x2","y2","key"],WU=["offset"];function GU(e){return(GU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$U(Object(n),!0).forEach((function(t){qU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qU(e,t,n){var r;return r=function(e,t){if("object"!=GU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==GU(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(){return YU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YU.apply(this,arguments)}function KU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var JU=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,a=e.width,s=e.height,o=e.ry;return Ne.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZU(e,t){var n;if(Ne.isValidElement(e))n=Ne.cloneElement(e,t);else if(ff(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,l=KU(t,HU),c=dg(l,!1);c.offset;var u=KU(c,WU);n=Ne.createElement("line",YU({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function QU(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(r,a){var s=XU(XU({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(a),index:a});return ZU(i,s)}));return Ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ej(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(r,a){var s=XU(XU({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(a),index:a});return ZU(i,s)}));return Ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function tj(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=o.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==c[0]&&c.unshift(0);var u=c.map((function(e,o){var l=!c[o+1]?i+s-e:c[o+1]-e;if(l<=0)return null;var u=o%t.length;return Ne.createElement("rect",{key:"react-".concat(o),y:e,x:r,height:l,width:a,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function nj(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==u[0]&&u.unshift(0);var h=u.map((function(e,t){var n=!u[t+1]?a+o-e:u[t+1]-e;if(n<=0)return null;var c=t%r.length;return Ne.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var rj=function(e,t){var n=e.xAxis,r=e.width,i=e.height,a=e.offset;return Bk(MU(XU(XU(XU({},VU.defaultProps),n),{},{ticks:zk(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},ij=function(e,t){var n=e.yAxis,r=e.width,i=e.height,a=e.offset;return Bk(MU(XU(XU(XU({},VU.defaultProps),n),{},{ticks:zk(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},aj={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sj(e){var t,n,r,i,a,s,o,l,c=RF(),u=IF(),h=Ie.useContext(EF),d=XU(XU({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:aj.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:aj.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:aj.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:aj.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:aj.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:aj.verticalFill,x:Fm(e.x)?e.x:h.left,y:Fm(e.y)?e.y:h.top,width:Fm(e.width)?e.width:h.width,height:Fm(e.height)?e.height:h.height}),f=d.x,p=d.y,m=d.width,g=d.height,v=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,x=(o=Ie.useContext(_F),Vm(o)),w=(l=Ie.useContext(SF),xF(l,(function(e){return kL(e.domain,Number.isFinite)}))||Vm(l));if(!Fm(m)||m<=0||!Fm(g)||g<=0||!Fm(f)||f!==+f||!Fm(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||rj,S=d.horizontalCoordinatesGenerator||ij,T=d.horizontalPoints,E=d.verticalPoints;if((!T||!T.length)&&ff(S)){var M=y&&y.length,A=S({yAxis:w?XU(XU({},w),{},{ticks:M?y:w.ticks}):void 0,width:c,height:u,offset:h},!!M||v);Tg(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(GU(A),"]")),Array.isArray(A)&&(T=A)}if((!E||!E.length)&&ff(_)){var C=b&&b.length,P=_({xAxis:x?XU(XU({},x),{},{ticks:C?b:x.ticks}):void 0,width:c,height:u,offset:h},!!C||v);Tg(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(GU(P),"]")),Array.isArray(P)&&(E=P)}return Ne.createElement("g",{className:"recharts-cartesian-grid"},Ne.createElement(JU,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Ne.createElement(QU,YU({},d,{offset:h,horizontalPoints:T,xAxis:x,yAxis:w})),Ne.createElement(ej,YU({},d,{offset:h,verticalPoints:E,xAxis:x,yAxis:w})),Ne.createElement(tj,YU({},d,{horizontalPoints:T})),Ne.createElement(nj,YU({},d,{verticalPoints:E})))}function oj(e){return(oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pj(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cj(e,t,n){return t=hj(t),function(e,t){if(t&&("object"===oj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uj()?Reflect.construct(t,n||[],hj(e).constructor):t.apply(e,n))}function uj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uj=function(){return!!e})()}function hj(e){return(hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dj(e,t){return(dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fj(e,t,n){return(t=pj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pj(e){var t=function(e,t){if("object"!=oj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oj(t)?t:t+""}function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mj.apply(this,arguments)}function gj(e){var t=e.xAxisId,n=RF(),r=IF(),i=OF(t);return null==i?null:Ne.createElement(VU,mj({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return zk(e,!0)}}))}sj.displayName="CartesianGrid";var vj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dj(e,t)}(e,Ne.Component),lj(e,[{key:"render",value:function(){return Ne.createElement(gj,this.props)}}])}();function yj(e){return(yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ej(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xj(e,t,n){return t=_j(t),function(e,t){if(t&&("object"===yj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wj()?Reflect.construct(t,n||[],_j(e).constructor):t.apply(e,n))}function wj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wj=function(){return!!e})()}function _j(e){return(_j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sj(e,t){return(Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Tj(e,t,n){return(t=Ej(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ej(e){var t=function(e,t){if("object"!=yj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yj(t)?t:t+""}function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mj.apply(this,arguments)}fj(vj,"displayName","XAxis"),fj(vj,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var Aj=function(e){var t=e.yAxisId,n=RF(),r=IF(),i=kF(t);return null==i?null:Ne.createElement(VU,Mj({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return zk(e,!0)}}))},Cj=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xj(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sj(e,t)}(e,Ne.Component),bj(e,[{key:"render",value:function(){return Ne.createElement(Aj,this.props)}}])}();function Pj(e){return function(e){if(Array.isArray(e))return Oj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Oj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Tj(Cj,"displayName","YAxis"),Tj(Cj,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var kj=function(e,t,n,r,i){var a=lg(e,qF),s=lg(e,sU),o=[].concat(Pj(a),Pj(s)),l=lg(e,yU),c="".concat(r,"Id"),u=r[0],h=t;if(o.length&&(h=o.reduce((function(e,t){if(t.props[c]===n&&bL(t.props,"extendDomain")&&Fm(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),h)),l.length){var d="".concat(u,"1"),f="".concat(u,"2");h=l.reduce((function(e,t){if(t.props[c]===n&&bL(t.props,"extendDomain")&&Fm(t.props[d])&&Fm(t.props[f])){var r=t.props[d],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),h)}return i&&i.length&&(h=i.reduce((function(e,t){return Fm(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),h)),h},Rj={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(Rj);var Ij=new(Fe(Rj.exports)),Nj="recharts.syncMouseEvents";function Dj(e){return(Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uj(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fj(e,t,n){return(t=Uj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uj(e){var t=function(e,t){if("object"!=Dj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Dj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Dj(t)?t:t+""}var jj=function(){return Lj((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fj(this,"activeIndex",0),Fj(this,"coordinateList",[]),Fj(this,"layout","horizontal")}),[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,a=void 0===i?null:i,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,h=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=a?a:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,a=n.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+s+o,u=i+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function Bj(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle;return{points:[oR(t,n,r,i),oR(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function zj(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Bj(t);var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,h=t.angle,d=oR(o,l,c,h),f=oR(o,l,u,h);r=d.x,i=d.y,a=f.x,s=f.y}return[{x:r,y:i},{x:a,y:s}]}function Vj(e){return(Vj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hj(Object(n),!0).forEach((function(t){Gj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gj(e,t,n){var r;return r=function(e,t){if("object"!=Vj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Vj(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $j(e){var t,n,r,i=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,p=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!p||!s||!o||"ScatterChart"!==f&&"axis"!==a)return null;var m=tI;if("ScatterChart"===f)r=o,m=QN;else if("BarChart"===f)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,o,c,h),m=HN;else if("radial"===d){var g=Bj(o),v=g.cx,y=g.cy,b=g.radius;r={cx:v,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},m=WR}else r={points:zj(d,o,c)},m=tI;var x=Wj(Wj(Wj(Wj({stroke:"#ccc",pointerEvents:"none"},c),r),dg(p,!1)),{},{payload:l,payloadIndex:u,className:Vt("recharts-tooltip-cursor",p.className)});return Ie.isValidElement(p)?Ie.cloneElement(p,x):Ie.createElement(m,x)}var Xj=["item"],qj=["children","className","width","height","style","compact","title","desc"];function Yj(e){return(Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kj.apply(this,arguments)}function Jj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||aB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qj(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uB(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eB(e,t,n){return t=nB(t),function(e,t){if(t&&("object"===Yj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tB()?Reflect.construct(t,n||[],nB(e).constructor):t.apply(e,n))}function tB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tB=function(){return!!e})()}function nB(e){return(nB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rB(e,t){return(rB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iB(e){return function(e){if(Array.isArray(e))return sB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||aB(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aB(e,t){if(e){if("string"==typeof e)return sB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sB(e,t):void 0}}function sB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oB(Object(n),!0).forEach((function(t){cB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cB(e,t,n){return(t=uB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uB(e){var t=function(e,t){if("object"!=Yj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yj(t)?t:t+""}var hB={xAxis:["bottom","top"],yAxis:["left","right"]},dB={width:"100%",height:"100%"},fB={x:0,y:0};function pB(e){return e}var mB=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,a=(null!=n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(iB(e),iB(n)):e}),[]);return a.length>0?a:e&&e.length&&Fm(r)&&Fm(i)?e.slice(r,i+1):[]};function gB(e){return"number"===e?[0,"auto"]:void 0}var vB=function(e,t,n,r){var i=e.graphicalItems,a=e.tooltipAxis,s=mB(t,e);return n<0||!i||!i.length||n>=s.length?null:i.reduce((function(i,o){var l,c,u=null!==(l=o.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?c=Wm(void 0===u?s:u,a.dataKey,r):c=u&&u[n]||s[n];return c?[].concat(iB(i),[eR(o,c)]):i}),[])},yB=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=-1,s=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(s<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var o=i.range,l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,h=l>=s-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(Dm(u-c)!==Dm(h-u)){var f=[];if(Dm(h-u)===Dm(o[1]-o[0])){d=h;var p=u+o[1]-o[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{d=c;var m=h+o[1]-o[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){a=r[l].index;break}}else{var v=Math.min(c,h),y=Math.max(c,h);if(e>(v+u)/2&&e<=(y+u)/2){a=r[l].index;break}}}else for(var b=0;b<s;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<s-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===s-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){a=n[b].index;break}return a}(a,s,l,o);if(c>=0&&l){var u=l[c]&&l[c].value,h=vB(e,t,c,u),d=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,s=r.radius;return lB(lB(lB({},r),oR(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,l=r.angle;return lB(lB(lB({},r),oR(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return fB}(n,s,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:h,activeCoordinate:d}}return null},bB=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,a=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,h=e.stackOffset,d=jk(c,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?lB(lB({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,v=p.allowDataOverflow,y=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,_=p[a];if(t[_])return t;var S,T,E,M=mB(e.data,{graphicalItems:r.filter((function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===_})),dataStartIndex:o,dataEndIndex:l}),A=M.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&Fm(r)&&Fm(i))return!0}return!1})(p.domain,v,m)&&(S=Jk(p.domain,null,v),!d||"number"!==m&&"auto"===b||(E=Dk(M,g,"category")));var C=gB(m);if(!S||0===S.length){var P,O=null!==(P=p.domain)&&void 0!==P?P:C;if(g){if(S=Dk(M,g,m),"category"===m&&d){var k=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);y&&k?(T=S,S=XD(0,A)):y||(S=Qk(O,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(iB(e),[t])}),[]))}else if("category"===m)S=y?S.filter((function(e){return""!==e&&!am(e)})):Qk(O,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||am(t)?e:[].concat(iB(e),[t])}),[]);else if("number"===m){var R=function(e,t,n,r,i){var a=t.map((function(t){return Fk(e,t,n,i,r)})).filter((function(e){return!am(e)}));return a&&a.length?a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(M,r.filter((function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===_&&(w||!i)})),g,i,c);R&&(S=R)}!d||"number"!==m&&"auto"===b||(E=Dk(M,g,"category"))}else S=d?XD(0,A):s&&s[_]&&s[_].hasStack&&"number"===m?"expand"===h?[0,1]:qk(s[_].stackGroups,o,l):Uk(M,r.filter((function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===_&&(w||!n)})),m,c,!0);if("number"===m)S=kj(u,S,_,i,x),O&&(S=Jk(O,S,v));else if("category"===m&&O){var I=O;S.every((function(e){return I.indexOf(e)>=0}))&&(S=I)}}return lB(lB({},t),{},cB({},_,lB(lB({},p),{},{axisType:i,domain:S,categoricalDomain:E,duplicateDomain:T,originalDomain:null!==(f=p.domain)&&void 0!==f?f:C,isCategorical:d,layout:c})))}),{})},xB=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,a=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),h=lg(c,i),d={};return h&&h.length?d=bB(e,{axes:h,graphicalItems:a,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):a&&a.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,a=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,h=mB(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),d=h.length,f=jk(c,i),p=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?lB(lB({},t.type.defaultProps),t.props):t.props)[a],v=gB("number");return e[g]?e:(p++,f?m=XD(0,d):s&&s[g]&&s[g].hasStack?(m=qk(s[g].stackGroups,o,l),m=kj(u,m,g,i)):(m=Jk(v,Uk(h,n.filter((function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=kj(u,m,g,i)),lB(lB({},e),{},cB({},g,lB(lB({axisType:i},r.defaultProps),{},{hide:!0,orientation:im(hB,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:v,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:a,axisType:r,axisIdKey:u,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),d},wB=function(e){var t=e.children,n=e.defaultShowTooltip,r=cg(t,hL),i=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(a=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},_B=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SB=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,a=e.yAxisMap,s=void 0===a?{}:a,o=n.width,l=n.height,c=n.children,u=n.margin||{},h=cg(c,hL),d=cg(c,m_),f=Object.keys(s).reduce((function(e,t){var n=s[t],r=n.orientation;return n.mirror||n.hide?e:lB(lB({},e),{},cB({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:lB(lB({},e),{},cB({},r,im(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=lB(lB({},p),f),g=m.bottom;h&&(m.bottom+=h.props.height||hL.defaultProps.height),d&&t&&(m=function(e,t,n,r){var i=n.children,a=n.width,s=n.margin,o=a-(s.left||0)-(s.right||0),l=Ak({children:i,legendWidth:o});if(l){var c=r||{},u=c.width,h=c.height,d=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==d&&Fm(e[d]))return Rk(Rk({},e),{},Ik({},d,e[d]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===d)&&"middle"!==f&&Fm(e[f]))return Rk(Rk({},e),{},Ik({},f,e[f]+(h||0)))}return e}(m,0,n,t));var v=o-m.left-m.right,y=l-m.top-m.bottom;return lB(lB({brushBottom:g},m),{},{width:Math.max(v,0),height:Math.max(y,0)})},TB=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},EB=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,a=t.updateId,s=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,h=e.barGap,d=e.barCategoryGap,f=e.maxBarSize,p=_B(u),m=p.numericAxisName,g=p.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=ig(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,p){var b=mB(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:l}),x=void 0!==n.type.defaultProps?lB(lB({},n.type.defaultProps),n.props):n.props,w=x.dataKey,_=x.maxBarSize,S=x["".concat(m,"Id")],T=x["".concat(g,"Id")],E=o.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||lk();var a=r[i];return lB(lB({},e),{},cB(cB({},n.axisType,a),"".concat(n.axisType,"Ticks"),zk(a)))}),{}),M=E[g],A=E["".concat(g,"Ticks")],C=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Rk(Rk({},e.type.defaultProps),e.props):e.props).stackId;if(Um(r)){var i=t[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null}(n,r[S].stackGroups),P=ig(n.type).indexOf("Bar")>=0,O=Zk(M,A),k=[],R=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var a={},s=Object.keys(i),o=0,l=s.length;o<l;o++)for(var c=i[s[o]].stackGroups,u=Object.keys(c),h=0,d=u.length;h<d;h++){var f=c[u[h]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return ig(e.type).indexOf("Bar")>=0}));if(g&&g.length){var v=g[0].type.defaultProps,y=void 0!==v?Rk(Rk({},v),g[0].props):g[0].props,b=y.barSize,x=y[m];a[x]||(a[x]=[]);var w=am(b)?t:b;a[x].push({item:g[0],stackList:g.slice(1),barSize:am(w)?void 0:zm(w,n,0)})}}return a}({barSize:c,stackGroups:r,totalSize:TB(E,g)});if(P){var I,N,D=am(_)?f:_,L=null!==(I=null!==(N=Zk(M,A,!0))&&void 0!==N?N:D)&&void 0!==I?I:0;k=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,a=void 0===i?[]:i,s=e.maxBarSize,o=a.length;if(o<1)return null;var l,c=zm(t,r,0,!0),u=[];if(a[0].barSize===+a[0].barSize){var h=!1,d=r/o,f=a.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(o-1)*c)>=r&&(f-=(o-1)*c,c=0),f>=r&&d>0&&(h=!0,f=o*(d*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=a.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:h?d:t.barSize}},r=[].concat(Pk(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=zm(n,r,0,!0);r-2*m-(o-1)*c<=0&&(c=0);var g=(r-2*m-(o-1)*c)/o;g>1&&(g>>=0);var v=s===+s?Math.min(g,s):g;l=a.reduce((function(e,t,n){var r=[].concat(Pk(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:h,barCategoryGap:d,bandSize:L!==O?L:O,sizeList:R[T],maxBarSize:D}),L!==O&&(k=k.map((function(e){return lB(lB({},e),{},{position:lB(lB({},e.position),{},{offset:e.position.offset-L/2})})})))}var F,U,j=n&&n.type&&n.type.getComposedData;j&&y.push({props:lB(lB({},j(lB(lB({},E),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:O,barPosition:k,offset:i,stackedData:C,layout:u,dataStartIndex:s,dataEndIndex:l}))),{},cB(cB(cB({key:n.key||"item-".concat(p)},m,E[m]),g,E[g]),"animationId",a)),childIndex:(F=n,U=e.children,og(U).indexOf(F)),item:n})})),y},d=function(e,r){var i=e.props,a=e.dataStartIndex,s=e.dataEndIndex,l=e.updateId;if(!ug({props:i}))return null;var u=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=_B(d),v=g.numericAxisName,y=g.cateAxisName,b=lg(u,n),x=function(e,t,n,r,i,a){if(!e)return null;var s=(a?t.reverse():t).reduce((function(e,t){var i,a=null!==(i=t.type)&&void 0!==i&&i.defaultProps?Rk(Rk({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(a.hide)return e;var o=a[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(Um(s)){var c=l.stackGroups[s]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[Bm("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Rk(Rk({},e),{},Ik({},o,l))}),{});return Object.keys(s).reduce((function(t,a){var o=s[a];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce((function(t,a){var s=o.stackGroups[a];return Rk(Rk({},t),{},Ik({},a,{numericAxisId:n,cateAxisId:r,items:s.items,stackedData:$k(e,s.items,i)}))}),{})),Rk(Rk({},t),{},Ik({},a,o))}),{})}(p,b,"".concat(v,"Id"),"".concat(y,"Id"),f,m),w=o.reduce((function(e,t){var n="".concat(t.axisType,"Map");return lB(lB({},e),{},cB({},n,xB(i,lB(lB({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&x,dataStartIndex:a,dataEndIndex:s}))))}),{}),_=SB(lB(lB({},w),{},{props:i,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(w).forEach((function(e){w[e]=c(i,w[e],_,e.replace("Map",""),t)}));var S,T,E=w["".concat(y,"Map")],M=(S=Vm(E),{tooltipTicks:T=zk(S,!1,!0),orderedTooltipTicks:uS(T,(function(e){return e.coordinate})),tooltipAxis:S,tooltipAxisBandSize:Zk(S,T)}),A=h(i,lB(lB({},w),{},{dataStartIndex:a,dataEndIndex:s,updateId:l,graphicalItems:b,stackGroups:x,offset:_}));return lB(lB({formattedGraphicalItems:A,graphicalItems:b,offset:_,stackGroups:x},M),w)},f=function(){function e(n){var r,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cB(a=eB(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),cB(a,"accessibilityManager",new jj),cB(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(lB({legendBBox:e},d({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},lB(lB({},a.state),{},{legendBBox:e}))))}})),cB(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!=typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),cB(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return lB({dataStartIndex:t,dataEndIndex:n},d({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),cB(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=lB(lB({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;ff(r)&&r(n,e)}})),cB(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?lB(lB({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;ff(r)&&r(n,e)})),cB(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),cB(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),cB(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),cB(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;ff(n)&&n(t,e)})),cB(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&rg[t]?rg[t]:null}(e),r=im(a.props,"".concat(n));n&&ff(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),cB(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=lB(lB({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;ff(r)&&r(n,e)}})),cB(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;ff(t)&&t(a.getMouseInfo(e),e)})),cB(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;ff(t)&&t(a.getMouseInfo(e),e)})),cB(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),cB(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),cB(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),cB(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;ff(t)&&t(a.getMouseInfo(e),e)})),cB(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;ff(t)&&t(a.getMouseInfo(e),e)})),cB(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&Ij.emit(Nj,a.props.syncId,e,a.eventEmitterSymbol)})),cB(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(lB({dataStartIndex:s,dataEndIndex:o},d({props:a.props,dataStartIndex:s,dataEndIndex:o,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,h=a.state,f=h.offset,p=h.tooltipTicks;if(!f)return;if("function"==typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=lB(lB({},f),{},{x:f.left,y:f.top}),v=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,x=vB(a.state,a.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:v,y:"horizontal"===n?y:p[u].coordinate}:fB;a.setState(lB(lB({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else a.setState(e)})),cB(a,"renderCursor",(function(e){var n,r=a.state,i=r.isTooltipActive,s=r.activeCoordinate,o=r.activePayload,l=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,h=a.getTooltipEventType(),d=null!==(n=e.props.active)&&void 0!==n?n:i,f=a.props.layout,p=e.key||"_recharts-cursor";return Ne.createElement($j,{key:p,activeCoordinate:s,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:d,layout:f,offset:l,tooltipAxisBandSize:u,tooltipEventType:h})})),cB(a,"renderPolarAxis",(function(e,t,n){var r=im(e,"type.axisType"),i=im(a.state,"".concat(r,"Map")),s=e.type.defaultProps,o=void 0!==s?lB(lB({},s),e.props):e.props,l=i&&i[o["".concat(r,"Id")]];return Ie.cloneElement(e,lB(lB({},l),{},{className:Vt(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:zk(l,!0)}))})),cB(a,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,s=a.state,o=s.radiusAxisMap,l=s.angleAxisMap,c=Vm(o),u=Vm(l),h=u.cx,d=u.cy,f=u.innerRadius,p=u.outerRadius;return Ie.cloneElement(e,{polarAngles:Array.isArray(r)?r:zk(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:zk(c,!0).map((function(e){return e.coordinate})),cx:h,cy:d,innerRadius:f,outerRadius:p,key:e.key||"polar-grid",radialLines:n})})),cB(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,i=t.height,s=a.props.margin||{},o=r-(s.left||0)-(s.right||0),c=Ak({children:n,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var u=c.item,h=Zj(c,Xj);return Ie.cloneElement(u,lB(lB({},h),{},{chartWidth:r,chartHeight:i,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),cB(a,"renderTooltip",(function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,i=cg(n,YS);if(!i)return null;var s=a.state,o=s.isTooltipActive,l=s.activeCoordinate,c=s.activePayload,u=s.activeLabel,h=s.offset,d=null!==(e=i.props.active)&&void 0!==e?e:o;return Ie.cloneElement(i,{viewBox:lB(lB({},h),{},{x:h.left,y:h.top}),active:d,label:u,payload:d?c:[],coordinate:l,accessibilityLayer:r})})),cB(a,"renderBrush",(function(e){var t=a.props,n=t.margin,r=t.data,i=a.state,s=i.offset,o=i.dataStartIndex,l=i.dataEndIndex,c=i.updateId;return Ie.cloneElement(e,{key:e.key||"_recharts-brush",onChange:Hk(a.handleBrushChange,e.props.onChange),data:r,x:Fm(e.props.x)?e.props.x:s.left,y:Fm(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Fm(e.props.width)?e.props.width:s.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})})),cB(a,"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=a.clipPathId,i=a.state,s=i.xAxisMap,o=i.yAxisMap,l=i.offset,c=e.type.defaultProps||{},u=e.props,h=u.xAxisId,d=void 0===h?c.xAxisId:h,f=u.yAxisId,p=void 0===f?c.yAxisId:f;return Ie.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[d],yAxis:o[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})})),cB(a,"renderActivePoints",(function(t){var n=t.item,r=t.activePoint,i=t.basePoint,a=t.childIndex,s=t.isRange,o=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?lB(lB({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,h=lB(lB({index:a,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:Lk(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},dg(u,!1)),Zm(u));return o.push(e.renderActiveDot(u,h,"".concat(l,"-activePoint-").concat(a))),i?o.push(e.renderActiveDot(u,lB(lB({},h),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(a))):s&&o.push(null),o})),cB(a,"renderGraphicChild",(function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var i=a.getTooltipEventType(),s=a.state,o=s.isTooltipActive,l=s.tooltipAxis,c=s.activeTooltipIndex,u=s.activeLabel,h=cg(a.props.children,YS),d=r.props,f=d.points,p=d.isRange,m=d.baseLine,g=void 0!==r.item.type.defaultProps?lB(lB({},r.item.type.defaultProps),r.item.props):r.item.props,v=g.activeDot,y=g.hide,b=g.activeBar,x=g.activeShape,w=Boolean(!y&&o&&h&&(v||b||x)),_={};"axis"!==i&&h&&"click"===h.props.trigger?_={onClick:Hk(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(_={onMouseLeave:Hk(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Hk(a.handleItemMouseEnter,e.props.onMouseEnter)});var S=Ie.cloneElement(e,lB(lB({},r.props),_));if(w){if(!(c>=0)){var T,E=(null!==(T=a.getItemByXY(a.state.activeCoordinate))&&void 0!==T?T:{graphicalItem:S}).graphicalItem,M=E.item,A=void 0===M?e:M,C=E.childIndex,P=lB(lB(lB({},r.props),_),{},{activeIndex:C});return[Ie.cloneElement(A,P),null,null]}var O,k;if(l.dataKey&&!l.allowDuplicatedCategory){var R="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());O=Wm(f,R,u),k=p&&m&&Wm(m,R,u)}else O=null==f?void 0:f[c],k=p&&m&&m[c];if(x||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[Ie.cloneElement(e,lB(lB(lB({},r.props),_),{},{activeIndex:I})),null,null]}if(!am(O))return[S].concat(iB(a.renderActivePoints({item:r,activePoint:O,basePoint:k,childIndex:c,isRange:p})))}return p?[S,null,null]:[S,null]})),cB(a,"renderCustomized",(function(e,t,n){return Ie.cloneElement(e,lB(lB({key:"recharts-customized-".concat(n)},a.props),a.state))})),cB(a,"renderMap",{CartesianGrid:{handler:pB,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:pB},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:pB},YAxis:{handler:pB},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:Bm("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=vT(a.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rB(e,t)}(e,Ie.Component),Qj(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,a=cg(t,YS);if(a){var s=a.props.defaultIndex;if(!("number"!=typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=vB(this.state,n,s,o),c=this.state.tooltipTicks[s].coordinate,u=(this.state.offset.top+r)/2,h="horizontal"===i?{x:c,y:u}:{y:c,x:u},d=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));d&&(h=lB(lB({},h),d.props.points[s].tooltipPosition),l=d.props.points[s].tooltipPayload);var f={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:h};this.setState(f),this.renderCursor(a),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){fg([cg(e.children,YS)],[cg(this.props.children,YS)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=cg(this.props.children,YS);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},s=r.width/n.offsetWidth||1,o=this.inRange(a.chartX,a.chartY,s);if(!o)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,h=this.getTooltipEventType(),d=yB(this.state,this.props.data,this.props.layout,o);if("axis"!==h&&c&&u){var f=Vm(c).scale,p=Vm(u).scale,m=f&&f.invert?f.invert(a.chartX):null,g=p&&p.invert?p.invert(a.chartY):null;return lB(lB({},a),{},{xValue:m,yValue:g},d)}return d?lB(lB({},a),d):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,a=t/n;if("horizontal"===r||"vertical"===r){var s=this.state.offset;return i>=s.left&&i<=s.left+s.width&&a>=s.top&&a<=s.top+s.height?{x:i,y:a}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var u=Vm(l);return uR({x:i,y:a},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=cg(e,YS),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),lB(lB({},Zm(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Ij.on(Nj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ij.removeListener(Nj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,a=r.length;i<a;i++){var s=r[i];if(s.item===e||s.props.key===e.key||t===ig(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,a=t.width;return Ne.createElement("defs",null,Ne.createElement("clipPath",{id:e},Ne.createElement("rect",{x:n,y:r,height:i,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Jj(t,2),r=n[0],i=n[1];return lB(lB({},e),{},cB({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Jj(t,2),r=n[0],i=n[1];return lB(lB({},e),{},cB({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,a=n.length;i<a;i++){var s=n[i],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?lB(lB({},l.type.defaultProps),l.props):l.props,u=ig(l.type);if("Bar"===u){var h=(o.data||[]).find((function(t){return zN(e,t)}));if(h)return{graphicalItem:s,payload:h}}else if("RadialBar"===u){var d=(o.data||[]).find((function(t){return uR(e,t)}));if(d)return{graphicalItem:s,payload:d}}else if(RD(s,r)||ID(s,r)||ND(s,r)){var f=UD({graphicalItem:s,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:lB(lB({},s),{},{childIndex:p}),payload:ND(s,r)?c.data[f]:s.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!ug(this))return null;var t,n,r=this.props,i=r.children,a=r.className,s=r.width,o=r.height,l=r.style,c=r.compact,u=r.title,h=r.desc,d=Zj(r,qj),f=dg(d,!1);if(c)return Ne.createElement(PF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement(bg,Kj({},f,{width:s,height:o,title:u,desc:h}),this.renderClipPath(),mg(i,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return Ne.createElement(PF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement("div",Kj({className:Vt("recharts-wrapper",a),style:lB({position:"relative",cursor:"default",width:s,height:o},l)},p,{ref:function(t){e.container=t}}),Ne.createElement(bg,Kj({},f,{width:s,height:o,title:u,desc:h,style:dB}),this.renderClipPath(),mg(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();cB(f,"displayName",t),cB(f,"defaultProps",lB({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),cB(f,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,a=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,h=t.dataEndIndex;if(void 0===t.updateId){var f=wB(e);return lB(lB(lB({},f),{},{updateId:0},d(lB(lB({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||a!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!$m(c,t.prevMargin)){var p=wB(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=lB(lB({},yB(t,r,o)),{},{updateId:t.updateId+1}),v=lB(lB(lB({},p),m),g);return lB(lB(lB({},v),d(lB({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!fg(i,t.prevChildren)){var y,b,x,w,_=cg(i,hL),S=_&&null!==(y=null===(b=_.props)||void 0===b?void 0:b.startIndex)&&void 0!==y?y:u,T=_&&null!==(x=null===(w=_.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:h,E=S!==u||T!==h,M=!am(r)&&!E?t.updateId:t.updateId+1;return lB(lB({updateId:M},d(lB(lB({props:e},t),{},{updateId:M,dataStartIndex:S,dataEndIndex:T}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:T})}return null})),cB(f,"renderActiveDot",(function(e,t,n){var r;return r=Ie.isValidElement(e)?Ie.cloneElement(e,t):ff(e)?e(t):Ne.createElement(GN,t),Ne.createElement(Sg,{className:"recharts-active-dot",key:n},r)}));var p=Ie.forwardRef((function(e,t){return Ne.createElement(f,Kj({},e,{ref:t}))}));return p.displayName=f.displayName,p}({chartName:"BarChart",GraphicalChild:tF,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vj},{axisType:"yAxis",AxisComp:Cj}],formatAxisMap:function(e,t,n,r,i){var a=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!cg(l,tF);return c.reduce((function(a,s){var l,c,d,f,p,m=t[s],g=m.orientation,v=m.domain,y=m.padding,b=void 0===y?{}:y,x=m.mirror,w=m.reversed,_="".concat(g).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var S=v[1]-v[0],T=1/0,E=m.categoricalDomain.sort(Gm);if(E.forEach((function(e,t){t>0&&(T=Math.min((e||0)-(E[t-1]||0),T))})),Number.isFinite(T)){var M=T/S,A="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=M*A/2),"no-gap"===m.padding){var C=zm(e.barCategoryGap,M*A),P=M*A/2;l=P-C-(P-C)/A*C}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===o?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var O=function(e,t,n){var r=e.scale,i=e.type,a=e.layout,s=e.axisType;if("auto"===r)return"radial"===a&&"radiusAxis"===s?{scale:DE(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:iA(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:FE(),realScaleType:"point"}:"category"===i?{scale:DE(),realScaleType:"band"}:{scale:iA(),realScaleType:"linear"};if(cm(r)){var o="scale".concat(Yg(r));return{scale:(HP[o]||FE)(),realScaleType:HP[o]?o:"point"}}return ff(r)?{scale:r}:{scale:FE(),realScaleType:"point"}}(m,i,h),k=O.scale,R=O.realScaleType;k.domain(v).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Wk,a=Math.max(r[0],r[1])+Wk,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}}(k);var I=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,a=t.originalDomain,s=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(i&&"number"===r&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var c=sk(l,i,s);return e.domain([QP(c),YP(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:ok(u,i,s)}}return null}(k,aF(aF({},m),{},{realScaleType:R}));"xAxis"===r?(p="top"===g&&!x||"bottom"===g&&x,d=n.left,f=u[_]-p*m.height):"yAxis"===r&&(p="left"===g&&!x||"right"===g&&x,d=u[_]-p*m.width,f=n.top);var N=aF(aF(aF({},m),I),{},{realScaleType:R,x:d,y:f,scale:k,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return N.bandSize=Zk(N,I),m.hide||"xAxis"!==r?m.hide||(u[_]+=(p?-1:1)*N.width):u[_]+=(p?-1:1)*N.height,aF(aF({},a),{},sF({},s,N))}),{})}});const MB={},AB=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/gestao-profissionais/"+e}(e))in MB)return;MB[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise(((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))};class CB extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class PB extends CB{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class OB extends CB{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kB extends CB{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var RB,IB;(IB=RB||(RB={})).Any="any",IB.ApNortheast1="ap-northeast-1",IB.ApNortheast2="ap-northeast-2",IB.ApSouth1="ap-south-1",IB.ApSoutheast1="ap-southeast-1",IB.ApSoutheast2="ap-southeast-2",IB.CaCentral1="ca-central-1",IB.EuCentral1="eu-central-1",IB.EuWest1="eu-west-1",IB.EuWest2="eu-west-2",IB.EuWest3="eu-west-3",IB.SaEast1="sa-east-1",IB.UsEast1="us-east-1",IB.UsWest1="us-west-1",IB.UsWest2="us-west-2";var NB=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class DB{constructor(e,{headers:t={},customFetch:n,region:r=RB.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>AB((async()=>{const{default:e}=await Promise.resolve().then((()=>qB));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return NB(this,void 0,void 0,(function*(){try{const{headers:r,method:i,body:a}=t;let s,o={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(o["x-region"]=l),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",s=a):"string"==typeof a?(o["Content-Type"]="text/plain",s=a):"undefined"!=typeof FormData&&a instanceof FormData?s=a:(o["Content-Type"]="application/json",s=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:s}).catch((e=>{throw new PB(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new OB(c);if(!c.ok)throw new kB(c);let h,d=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===d?yield c.json():"application/octet-stream"===d?yield c.blob():"text/event-stream"===d?c:"multipart/form-data"===d?yield c.formData():yield c.text(),{data:h,error:null}}catch(r){return{data:null,error:r}}}))}}var LB={},FB={},UB={},jB={},BB={},zB={},VB=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const HB=VB.fetch,WB=VB.fetch.bind(VB),GB=VB.Headers,$B=VB.Request,XB=VB.Response,qB=Object.freeze(Object.defineProperty({__proto__:null,Headers:GB,Request:$B,Response:XB,default:WB,fetch:HB},Symbol.toStringTag,{value:"Module"})),YB=Ue(qB);var KB={};Object.defineProperty(KB,"__esModule",{value:!0});let JB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};KB.default=JB;var ZB=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zB,"__esModule",{value:!0});const QB=ZB(YB),ez=ZB(KB);zB.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=QB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let i=null,a=null,s=null,o=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(a="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&c&&c.length>1&&(s=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,s=null,o=406,l="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(a=[],i=null,o=200,l="OK")}catch(c){404===e.status&&""===t?(o=204,l="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null==i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,o=200,l="OK"),i&&this.shouldThrowOnError)throw new ez.default(i)}return{error:i,data:a,count:s,status:o,statusText:l}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}};var tz=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BB,"__esModule",{value:!0});const nz=tz(zB);let rz=class extends nz.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=void 0===r?"offset":`${r}.offset`,a=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};BB.default=rz;var iz=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jB,"__esModule",{value:!0});const az=iz(BB);let sz=class extends az.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};jB.default=sz;var oz=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(UB,"__esModule",{value:!0});const lz=oz(jB);UB.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let i=!1;const a=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new lz.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new lz.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new lz.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new lz.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new lz.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var cz={},uz={};Object.defineProperty(uz,"__esModule",{value:!0}),uz.version=void 0,uz.version="0.0.0-automated",Object.defineProperty(cz,"__esModule",{value:!0}),cz.DEFAULT_HEADERS=void 0;const hz=uz;cz.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hz.version}`};var dz=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(FB,"__esModule",{value:!0});const fz=dz(UB),pz=dz(jB),mz=cz;FB.default=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},mz.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new fz.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let a;const s=new URL(`${this.url}/rpc/${e}`);let o;n||r?(a=n?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{s.searchParams.append(e,t)}))):(a="POST",o=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new pz.default({method:a,url:s,headers:l,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};var gz=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LB,"__esModule",{value:!0}),LB.PostgrestError=LB.PostgrestBuilder=LB.PostgrestTransformBuilder=LB.PostgrestFilterBuilder=LB.PostgrestQueryBuilder=LB.PostgrestClient=void 0;const vz=gz(FB);LB.PostgrestClient=vz.default;const yz=gz(UB);LB.PostgrestQueryBuilder=yz.default;const bz=gz(jB);LB.PostgrestFilterBuilder=bz.default;const xz=gz(BB);LB.PostgrestTransformBuilder=xz.default;const wz=gz(zB);LB.PostgrestBuilder=wz.default;const _z=gz(KB);LB.PostgrestError=_z.default;var Sz=LB.default={PostgrestClient:vz.default,PostgrestQueryBuilder:yz.default,PostgrestFilterBuilder:bz.default,PostgrestTransformBuilder:xz.default,PostgrestBuilder:wz.default,PostgrestError:_z.default};const{PostgrestClient:Tz,PostgrestQueryBuilder:Ez,PostgrestFilterBuilder:Mz,PostgrestTransformBuilder:Az,PostgrestBuilder:Cz,PostgrestError:Pz}=Sz,Oz={"X-Client-Info":"realtime-js/2.11.2"};var kz,Rz,Iz,Nz,Dz,Lz,Fz,Uz,jz,Bz,zz;(Rz=kz||(kz={}))[Rz.connecting=0]="connecting",Rz[Rz.open=1]="open",Rz[Rz.closing=2]="closing",Rz[Rz.closed=3]="closed",(Nz=Iz||(Iz={})).closed="closed",Nz.errored="errored",Nz.joined="joined",Nz.joining="joining",Nz.leaving="leaving",(Lz=Dz||(Dz={})).close="phx_close",Lz.error="phx_error",Lz.join="phx_join",Lz.reply="phx_reply",Lz.leave="phx_leave",Lz.access_token="access_token",(Fz||(Fz={})).websocket="websocket",(jz=Uz||(Uz={})).Connecting="connecting",jz.Open="open",jz.Closing="closing",jz.Closed="closed";class Vz{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(e.slice(a,a+r));a+=r;const o=n.decode(e.slice(a,a+i));a+=i;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class Hz{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(zz=Bz||(Bz={})).abstime="abstime",zz.bool="bool",zz.date="date",zz.daterange="daterange",zz.float4="float4",zz.float8="float8",zz.int2="int2",zz.int4="int4",zz.int4range="int4range",zz.int8="int8",zz.int8range="int8range",zz.json="json",zz.jsonb="jsonb",zz.money="money",zz.numeric="numeric",zz.oid="oid",zz.reltime="reltime",zz.text="text",zz.time="time",zz.timestamp="timestamp",zz.timestamptz="timestamptz",zz.timetz="timetz",zz.tsrange="tsrange",zz.tstzrange="tstzrange";const Wz=(e,t,n={})=>{var r;const i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((n,r)=>(n[r]=Gz(r,e,t,i),n)),{})},Gz=(e,t,n,r)=>{const i=t.find((t=>t.name===e)),a=null==i?void 0:i.type,s=n[e];return a&&!r.includes(a)?$z(a,s):Xz(s)},$z=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Jz(t,n)}switch(e){case Bz.bool:return qz(t);case Bz.float4:case Bz.float8:case Bz.int2:case Bz.int4:case Bz.int8:case Bz.numeric:case Bz.oid:return Yz(t);case Bz.json:case Bz.jsonb:return Kz(t);case Bz.timestamp:return Zz(t);case Bz.abstime:case Bz.date:case Bz.daterange:case Bz.int4range:case Bz.int8range:case Bz.money:case Bz.reltime:case Bz.text:case Bz.time:case Bz.timestamptz:case Bz.timetz:case Bz.tsrange:case Bz.tstzrange:default:return Xz(t)}},Xz=e=>e,qz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yz=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Kz=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Jz=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(i){r=a?a.split(","):[]}return r.map((e=>$z(t,e)))}return e},Zz=e=>"string"==typeof e?e.replace(" ","T"):e,Qz=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class eV{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var tV,nV,rV,iV,aV,sV,oV,lV;(nV=tV||(tV={})).SYNC="sync",nV.JOIN="join",nV.LEAVE="leave";class cV{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cV.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=cV.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=cV.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const i=this.cloneDeep(e),a=this.transformState(t),s={},o={};return this.map(i,((e,t)=>{a[e]||(o[e]=t)})),this.map(a,((e,t)=>{const n=i[e];if(n){const r=t.map((e=>e.presence_ref)),i=n.map((e=>e.presence_ref)),a=t.filter((e=>i.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));a.length>0&&(s[e]=a),l.length>0&&(o[e]=l)}else s[e]=t})),this.syncDiff(i,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,((t,r)=>{var i;const a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map((e=>e.presence_ref)),r=a.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,a,r)})),this.map(a,((t,n)=>{let i=e[t];if(!i)return;const a=n.map((e=>e.presence_ref));i=i.filter((e=>a.indexOf(e.presence_ref)<0)),e[t]=i,r(t,i,n),0===i.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(iV=rV||(rV={})).ALL="*",iV.INSERT="INSERT",iV.UPDATE="UPDATE",iV.DELETE="DELETE",(sV=aV||(aV={})).BROADCAST="broadcast",sV.PRESENCE="presence",sV.POSTGRES_CHANGES="postgres_changes",sV.SYSTEM="system",(lV=oV||(oV={})).SUBSCRIBED="SUBSCRIBED",lV.TIMED_OUT="TIMED_OUT",lV.CLOSED="CLOSED",lV.CHANNEL_ERROR="CHANNEL_ERROR";class uV{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Iz.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new eV(this,Dz.join,this.params,this.timeout),this.rejoinTimer=new Hz((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Iz.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Iz.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Iz.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Iz.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Dz.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new cV(this),this.broadcastEndpointURL=Qz(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:s}}=this.params;this._onError((t=>null==e?void 0:e(oV.CHANNEL_ERROR,t))),this._onClose((()=>null==e?void 0:e(oV.CLOSED)));const o={},l={broadcast:i,presence:a,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,a=[];for(let n=0;n<i;n++){const i=r[n],{filter:{event:s,schema:o,table:l,filter:c}}=i,u=t&&t[n];if(!u||u.event!==s||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null==e||e(oV.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(oV.SUBSCRIBED))}null==e||e(oV.SUBSCRIBED)})).receive("error",(t=>{null==e||e(oV.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null==e||e(oV.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,i,a;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||n("ok"),s.receive("ok",(()=>n("ok"))),s.receive("error",(()=>n("error"))),s.receive("timeout",(()=>n("timed out")))}));{const{event:a,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Iz.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dz.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new eV(this,Dz.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout((()=>r.abort()),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new eV(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const a=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=Dz;if(n&&[s,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a})).map((e=>e.callback(u,n))):null===(i=this.bindings[a])||void 0===i||i.filter((e=>{var n,r,i,s,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===s||(null==s?void 0:s.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null==e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a})).map((e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,s={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===Iz.closed}_isJoined(){return this.state===Iz.joined}_isJoining(){return this.state===Iz.joining}_isLeaving(){return this.state===Iz.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&uV.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dz.close,{},e)}_onError(e){this._on(Dz.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Iz.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Wz(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Wz(e.columns,e.old_record)),t}}const hV=()=>{},dV="undefined"!=typeof WebSocket;class fV{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Oz,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hV,this.conn=null,this.sendBuffer=[],this.serializer=new Vz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>AB((async()=>{const{default:e}=await Promise.resolve().then((()=>qB));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${Fz.websocket}`,this.httpEndpoint=Qz(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hz((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(dV)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new pV(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),AB((async()=>{const{default:e}=await import("./browser-3hPKAxw8.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([0,1])).then((({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kz.connecting:return Uz.Connecting;case kz.open:return Uz.Open;case kz.closing:return Uz.Closing;default:return Uz.Closed}}isConnected(){return this.connectionState()===Uz.Open}channel(e,t={config:{}}){const n=new uV(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let e=null;try{e=JSON.parse(atob(t.split(".")[1]))}catch(n){}if(e&&e.exp){if(!(Math.floor(Date.now()/1e3)-e.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`)}this.accessTokenValue=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(Dz.access_token,{access_token:t})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:i}=e;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Dz.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class pV{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=kz.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class mV extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gV(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class vV extends mV{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yV extends mV{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var bV=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const xV=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>AB((async()=>{const{default:e}=await Promise.resolve().then((()=>qB));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},wV=e=>{if(Array.isArray(e))return e.map((e=>wV(e)));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((([e,n])=>{const r=e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[r]=wV(n)})),t};var _V=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const SV=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TV=(e,t,n)=>_V(void 0,void 0,void 0,(function*(){const r=yield bV(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield AB((()=>Promise.resolve().then((()=>qB))),void 0)).Response:Response}));e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then((n=>{t(new vV(SV(n),e.status||500))})).catch((e=>{t(new yV(SV(e),e))})):t(new yV(SV(e),e))}));function EV(e,t,n,r,i,a){return _V(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{e(n,((e,t,n,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))})(t,r,i,a)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>TV(e,o,r)))}))}))}function MV(e,t,n,r){return _V(this,void 0,void 0,(function*(){return EV(e,"GET",t,n,r)}))}function AV(e,t,n,r,i){return _V(this,void 0,void 0,(function*(){return EV(e,"POST",t,r,i,n)}))}function CV(e,t,n,r,i){return _V(this,void 0,void 0,(function*(){return EV(e,"DELETE",t,r,i,n)}))}var PV=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const OV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class RV{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=xV(r)}uploadOrUpdate(e,t,n,r){return PV(this,void 0,void 0,(function*(){try{let i;const a=Object.assign(Object.assign({},kV),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null==r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:s},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{})),h=yield u.json();if(u.ok)return{data:{path:l,id:h.Id,fullPath:h.Key},error:null};return{data:null,error:h}}catch(i){if(gV(i))return{data:null,error:i};throw i}}))}upload(e,t,n){return PV(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return PV(this,void 0,void 0,(function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:kV.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);const o=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:a}),l=yield o.json();if(o.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(gV(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return PV(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield AV(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new mV("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(gV(n))return{data:null,error:n};throw n}}))}update(e,t,n){return PV(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return PV(this,void 0,void 0,(function*(){try{return{data:yield AV(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(gV(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return PV(this,void 0,void 0,(function*(){try{return{data:{path:(yield AV(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(gV(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return PV(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),i=yield AV(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(gV(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return PV(this,void 0,void 0,(function*(){try{const r=yield AV(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null}))),error:null}}catch(r){if(gV(r))return{data:null,error:r};throw r}}))}download(e,t){return PV(this,void 0,void 0,(function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield MV(this.fetch,`${this.url}/${n}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(gV(a))return{data:null,error:a};throw a}}))}info(e){return PV(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield MV(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:wV(e),error:null}}catch(n){if(gV(n))return{data:null,error:n};throw n}}))}exists(e){return PV(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return _V(this,void 0,void 0,(function*(){return EV(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gV(n)&&n instanceof yV){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);const a=void 0!==(null==t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return PV(this,void 0,void 0,(function*(){try{return{data:yield CV(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(gV(t))return{data:null,error:t};throw t}}))}list(e,t,n){return PV(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},OV),t),{prefix:e||""});return{data:yield AV(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(gV(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const IV={"X-Client-Info":"storage-js/2.7.1"};var NV=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class DV{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},IV),t),this.fetch=xV(n)}listBuckets(){return NV(this,void 0,void 0,(function*(){try{return{data:yield MV(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(gV(e))return{data:null,error:e};throw e}}))}getBucket(e){return NV(this,void 0,void 0,(function*(){try{return{data:yield MV(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(gV(t))return{data:null,error:t};throw t}}))}createBucket(e,t={public:!1}){return NV(this,void 0,void 0,(function*(){try{return{data:yield AV(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gV(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return NV(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,i){return _V(this,void 0,void 0,(function*(){return EV(e,"PUT",t,r,i,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(gV(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return NV(this,void 0,void 0,(function*(){try{return{data:yield AV(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(gV(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return NV(this,void 0,void 0,(function*(){try{return{data:yield CV(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(gV(t))return{data:null,error:t};throw t}}))}}class LV extends DV{constructor(e,t={},n){super(e,t,n)}from(e){return new RV(this.url,this.headers,e,this.fetch)}}let FV="";FV="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const UV={headers:{"X-Client-Info":`supabase-js-${FV}/2.49.8`}},jV={schema:"public"},BV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zV={};var VV=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const HV=(e,t,n)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?WB:fetch),(...e)=>t(...e)})(n),i="undefined"==typeof Headers?GB:Headers;return(n,a)=>VV(void 0,void 0,void 0,(function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new i(null==a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},a),{headers:l}))}))};var WV=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const GV="2.69.1",$V=3e4,XV=9e4,qV={"X-Client-Info":`gotrue-js/${GV}`},YV="X-Supabase-Api-Version",KV={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},JV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ZV extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function QV(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class eH extends ZV{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class tH extends ZV{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class nH extends ZV{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class rH extends nH{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class iH extends nH{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class aH extends nH{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sH extends nH{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oH extends nH{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lH extends nH{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function cH(e){return QV(e)&&"AuthRetryableFetchError"===e.name}class uH extends nH{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class hH extends nH{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fH=" \t\n\r=".split(""),pH=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fH.length;t+=1)e[fH[t].charCodeAt(0)]=-2;for(let t=0;t<dH.length;t+=1)e[dH[t].charCodeAt(0)]=t;return e})();function mH(e,t,n){const r=pH[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function gH(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)mH(e.charCodeAt(s),i,a);return t.join("")}function vH(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function yH(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)mH(e.charCodeAt(i),n,r);return new Uint8Array(t)}function bH(e){const t=[];return function(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}vH(r,t)}}(e,(e=>t.push(e))),new Uint8Array(t)}const xH=()=>"undefined"!=typeof window&&"undefined"!=typeof document,wH={tested:!1,writable:!1},_H=()=>{if(!xH())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(wH.tested)return wH.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wH.tested=!0,wH.writable=!0}catch(t){wH.tested=!0,wH.writable=!1}return wH.writable};const SH=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>AB((async()=>{const{default:e}=await Promise.resolve().then((()=>qB));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},TH=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},EH=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},MH=async(e,t)=>{await e.removeItem(t)};class AH{constructor(){this.promise=new AH.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function CH(e){const t=e.split(".");if(3!==t.length)throw new hH("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!JV.test(t[n]))throw new hH("JWT not in base64url format");return{header:JSON.parse(gH(t[0])),payload:JSON.parse(gH(t[1])),signature:yH(t[2]),raw:{header:t[0],payload:t[1]}}}function PH(e){return("0"+e.toString(16)).substr(-2)}async function OH(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kH(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,PH).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await TH(e,`${t}-code-verifier`,i);const a=await OH(r);return[a,r===a?"plain":"s256"]}AH.promiseConstructor=Promise;const RH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const IH=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NH=[502,503,504];async function DH(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new lH(IH(e),0);if(NH.includes(e.status))throw new lH(IH(e),e.status);let r,i;try{r=await e.json()}catch(s){throw new tH(IH(s),s)}const a=function(e){const t=e.headers.get(YV);if(!t)return null;if(!t.match(RH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(s){return null}}(e);if(a&&a.getTime()>=KV.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?i=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new uH(IH(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new rH}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new uH(IH(r),e.status,r.weak_password.reasons);throw new eH(IH(r),e.status||500,i)}async function LH(e,t,n,r){var i;const a=Object.assign({},null==r?void 0:r.headers);a[YV]||(a[YV]=KV.name),(null==r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,i,a){const s=((e,t,n,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,a);let o;try{o=await e(n,Object.assign({},s))}catch(l){throw new lH(IH(l),0)}o.ok||await DH(o);if(null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await DH(l)}}(e,t,n+o,{headers:a,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function FH(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function UH(e){const t=FH(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function jH(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function BH(e){return{data:e,error:null}}function zH(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},s)},error:null}}function VH(e){return e}class HH{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=SH(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await LH(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(QV(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await LH(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:jH})}catch(n){if(QV(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await LH(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:zH,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(QV(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await LH(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jH})}catch(t){if(QV(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,a,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await LH(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:VH});if(c.error)throw c.error;const u=await c.json(),h=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,d=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(QV(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await LH(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jH})}catch(t){if(QV(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await LH(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:jH})}catch(n){if(QV(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await LH(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:jH})}catch(n){if(QV(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await LH(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(QV(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await LH(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(QV(t))return{data:null,error:t};throw t}}}const WH={getItem:e=>_H()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_H()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_H()&&globalThis.localStorage.removeItem(e)}};function GH(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const $H=!!(globalThis&&_H()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class XH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qH extends XH{}async function YH(e,t,n){const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort()}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw new qH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($H)try{await globalThis.navigator.locks.query()}catch(i){}return await n()}try{return await n()}finally{}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const KH={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function JH(e,t,n){return await n()}class ZH{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ZH.nextInstanceID,ZH.nextInstanceID+=1,this.instanceID>0&&xH();const r=Object.assign(Object.assign({},KH),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new HH({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=SH(r.fetch),this.lock=r.lock||JH,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:xH()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=YH:this.lock=JH,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:_H()?this.storage=WH:(this.memoryStorage={},this.storage=GH(this.memoryStorage)):(this.memoryStorage={},this.storage=GH(this.memoryStorage)),xH()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${GV}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),xH()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return QV(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return QV(t)?{error:t}:{error:new tH("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await LH(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:FH}),{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(QV(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await kH(this.storage,this.storageKey)),i=await LH(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},xform:FH})}else{if(!("phone"in e))throw new aH("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:s}=e;i=await LH(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null==s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null==s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:FH})}}const{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(QV(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await LH(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:UH})}else{if(!("phone"in e))throw new aH("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await LH(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:UH})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new iH}}catch(t){if(QV(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await EH(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:i}=await LH(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:FH});if(await MH(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new iH}}catch(i){if(QV(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:a}=e,s=await LH(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:FH}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new iH}}catch(t){if(QV(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,a;try{if("email"in e){const{email:r,options:i}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await kH(this.storage,this.storageKey));const{error:o}=await LH(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await LH(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(a=null==n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new aH("You must provide either an email or phone number.")}catch(s){if(QV(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:s}=await LH(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:FH});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(QV(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,a=null;return"pkce"===this.flowType&&([i,a]=await kH(this.storage,this.storageKey)),await LH(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:BH})}catch(i){if(QV(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new rH;const{error:r}=await LH(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(QV(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:a}=await LH(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:a,error:s}=await LH(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:s}}throw new aH("You must provide either an email or phone number and a type")}catch(t){if(QV(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await EH(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<XV;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await LH(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jH}):await this._useSession((async e=>{var t,n,r;const{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await LH(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:jH}):{data:{user:null},error:new rH}}))}catch(t){if(QV(t))return function(e){return QV(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await MH(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new rH;const a=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await kH(this.storage,this.storageKey));const{data:l,error:c}=await LH(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:a.access_token,xform:jH});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(n){if(QV(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rH;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:a}=CH(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(QV(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new rH;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(QV(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!xH())throw new sH("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sH(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new oH("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new sH("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new oH("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:s,expires_at:o,token_type:l}=e;if(!(i&&s&&a&&l))throw new sH("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let h=c+u;o&&(h=parseInt(o));const{data:d,error:f}=await this._getUser(i);if(f)throw f;const p={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:h,refresh_token:a,token_type:l,user:d.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(QV(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await EH(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return QV(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await MH(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i)}}))}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await kH(this.storage,this.storageKey,!0));try{return await LH(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(QV(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(QV(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,i,a,s;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await LH(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==s?s:void 0})}));if(r)throw r;return xH()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(n){if(QV(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:a}=t;if(a)throw a;return await LH(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(QV(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await LH(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:FH})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&cH(t)&&Date.now()+n-i<$V},new Promise(((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(i){if(!r(a,i))return void t(i)}})()})))}catch(i){if(this._debug(t,"error",i),QV(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),xH()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await EH(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<XV;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(cH(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return void this._debug(t,"error",n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new rH;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new AH;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new rH;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),QV(i)){const e={session:null,error:i};return cH(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(i){r.push(i)}}));if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await TH(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await MH(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xH()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),$V);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/$V);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof XH))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xH()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await kH(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await LH(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(QV(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await LH(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(QV(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:s}=await LH(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})}))}catch(t){if(QV(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await LH(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(QV(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),i=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=CH(r.access_token);let s=null;a.aal&&(s=a.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find((t=>t.kid===e));if(n)return n;if(n=this.jwks.keys.find((t=>t.kid===e)),n&&this.jwks_cached_at+6e5>Date.now())return n;const{data:r,error:i}=await LH(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||0===r.keys.length)throw new hH("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find((t=>t.kid===e)),!n)throw new hH("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:i,signature:a,raw:{header:s,payload:o}}=CH(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!(await crypto.subtle.verify(l,u,a,bH(`${s}.${o}`))))throw new hH("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(n){if(QV(n))return{data:null,error:n};throw n}}}ZH.nextInstanceID=0;const QH=ZH;class eW extends QH{constructor(e){super(e)}}var tW=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class nW{constructor(e,t,n){var r,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},null!==(n=null==h?void 0:h.headers)&&void 0!==n?n:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>WV(this,void 0,void 0,(function*(){return""}))};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=n?n:{},{db:jV,realtime:zV,auth:Object.assign(Object.assign({},BV),{storageKey:c}),global:UV});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=u.global.headers)&&void 0!==i?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=u.auth)&&void 0!==a?a:{},this.headers,u.global.fetch),this.fetch=HV(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Tz(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new DB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new LV(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return tW(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:i,flowType:a,lock:s,debug:o},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eW({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:a,lock:s,debug:o,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fV(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const rW=(e,t,n)=>new nW(e,t,n),iW="https://pwksgdjjkryqryqrvyja.supabase.co",aW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB3a3NnZGpqa3J5cXJ5cXJ2eWphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NjAwNDgsImV4cCI6MjA2NDEzNjA0OH0.CbqU-Gx-QglerhxQzDjK6KFAi4CRLUl90LeKvDEKtbc";try{new URL(iW)}catch{throw new Error(` Invalid Supabase URL format: ${iW}`)}const sW=rW(iW,aW,{auth:{storage:localStorage,autoRefreshToken:!0,persistSession:!1}}),oW=rW(iW,aW,{auth:{persistSession:!1}}),lW=async e=>{try{return await e(sW)}catch(t){try{return await e(oW)}catch(n){throw n}}};
/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */
var cW={version:"0.18.5"},uW=1252,hW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dW={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},fW=function(e){-1!=hW.indexOf(e)&&(uW=dW[0]=e)};var pW=function(e){fW(e)};function mW(){pW(1200),fW(1252)}function gW(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function vW(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var yW,bW=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return 255==t&&254==n?function(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==n?vW(e.slice(2)):65279==t?e.slice(1):e},xW=function(e){return String.fromCharCode(e)},wW=function(e){return String.fromCharCode(e)},_W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function SW(e){for(var t="",n=0,r=0,i=0,a=0,s=0,o=0,l=0,c=0;c<e.length;)a=(n=e.charCodeAt(c++))>>2,s=(3&n)<<4|(r=e.charCodeAt(c++))>>4,o=(15&r)<<2|(i=e.charCodeAt(c++))>>6,l=63&i,isNaN(r)?o=l=64:isNaN(i)&&(l=64),t+=_W.charAt(a)+_W.charAt(s)+_W.charAt(o)+_W.charAt(l);return t}function TW(e){var t="",n=0,r=0,i=0,a=0,s=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=_W.indexOf(e.charAt(l++))<<2|(a=_W.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&a)<<4|(s=_W.indexOf(e.charAt(l++)))>>2,64!==s&&(t+=String.fromCharCode(r)),i=(3&s)<<6|(o=_W.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(i));return t}var EW=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),MW=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function AW(e){return EW?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function CW(e){return EW?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var PW=function(e){return EW?MW(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function OW(e){if("undefined"==typeof ArrayBuffer)return PW(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function kW(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function RW(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return RW(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var IW=EW?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:MW(e)})))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var NW=/\u0000/g,DW=/[\u0001-\u0006]/g;function LW(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function FW(e,t){var n=""+e;return n.length>=t?n:KG("0",t-n.length)+n}function UW(e,t){var n=""+e;return n.length>=t?n:KG(" ",t-n.length)+n}function jW(e,t){var n=""+e;return n.length>=t?n:n+KG(" ",t-n.length)}var BW=Math.pow(2,32);function zW(e,t){return e>BW||e<-BW?function(e,t){var n=""+Math.round(e);return n.length>=t?n:KG("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:KG("0",t-n.length)+n}(Math.round(e),t)}function VW(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var HW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],WW=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var GW={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},$W={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},XW={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function qW(e,t,n){for(var r=e<0?-1:1,i=e*r,a=0,s=1,o=0,l=1,c=0,u=0,h=Math.floor(i);c<t&&(o=(h=Math.floor(i))*s+a,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),a=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=a):(u=c,o=s)),!n)return[0,r*o,u];var d=Math.floor(r*o/u);return[d,r*o-d*u,u]}function YW(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),a=0,s=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++i&&(o.T=i=0,++r,++o.D)),60===r)s=n?[1317,10,29]:[1900,2,29],a=3;else if(0===r)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var KW=new Date(1899,11,31,0,0,0),JW=KW.getTime(),ZW=new Date(1900,2,1,0,0,0);function QW(e,t){var n=e.getTime();return t?n-=1262304e5:e>=ZW&&(n+=864e5),(n-(JW+6e4*(e.getTimezoneOffset()-KW.getTimezoneOffset())))/864e5}function eG(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function tG(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=eG(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=eG(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),eG(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function nG(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):tG(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return SG(14,QW(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function rG(e,t,n,r){var i,a="",s=0,o=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,c=t.length;break;case 3:return WW[n.m-1][1];case 5:return WW[n.m-1][0];default:return WW[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,c=t.length;break;case 3:return HW[n.q][0];default:return HW[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(o*(n.S+n.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(a=FW(s,2+r),"ss"===t?a.substr(0,2):"."+a.substr(2,t.length-1))):FW(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:i=l,c=1}return c>0?FW(i,c):""}function iG(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var aG=/%/g;function sG(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+sG(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),-1===(n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).indexOf("e")){var s=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+a)%i)+"."+r.substr(a)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var oG=/# (\?+)( ?)\/( ?)(\d+)/;var lG=/^#*0*\.([0#]+)/,cG=/\).*[0#]/,uG=/\(###\) ###\\?-####/;function hG(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function dG(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function fG(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function pG(e,t,n){if(40===e.charCodeAt(0)&&!t.match(cG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?pG("n",r,n):"("+pG("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return vG(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(aG,""),i=t.length-r.length;return vG(e,r,n*Math.pow(10,2*i))+KG("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return sG(t,n);if(36===t.charCodeAt(0))return"$"+pG(e,t.substr(" "==t.charAt(1)?2:1),n);var i,a,s,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+zW(l,t.length);if(t.match(/^[#?]+$/))return"0"===(i=zW(n,0))&&(i=""),i.length>t.length?i:hG(t.substr(0,t.length-i.length))+i;if(a=t.match(oG))return function(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),a=Math.floor(i/r),s=i-a*r,o=r;return n+(0===a?"":""+a)+" "+(0===s?KG(" ",e[1].length+1+e[4].length):UW(s,e[1].length)+e[2]+"/"+e[3]+FW(o,e[4].length))}(a,l,c);if(t.match(/^#+0+$/))return c+zW(l,t.length-t.indexOf("0"));if(a=t.match(lG))return i=dG(n,a[1].length).replace(/^([^\.]+)$/,"$1."+hG(a[1])).replace(/\.$/,"."+hG(a[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+KG("0",hG(a[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+dG(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+iG(zW(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+pG(e,t,-n):iG(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,a[1].length)))+"."+FW(fG(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return pG(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=LW(pG(e,t.replace(/[\\-]/g,""),n)),s=0,LW(LW(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<i.length?i.charAt(s++):"0"===e?"0":""})));if(t.match(uG))return"("+(i=pG(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=qW(l,Math.pow(10,s)-1,!1),i=""+c," "==(u=vG("n",a[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],(u=jW(o[2],s)).length<a[4].length&&(u=hG(a[4].substr(a[4].length-u.length))+u),i+=u;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=qW(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?UW(o[1],s)+a[2]+"/"+a[3]+jW(o[2],s):KG(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=zW(n,0),t.length<=i.length?i:hG(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,d=t.length-i.length-h;return hG(t.substr(0,h)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=fG(n,a[1].length),n<0?"-"+pG(e,t,-n):iG(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?FW(0,3-e.length):"")+e}))+"."+FW(s,a[1].length);switch(t){case"###,##0.00":return pG(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=iG(zW(l,0));return"0"!==f?c+f:"";case"###,###.00":return pG(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return pG(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function mG(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+mG(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),!(n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+a)%i)+"."+r.substr(a)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function gG(e,t,n){if(40===e.charCodeAt(0)&&!t.match(cG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?gG("n",r,n):"("+gG("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return vG(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(aG,""),i=t.length-r.length;return vG(e,r,n*Math.pow(10,2*i))+KG("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return mG(t,n);if(36===t.charCodeAt(0))return"$"+gG(e,t.substr(" "==t.charAt(1)?2:1),n);var i,a,s,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+FW(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:hG(t.substr(0,t.length-i.length))+i;if(a=t.match(oG))return function(e,t,n){return n+(0===t?"":""+t)+KG(" ",e[1].length+2+e[4].length)}(a,l,c);if(t.match(/^#+0+$/))return c+FW(l,t.length-t.indexOf("0"));if(a=t.match(lG))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+hG(a[1])).replace(/\.$/,"."+hG(a[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+KG("0",hG(a[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+iG(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+gG(e,t,-n):iG(""+n)+"."+KG("0",a[1].length);if(a=t.match(/^#,#*,#0/))return gG(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=LW(gG(e,t.replace(/[\\-]/g,""),n)),s=0,LW(LW(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return s<i.length?i.charAt(s++):"0"===e?"0":""})));if(t.match(uG))return"("+(i=gG(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=qW(l,Math.pow(10,s)-1,!1),i=""+c," "==(u=vG("n",a[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],(u=jW(o[2],s)).length<a[4].length&&(u=hG(a[4].substr(a[4].length-u.length))+u),i+=u;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=qW(l,Math.pow(10,s)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?UW(o[1],s)+a[2]+"/"+a[3]+jW(o[2],s):KG(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:hG(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,d=t.length-i.length-h;return hG(t.substr(0,h)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+gG(e,t,-n):iG(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?FW(0,3-e.length):"")+e}))+"."+FW(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=iG(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return gG(e,t.slice(0,t.lastIndexOf(".")),n)+hG(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function vG(e,t,n){return(0|n)===n?gG(e,t,n):pG(e,t,n)}var yG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bG(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":VW(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(yG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var xG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wG(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function _G(e,t){var n=function(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var a=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,a];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var s=n[0].match(xG),o=n[1].match(xG);return wG(t,s)?[r,n[0]]:wG(t,o)?[r,n[1]]:[r,n[null!=s&&null!=o?2:1]]}return[r,a]}function SG(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:GW)[e])&&(r=n.table&&n.table[$W[e]]||GW[$W[e]]),null==r&&(r=XW[e]||"General")}if(VW(r,0))return nG(t,n);t instanceof Date&&(t=QW(t,n.date1904));var i=_G(r,t);if(VW(i[1]))return nG(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var i,a,s,o=[],l="",c=0,u="",h="t",d="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!VW(e,c))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";o[o.length]={t:p,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&null==(i=YW(t,n,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=YW(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=d),o[o.length]={t:u,v:l},h=u;break;case"A":case"a":case"":var m={t:u,v:u};if(null==i&&(i=YW(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",d="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",c+=5,d="h"):"/"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"":""),m.t="T",c+=5,d="h"):(m.t="t",++c),null==i&&"T"===m.t)return"";o[o.length]=m,h=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(yG)){if(null==i&&null==(i=YW(t,n)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",bG(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=i){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;o[o.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;o[o.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:u,v:u},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=o.length-1,h="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=d,h="h",v<1&&(v=1);break;case"s":(g=o[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=o[c].t;break;case"m":"s"===h&&(o[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&o[c].v.match(/[Hh]/)&&(v=1),v<2&&o[c].v.match(/[Mm]/)&&(v=2),v<3&&o[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var b,x="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=rG(o[c].t.charCodeAt(0),o[c].v,i,y),o[c].t="t";break;case"n":case"?":for(b=c+1;null!=o[b]&&("?"===(u=o[b].t)||"D"===u||(" "===u||"t"===u)&&null!=o[b+1]&&("?"===o[b+1].t||"t"===o[b+1].t&&"/"===o[b+1].v)||"("===o[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===o[b].v||" "===o[b].v&&null!=o[b+1]&&"?"==o[b+1].t));)o[c].v+=o[b].v,o[b]={v:"",t:";"},++b;x+=o[c].v,c=b-1;break;case"G":o[c].t="t",o[c].v=nG(t,n)}var w,_,S="";if(x.length>0){40==x.charCodeAt(0)?(w=t<0&&45===x.charCodeAt(0)?-t:t,_=vG("n",x,w)):(_=vG("n",x,w=t<0&&r>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(_=_.substr(1),o[0].v="-"+o[0].v)),b=_.length-1;var T=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){T=c;break}var E=o.length;if(T===o.length&&-1===_.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(b>=o[c].v.length-1?(b-=o[c].v.length,o[c].v=_.substr(b+1,o[c].v.length)):b<0?o[c].v="":(o[c].v=_.substr(0,b+1),b=-1),o[c].t="t",E=c);b>=0&&E<o.length&&(o[E].v=_.substr(0,b+1)+o[E].v)}else if(T!==o.length&&-1===_.indexOf("E")){for(b=_.indexOf(".")-1,c=T;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(a=o[c].v.indexOf(".")>-1&&c===T?o[c].v.indexOf(".")-1:o[c].v.length-1,S=o[c].v.substr(a+1);a>=0;--a)b>=0&&("0"===o[c].v.charAt(a)||"#"===o[c].v.charAt(a))&&(S=_.charAt(b--)+S);o[c].v=S,o[c].t="t",E=c}for(b>=0&&E<o.length&&(o[E].v=_.substr(0,b+1)+o[E].v),b=_.indexOf(".")+1,c=T;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===T)){for(a=o[c].v.indexOf(".")>-1&&c===T?o[c].v.indexOf(".")+1:0,S=o[c].v.substr(0,a);a<o[c].v.length;++a)b<_.length&&(S+=_.charAt(b++));o[c].v=S,o[c].t="t",E=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=r>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=vG(o[c].t,o[c].v,w),o[c].t="t");var M="";for(c=0;c!==o.length;++c)null!=o[c]&&(M+=o[c].v);return M}(i[1],t,n,i[0])}function TG(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=GW[n]){if(GW[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return GW[t]=e,t}function EG(e){for(var t=0;392!=t;++t)void 0!==e[t]&&TG(e[t],t)}function MG(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',GW=e}var AG={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},CG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var PG=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var a=[];for(r=1;16!=r;++r)a[r-1]="undefined"!=typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return a}(t),r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=0,a=e.length;i<a;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=-1^n,b=e.length-15,x=0;x<b;)y=v[e[x++]^255&y]^g[e[x++]^y>>8&255]^m[e[x++]^y>>16&255]^p[e[x++]^y>>>24]^f[e[x++]]^d[e[x++]]^h[e[x++]]^u[e[x++]]^c[e[x++]]^l[e[x++]]^o[e[x++]]^s[e[x++]]^a[e[x++]]^i[e[x++]]^r[e[x++]]^t[e[x++]];for(b+=15;x<b;)y=y>>>8^t[255&(y^e[x++])];return~y},e.str=function(e,n){for(var r=-1^n,i=0,a=e.length,s=0,o=0;i<a;)(s=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^s)]:s<2048?r=(r=r>>>8^t[255&(r^(192|s>>6&31))])>>>8^t[255&(r^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),o=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|s>>8&7))])>>>8^t[255&(r^(128|s>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&s)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|s>>12&15))])>>>8^t[255&(r^(128|s>>6&63))])>>>8^t[255&(r^(128|63&s))];return~r},e}(),OG=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"==typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function a(e){KX(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),a=e.l+i,s={};if(21589===r)1&(n=e.read_shift(1))&&(s.mtime=e.read_shift(4)),i>5&&(2&n&&(s.atime=e.read_shift(4)),4&n&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime));e.l=a,t[r]=s}return t}function s(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ie(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=_(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(EW&&Buffer.isBuffer(e)?e.toString("binary"):_(e)).split("\r\n"),i=0,a="";for(i=0;i<r.length;++i)if(a=r[i],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf("file")),n||(n=a.slice(0,a.lastIndexOf("/")+1)),a.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),a.slice(0,n.length)!=n););var s=(r[1]||"").match(/boundary="(.*?)"/);if(!s)throw new Error("MAD cannot find boundary");var o="--"+(s[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};d(u);var h,f=0;for(i=0;i<r.length;++i){var p=r[i];p!==o&&p!==o+"--"||(f++&&ue(u,r.slice(h,i),n),h=i)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,i,a,s,o,f=512,p=[],m=e.slice(0,512);KX(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return ie(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&KX(m=e.slice(0,f),28);var b=e.slice(0,f);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var x=m.read_shift(4,"i");if(3===n&&0!==x)throw new Error("# Directory Sectors: Expected 0 saw "+x);m.l+=4,a=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),s=m.read_shift(4,"i"),r=m.read_shift(4,"i"),o=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var w=-1,S=0;S<109&&!((w=m.read_shift(4,"i"))<0);++S)p[S]=w;var T=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);c(o,i,T,f,p);var E=function(e,t,n,r){var i=e.length,a=[],s=[],o=[],l=[],c=r-1,u=0,h=0,d=0,f=0;for(u=0;u<i;++u)if(o=[],(d=u+t)>=i&&(d-=i),!s[d]){l=[];var p=[];for(h=d;h>=0;){p[h]=!0,s[h]=!0,o[o.length]=h,l.push(e[h]);var m=n[Math.floor(4*h/r)];if(r<4+(f=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[m])break;if(p[h=VX(e[m],f)])break}a[d]={nodes:o,data:yX([l])}}return a}(T,a,p,f);E[a].name="!Directory",r>0&&s!==v&&(E[s].name="!MiniFAT"),E[p[0]].name="!FAT",E.fat_addrs=p,E.ssz=f;var M=[],A=[],C=[];!function(e,t,n,r,i,a,s,o){for(var c,d=0,f=r.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);KX(y,64),g=y.read_shift(2),c=xX(y,0,g-f),r.push(c);var b={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.ct=h(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.mt=h(y,y.l-8)),b.start=y.read_shift(4,"i"),b.size=y.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=v,b.name=""),5===b.type?(d=b.start,i>0&&d!==v&&(t[d].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=u(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:d!==v&&b.start!==v&&t[d]&&(b.content=l(b,t[d].data,(t[o]||{}).data))),b.content&&KX(b.content,0),a[c]=b,s.push(b)}}(a,E,T,M,r,{},A,s),function(e,t,n){for(var r=0,i=0,a=0,s=0,o=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;o<u.length;++o)i=e[r=u[o]].L,a=e[r].R,s=e[r].C,c[r]===r&&(-1!==i&&c[i]!==i&&(c[r]=c[i]),-1!==a&&c[a]!==a&&(c[r]=c[a])),-1!==s&&(c[s]=r),-1!==i&&r!=c[r]&&(c[i]=c[r],u.lastIndexOf(i)<o&&u.push(i)),-1!==a&&r!=c[r]&&(c[a]=c[r],u.lastIndexOf(a)<o&&u.push(a));for(r=1;r<l;++r)c[r]===r&&(-1!==a&&c[a]!==a?c[r]=c[a]:-1!==i&&c[i]!==i&&(c[r]=c[i]));for(r=1;r<l;++r)if(0!==e[r].type){if((o=r)!=c[o])do{o=c[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(A,C,M),M.shift();var P={FileIndex:A,FullPaths:C};return t&&t.raw&&(P.raw={header:b,sectors:T}),P}function l(e,t,n){for(var r=e.start,i=e.size,a=[],s=r;n&&i>0&&s>=0;)a.push(t.slice(s*g,s*g+g)),i-=g,s=VX(n,4*s);return 0===a.length?ZX(0):IW(a).slice(0,e.size)}function c(e,t,n,r,i){var a=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var s=n[e],o=(r>>>2)-1;if(!s)return;for(var l=0;l<o&&(a=VX(s,4*l))!==v;++l)i.push(a);c(VX(s,r-4),t-1,n,r,i)}}function u(e,t,n,r,i){var a=[],s=[];i||(i=[]);var o=r-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,a[a.length]=l,s.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=VX(e[u],c)}return{nodes:a,data:yX([s])}}function h(e,t){return new Date(1e3*(zX(e,t+4)/1e7*Math.pow(2,32)+zX(e,t)/1e7-11644473600))}function d(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="Sh33tJ5";if(OG.find(e,"/"+t))return;var n=ZX(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){d(e);for(var i=!1,a=!1,s=e.FullPaths.length-1;s>=0;--s){var o=e.FileIndex[s];switch(o.type){case 0:a?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(o.R*o.L*o.C)&&(i=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(i=!0);break;default:i=!0}}if(i||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(s=0;s<e.FullPaths.length;++s)u[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&h.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<h.length;++s){var f=n(h[s][0]);(a=u[f])||(h.push([f,{name:r(f).replace("/",""),type:1,clsid:x,ct:l,mt:l,content:null}]),u[f]=!0)}for(h.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,a=0,s=Math.min(n.length,r.length);i<s;++i){if(a=n[i].length-r[i].length)return a;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],s=0;s<h.length;++s)e.FullPaths[s]=h[s][0],e.FileIndex[s]=h[s][1];for(s=0;s<h.length;++s){var p=e.FileIndex[s],m=e.FullPaths[s];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||x,0===s)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=s+1;c<h.length&&n(e.FullPaths[c])!=m;++c);for(p.C=c>=h.length?-1:c,c=s+1;c<h.length&&n(e.FullPaths[c])!=n(m);++c);p.R=c>=h.length?-1:c,p.type=1}else n(e.FullPaths[s+1]||"")==n(m)&&(p.R=s+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],a=e.FullPaths[0],s=a,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(s=e.FullPaths[l].slice(a.length),(o=e.FileIndex[l]).size&&o.content&&"Sh33tJ5"!=s){s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=o.content,u=EW&&Buffer.isBuffer(c)?c.toString("binary"):_(c),h=0,d=Math.min(1024,u.length),f=0,p=0;p<=d;++p)(f=u.charCodeAt(p))>=32&&f<128&&++h;var m=h>=4*d/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+s),i.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),i.push("Content-Type: "+oe(o,s)),i.push(""),i.push(m?ce(u):le(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],a=[],s=ZX(1),o=n.compression?8:0,l=0,c=0,u=0,h=0,d=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(m=e.FileIndex[c]).size&&m.content&&"Sh33tJ5"!=p){var y=h,b=ZX(p.length);for(u=0;u<p.length;++u)b.write_shift(1,127&p.charCodeAt(u));b=b.slice(0,b.l),g[d]=PG.buf(m.content,0);var x=m.content;8==o&&(x=S(x)),(s=ZX(30)).write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),m.mt?i(s,m.mt):s.write_shift(4,0),s.write_shift(-4,g[d]),s.write_shift(4,x.length),s.write_shift(4,m.content.length),s.write_shift(2,b.length),s.write_shift(2,0),h+=s.length,r.push(s),h+=b.length,r.push(b),h+=x.length,r.push(x),(s=ZX(46)).write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,o),s.write_shift(4,0),s.write_shift(-4,g[d]),s.write_shift(4,x.length),s.write_shift(4,m.content.length),s.write_shift(2,b.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,y),v+=s.l,a.push(s),v+=b.length,a.push(b),++d}return s=ZX(22),s.write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,d),s.write_shift(2,d),s.write_shift(4,v),s.write_shift(4,h),s.write_shift(2,0),IW([IW(r),IW(a),s])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var a=i.content.length;a>0&&(a<4096?t+=a+63>>6:n+=a+511>>9)}}for(var s=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+n+s+o,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,o,s,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),a=ZX(r[7]<<9),s=0,o=0;for(s=0;s<8;++s)a.write_shift(1,b[s]);for(s=0;s<8;++s)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),s=0;s<3;++s)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,r[2]),a.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),a.write_shift(4,r[3]),a.write_shift(-4,r[1]?r[0]-1:v),a.write_shift(4,r[1]),s=0;s<109;++s)a.write_shift(-4,s<r[2]?r[1]+s:-1);if(r[1])for(o=0;o<r[1];++o){for(;s<236+127*o;++s)a.write_shift(-4,s<r[2]?r[1]+s:-1);a.write_shift(-4,o===r[1]-1?v:o+1)}var l=function(e){for(o+=e;s<o-1;++s)a.write_shift(-4,s+1);e&&(++s,a.write_shift(-4,v))};for(o=s=0,o+=r[1];s<o;++s)a.write_shift(-4,w.DIFSECT);for(o+=r[2];s<o;++s)a.write_shift(-4,w.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,h=e.FileIndex[0];c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=o,l(u+511>>9)));for(l(r[6]+7>>3);511&a.l;)a.write_shift(-4,w.ENDOFCHAIN);for(o=s=0,c=0;c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=o,l(u+63>>6)));for(;511&a.l;)a.write_shift(-4,w.ENDOFCHAIN);for(s=0;s<r[4]<<2;++s){var d=e.FullPaths[s];if(d&&0!==d.length){h=e.FileIndex[s],0===s&&(h.start=h.size?h.start-1:v);var p=0===s&&n.root||h.name;if(u=2*(p.length+1),a.write_shift(64,p,"utf16le"),a.write_shift(2,u),a.write_shift(1,h.type),a.write_shift(1,h.color),a.write_shift(-4,h.L),a.write_shift(-4,h.R),a.write_shift(-4,h.C),h.clsid)a.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)a.write_shift(4,0);a.write_shift(4,h.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,h.start),a.write_shift(4,h.size),a.write_shift(4,0)}else{for(c=0;c<17;++c)a.write_shift(4,0);for(c=0;c<3;++c)a.write_shift(4,-1);for(c=0;c<12;++c)a.write_shift(4,0)}}for(s=1;s<e.FileIndex.length;++s)if((h=e.FileIndex[s]).size>=4096)if(a.l=h.start+1<<9,EW&&Buffer.isBuffer(h.content))h.content.copy(a,a.l,0,h.size),a.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)a.write_shift(1,h.content[c]);for(;511&c;++c)a.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if((h=e.FileIndex[s]).size>0&&h.size<4096)if(EW&&Buffer.isBuffer(h.content))h.content.copy(a,a.l,0,h.size),a.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)a.write_shift(1,h.content[c]);for(;63&c;++c)a.write_shift(1,0)}if(EW)a.l=a.length;else for(;a.l<a.length;)a.write_shift(1,0);return a}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],x="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:x,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S(e){return m?m.deflateRawSync(e):Y(e)}var T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],M=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];for(var A,C,P="undefined"!=typeof Uint8Array,O=P?new Uint8Array(256):[],k=0;k<256;++k)O[k]=(C=void 0,255&((C=139536&((A=k)<<1|A<<11)|558144&(A<<5|A<<15))>>16|C>>8|C));function R(e,t){var n=O[255&e];return t<=8?n>>>8-t:(n=n<<8|O[e>>8&255],t<=16?n>>>16-t:(n=n<<8|O[e>>16&255])>>>24-t)}function I(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function N(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function L(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function F(e,t,n){var r=7&t,i=t>>>3,a=(1<<n)-1,s=e[i]>>>r;return n<8-r?s&a:(s|=e[i+1]<<8-r,n<16-r?s&a:(s|=e[i+2]<<16-r,n<24-r?s&a:(s|=e[i+3]<<24-r)&a))}function U(e,t,n){var r=7&t,i=t>>>3;return r<=5?e[i]|=(7&n)<<r:(e[i]|=n<<r&255,e[i+1]=(7&n)>>8-r),t+3}function j(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function z(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function V(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(EW){var a=CW(r);if(e.copy)e.copy(a);else for(;i<e.length;++i)a[i]=e[i];return a}if(P){var s=new Uint8Array(r);if(s.set)s.set(e);else for(;i<n;++i)s[i]=e[i];return s}return e.length=r,e}function H(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function W(e,t,n){var r=1,i=0,a=0,s=0,o=0,l=e.length,c=P?new Uint16Array(32):H(32);for(a=0;a<32;++a)c[a]=0;for(a=l;a<n;++a)e[a]=0;l=e.length;var u=P?new Uint16Array(l):H(l);for(a=0;a<l;++a)c[i=e[a]]++,r<i&&(r=i),u[a]=0;for(c[0]=0,a=1;a<=r;++a)c[a+16]=o=o+c[a-1]<<1;for(a=0;a<l;++a)0!=(o=e[a])&&(u[a]=c[o+16]++);var h=0;for(a=0;a<l;++a)if(0!=(h=e[a]))for(o=R(u[a],r)>>r-h,s=(1<<r+4-h)-1;s>=0;--s)t[o|s<<h]=15&h|a<<4;return r}var G=P?new Uint16Array(512):H(512),$=P?new Uint16Array(32):H(32);if(!P){for(var X=0;X<512;++X)G[X]=0;for(X=0;X<32;++X)$[X]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);W(e,$,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);W(n,G,288)}();var q=function(){for(var e=P?new Uint8Array(32768):[],t=0,n=0;t<M.length-1;++t)for(;n<M[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=P?new Uint8Array(259):[];for(t=0,n=0;t<E.length-1;++t)for(;n<E[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var i=0,a=0,s=P?new Uint16Array(32768):[];a<t.length;){var o=Math.min(65535,t.length-a);if(o<10){for(7&(i=U(n,i,+!(a+o!=t.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,o),n.write_shift(2,65535&~o);o-- >0;)n[n.l++]=t[a++];i=8*n.l}else{i=U(n,i,+!(a+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[a],u=-1,h=0;if((u=s[l=32767&(l<<5^c)])&&((u|=-32768&a)>a&&(u-=32768),u<a))for(;t[u+h]==t[a+h]&&h<250;)++h;if(h>2){(c=r[h])<=22?i=B(n,i,O[c+1]>>1)-1:(B(n,i,3),B(n,i+=5,O[c-23]>>5),i+=3);var d=c<8?0:c-4>>2;d>0&&(z(n,i,h-E[c]),i+=d),c=e[a-u],i=B(n,i,O[c]>>3),i-=3;var f=c<4?0:c-2>>1;f>0&&(z(n,i,a-u-M[c]),i+=f);for(var p=0;p<h;++p)s[l]=32767&a,l=32767&(l<<5^t[a]),++a;o-=h-1}else c<=143?c+=48:i=j(n,i,1),i=B(n,i,O[c]),s[l]=32767&a,++a}i=B(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(t,n)}}();function Y(e){var t=ZX(50+Math.floor(1.1*e.length)),n=q(e,t);return t.slice(0,n)}var K=P?new Uint16Array(32768):H(32768),J=P?new Uint16Array(32768):H(32768),Z=P?new Uint16Array(128):H(128),Q=1,ee=1;function te(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,i=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var a=0,s=P?new Uint8Array(19):H(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=P?new Uint8Array(8):H(8),u=P?new Uint8Array(8):H(8),h=s.length,d=0;d<i;++d)s[T[d]]=a=N(e,t),l<a&&(l=a),c[a]++,t+=3;var f=0;for(c[0]=0,d=1;d<=l;++d)u[d]=f=f+c[d-1]<<1;for(d=0;d<h;++d)0!=(f=s[d])&&(o[d]=u[f]++);var p=0;for(d=0;d<h;++d)if(0!=(p=s[d])){f=O[o[d]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)Z[f|m<<p]=7&p|d<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(f=Z[L(e,t)]),f>>>=3){case 16:for(a=3+I(e,t),t+=2,f=g[g.length-1];a-- >0;)g.push(f);break;case 17:for(a=3+N(e,t),t+=3;a-- >0;)g.push(0);break;case 18:for(a=11+L(e,t),t+=7;a-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var v=g.slice(0,n),y=g.slice(n);for(d=n;d<286;++d)v[d]=0;for(d=r;d<30;++d)y[d]=0;return Q=W(v,K,286),ee=W(y,J,30),t}function ne(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[AW(t),2];for(var n=0,r=0,i=CW(t||1<<18),a=0,s=i.length>>>0,o=0,l=0;!(1&r);)if(r=N(e,n),n+=3,r>>>1!=0)for(r>>1==1?(o=9,l=5):(n=te(e,n),o=Q,l=ee);;){!t&&s<a+32767&&(s=(i=V(i,a+32767)).length);var c=F(e,n,o),u=r>>>1==1?G[c]:K[c];if(n+=15&u,(u>>>=4)>>>8&255){if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var d=a+E[u];h>0&&(d+=F(e,n,h),n+=h),c=F(e,n,l),n+=15&(u=r>>>1==1?$[c]:J[c]);var f=(u>>>=4)<4?0:u-2>>1,p=M[u];for(f>0&&(p+=F(e,n,f),n+=f),!t&&s<d&&(s=(i=V(i,d+100)).length);a<d;)i[a]=i[a-p],++a}else i[a++]=u}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,m>0)for(!t&&s<a+m&&(s=(i=V(i,a+m)).length);m-- >0;)i[a++]=e[n>>>3],n+=8}return t?[i,n+7>>>3]:[i.slice(0,a),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function re(e,t){if(!e)throw new Error(t)}function ie(e,t){var n=e;KX(n,0);var r={FileIndex:[],FullPaths:[]};d(r,{root:t.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var s=n.read_shift(2);n.l+=6;var o=n.read_shift(4);for(n.l=o,i=0;i<s;++i){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),f=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=a(n.slice(n.l+u,n.l+u+h));n.l+=u+h+f;var g=n.l;n.l=p+4,ae(n,l,c,r,m),n.l=g}return r}function ae(e,t,n,r,i){e.l+=2;var s=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n,a=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(a-1),r.setDate(i);var s=31&t,o=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(s<<1),r}(e);if(8257&s)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),d=e.read_shift(2),f="",p=0;p<h;++p)f+=String.fromCharCode(e[e.l++]);if(d){var g=a(e.slice(e.l,e.l+d));(g[21589]||{}).mt&&(l=g[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}e.l+=d;var v=e.slice(e.l,e.l+c);switch(o){case 8:v=function(e,t){if(!m)return ne(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var y=!1;8&s&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&re(y,"Bad compressed size: "+t+" != "+c),u!=n&&re(y,"Bad uncompressed size: "+n+" != "+u),he(r,f,v,{unsafe:!0,mt:l})}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oe(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&se[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&se[r[1]]?se[r[1]]:"application/octet-stream"}function le(e){for(var t=SW(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function ce(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var a=r[i];if(0!=a.length)for(var s=0;s<a.length;){var o=76,l=a.slice(s,s+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=a.slice(s,s+o),(s+=o)<a.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ue(e,t,n){for(var r,i="",a="",s="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":s=c[2].trim();break;case"content-transfer-encoding":a=c[2].trim()}}switch(++o,a.toLowerCase()){case"base64":r=PW(TW(t.slice(o).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return PW(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+a)}var u=he(e,i.slice(n.length),r,{unsafe:!0});s&&(u.ctype=s)}function he(e,t,n,i){var a=i&&i.unsafe;a||d(e);var s=!a&&OG.find(e,t);if(!s){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),s={name:r(t),type:2},e.FileIndex.push(s),e.FullPaths.push(o),a||OG.utils.cfb_gc(e)}return s.content=n,s.size=n?n.length:0,i&&(i.CLSID&&(s.clsid=i.CLSID),i.mt&&(s.mt=i.mt),i.ct&&(s.ct=i.ct)),s}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var a=t.toUpperCase(),s=!0===i?n.indexOf(a):r.indexOf(a);if(-1!==s)return e.FileIndex[s];var o=!a.match(DW);for(a=a.replace(NW,""),o&&(a=a.replace(DW,"!")),s=0;s<n.length;++s){if((o?n[s].replace(DW,"!"):n[s]).replace(NW,"")==a)return e.FileIndex[s];if((o?r[s].replace(DW,"!"):r[s]).replace(NW,"")==a)return e.FileIndex[s]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||EW&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return s(),o(e.readFileSync(t),n)}(t,n);case"base64":return o(PW(TW(t)),n);case"binary":return o(PW(t),n)}return o(t,n)},t.parse=o,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return s(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:_(r);case"base64":return SW("string"==typeof r?r:_(r));case"buffer":if(EW)return Buffer.isBuffer(r)?r:MW(r);case"array":return"string"==typeof r?PW(r):r}return r},t.writeFile=function(t,n,r){s();var i=p(t,r);e.writeFileSync(n,i)},t.utils={cfb_new:function(e){var t={};return d(t,e),t},cfb_add:he,cfb_del:function(e,t){d(e);var n=OG.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){d(e);var i=OG.find(e,t);if(i)for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==i)return e.FileIndex[a].name=r(n),e.FullPaths[a]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:WX,CheckField:YX,prep_blob:KX,bconcat:IW,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(n){}},_deflateRaw:Y,_inflateRaw:ne,consts:w},t}();function kG(e){return"string"==typeof e?OW(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function RG(e,t,n){if("undefined"!=typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=OW(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?L$(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!=typeof Blob){var i=new Blob([kG(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!=typeof saveAs)return saveAs(i,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(a)}),6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(null!=s.download)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(a)}),6e4),a}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=kW(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function IG(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function NG(e,t){for(var n=[],r=IG(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function DG(e){for(var t=[],n=IG(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function LG(e){for(var t=[],n=IG(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var FG=new Date(1899,11,30,0,0,0);function UG(e,t){return(e.getTime()-(FG.getTime()+6e4*(e.getTimezoneOffset()-FG.getTimezoneOffset())))/864e5}var jG=new Date,BG=FG.getTime()+6e4*(jG.getTimezoneOffset()-FG.getTimezoneOffset()),zG=jG.getTimezoneOffset();function VG(e){var t=new Date;return t.setTime(24*e*60*60*1e3+BG),t.getTimezoneOffset()!==zG&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-zG)),t}function HG(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(n=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60}t+=n*parseInt(i[a],10)}return t}var WG=new Date("2017-02-19T19:06:09.000Z"),GG=isNaN(WG.getFullYear())?new Date("2/19/17"):WG,$G=2017==GG.getFullYear();function XG(e,t){var n=new Date(e);if($G)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==GG.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function qG(e,t){if(EW&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return L$(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return L$(vW(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return L$(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return L$(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,(function(e){return n[e]||e}))}catch(a){}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function YG(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=YG(e[n]));return t}function KG(e,t){for(var n="";n.length<t;)n+=e;return n}function JG(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var ZG=["january","february","march","april","may","june","july","august","september","october","november","december"];function QG(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==ZG.indexOf(s))return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}var e$=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,n,r){if(e||"string"==typeof n)return t.split(n);for(var i=t.split(n),a=[i[0]],s=1;s<i.length;++s)a.push(r),a.push(i[s]);return a}}();function t$(e){return e?e.content&&e.type?qG(e.content,!0):e.data?bW(e.data):e.asNodeBuffer&&EW?bW(e.asNodeBuffer().toString("binary")):e.asBinary?bW(e.asBinary()):e._data&&e._data.getContent?bW(qG(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function n$(e){if(!e)return null;if(e.data)return gW(e.data);if(e.asNodeBuffer&&EW)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?gW(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function r$(e,t){for(var n=e.FullPaths||IG(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var s=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return e.files?e.files[n[a]]:e.FileIndex[a]}return null}function i$(e,t){var n=r$(e,t);if(null==n)throw new Error("Cannot find file "+t+" in zip");return n}function a$(e,t,n){if(!n)return(r=i$(e,t))&&".bin"===r.name.slice(-4)?n$(r):t$(r);var r;if(!t)return null;try{return a$(e,t)}catch(i){return null}}function s$(e,t,n){if(!n)return t$(i$(e,t));if(!t)return null;try{return s$(e,t)}catch(r){return null}}function o$(e){for(var t=e.FullPaths||IG(e.files),n=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function l$(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=EW?MW(n):function(e){for(var t=[],n=0,r=e.length+250,i=AW(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|63&s;else if(s>=55296&&s<57344){s=64+(1023&s);var o=1023&e.charCodeAt(++a);i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|o>>6&15|(3&s)<<4,i[n++]=128|63&o}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|63&s;n>r&&(t.push(i.slice(0,n)),n=0,i=AW(65535),r=65530)}return t.push(i.slice(0,n)),IW(t)}(n),OG.utils.cfb_add(e,t,r);OG.utils.cfb_add(e,t,n)}else e.file(t,n)}function c$(){return OG.utils.cfb_new()}function u$(e,t){switch(t.type){case"base64":return OG.read(e,{type:"base64"});case"binary":return OG.read(e,{type:"binary"});case"buffer":case"array":return OG.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function h$(e,t){if("/"==e.charAt(0))return e.slice(1);var n=t.split("/");"/"!=t.slice(-1)&&n.pop();for(var r=e.split("/");0!==r.length;){var i=r.shift();".."===i?n.pop():"."!==i&&n.push(i)}return n.join("/")}var d$='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',f$=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,p$=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,m$=d$.match(p$)?p$:/<[^>]*>/g,g$=/<\w*:/,v$=/<(\/?)\w+:/;function y$(e,t,n){for(var r={},i=0,a=0;i!==e.length&&(32!==(a=e.charCodeAt(i))&&10!==a&&13!==a);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var s=e.match(f$),o=0,l="",c=0,u="",h="",d=1;if(s)for(c=0;c!=s.length;++c){for(h=s[c],a=0;a!=h.length&&61!==h.charCodeAt(a);++a);for(u=h.slice(0,a).trim();32==h.charCodeAt(a+1);)++a;for(d=34==(i=h.charCodeAt(a+1))||39==i?1:0,l=h.slice(a+1+d,h.length-d),o=0;o!=u.length&&58!==u.charCodeAt(o);++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var f=(5===o&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(o+1);if(r[f]&&"ext"==u.slice(o-3,o))continue;r[f]=l,r[f.toLowerCase()]=l}}return r}function b$(e){return e.replace(v$,"<$1")}var x$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},w$=DG(x$),_$=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function n(r){var i=r+"",a=i.indexOf("<![CDATA[");if(-1==a)return i.replace(e,(function(e,t){return x$[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var s=i.indexOf("]]>");return n(i.slice(0,a))+i.slice(a+9,s)+n(i.slice(s+3))}}(),S$=/[&<>'"]/g,T$=/[\u0000-\u0008\u000b-\u001f]/g;function E$(e){return(e+"").replace(S$,(function(e){return w$[e]})).replace(T$,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function M$(e){return E$(e).replace(/ /g,"_x0020_")}var A$=/[\u0000-\u001f]/g;function C$(e){return(e+"").replace(S$,(function(e){return w$[e]})).replace(/\n/g,"<br/>").replace(A$,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}var P$=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(n){return n.replace(e,t)}}();function O$(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function k$(e){for(var t="",n=0,r=0,i=0,a=0,s=0,o=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(s=(31&r)<<6,s|=63&i,t+=String.fromCharCode(s)):(a=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a):(o=((7&r)<<18|(63&i)<<12|(63&a)<<6|63&(s=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function R$(e){var t,n,r,i=AW(2*e.length),a=1,s=0,o=0;for(n=0;n<e.length;n+=a)a=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),a=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),a=3):(a=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(i[s++]=255&o,i[s++]=o>>>8,o=0),i[s++]=t%256,i[s++]=t>>>8;return i.slice(0,s).toString("ucs2")}function I$(e){return MW(e,"binary").toString("utf8")}var N$="foo bar baz",D$=EW&&(I$(N$)==k$(N$)&&I$||R$(N$)==k$(N$)&&R$)||k$,L$=EW?function(e){return MW(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},F$=function(){var e={};return function(t,n){var r=t+"|"+(n||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),U$=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),j$=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),B$=/<\/?(?:vt:)?variant>/g,z$=/<(?:vt:)([^>]*)>([\s\S]*)</;function V$(e,t){var n=y$(e),r=e.match(j$(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach((function(e){var t=e.replace(B$,"").match(z$);t&&i.push({v:D$(t[2]),t:t[1]})})),i}var H$=/(^\s|\s$|\n)/;function W$(e,t){return"<"+e+(t.match(H$)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function G$(e){return IG(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function $$(e,t,n){return"<"+e+(null!=n?G$(n):"")+(null!=t?(t.match(H$)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function X$(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function q$(e){if(EW&&Buffer.isBuffer(e))return e.toString("utf8");if("string"==typeof e)return e;if("undefined"!=typeof Uint8Array&&e instanceof Uint8Array)return D$(kW(RW(e)));throw new Error("Bad input format: expected Buffer or string")}var Y$=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,K$="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",J$="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Z$="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Q$="http://schemas.openxmlformats.org/package/2006/content-types",eX="http://schemas.openxmlformats.org/package/2006/relationships",tX="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",nX="http://purl.org/dc/elements/1.1/",rX="http://purl.org/dc/terms/",iX="http://purl.org/dc/dcmitype/",aX="http://schemas.openxmlformats.org/officeDocument/2006/relationships",sX="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",oX="http://www.w3.org/2001/XMLSchema-instance",lX="http://www.w3.org/2001/XMLSchema",cX=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],uX="urn:schemas-microsoft-com:office:office",hX="urn:schemas-microsoft-com:office:excel",dX="urn:schemas-microsoft-com:office:spreadsheet",fX="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",pX="http://macVmlSchemaUri",mX="urn:schemas-microsoft-com:vml",gX="http://www.w3.org/TR/REC-html40";var vX=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,i=e[0][n].length;r<i;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},yX=EW?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:MW(e)}))):vX(e)}:vX,bX=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(jX(e,i)));return r.join("").replace(NW,"")},xX=EW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(NW,""):bX(e,t,n)}:bX,wX=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},_X=EW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):wX(e,t,n)}:wX,SX=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(UX(e,i)));return r.join("")},TX=EW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):SX(e,t,n)}:SX,EX=function(e,t){var n=zX(e,t);return n>0?TX(e,t+4,t+4+n-1):""},MX=EX,AX=function(e,t){var n=zX(e,t);return n>0?TX(e,t+4,t+4+n-1):""},CX=AX,PX=function(e,t){var n=2*zX(e,t);return n>0?TX(e,t+4,t+4+n-1):""},OX=PX,kX=function(e,t){var n=zX(e,t);return n>0?xX(e,t+4,t+4+n):""},RX=kX,IX=function(e,t){var n=zX(e,t);return n>0?TX(e,t+4,t+4+n):""},NX=IX,DX=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],a=5;a>=0;--a)i=256*i+e[t+a];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},LX=DX,FX=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};EW&&(MX=function(e,t){if(!Buffer.isBuffer(e))return EX(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},CX=function(e,t){if(!Buffer.isBuffer(e))return AX(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},OX=function(e,t){if(!Buffer.isBuffer(e))return PX(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},RX=function(e,t){if(!Buffer.isBuffer(e))return kX(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},NX=function(e,t){if(!Buffer.isBuffer(e))return IX(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},LX=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):DX(e,t)},FX=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array});var UX=function(e,t){return e[t]},jX=function(e,t){return 256*e[t+1]+e[t]},BX=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},zX=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},VX=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},HX=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function WX(e,t){var n,r,i,a,s,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,EW&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)l+=String.fromCharCode(jX(this,o)),o+=2;e*=2;break;case"utf8":l=TX(this,this.l,this.l+e);break;case"utf16le":e*=2,l=xX(this,this.l,this.l+e);break;case"wstr":return WX.call(this,e,"dbcs");case"lpstr-ansi":l=MX(this,this.l),e=4+zX(this,this.l);break;case"lpstr-cp":l=CX(this,this.l),e=4+zX(this,this.l);break;case"lpwstr":l=OX(this,this.l),e=4+2*zX(this,this.l);break;case"lpp4":e=4+zX(this,this.l),l=RX(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+zX(this,this.l),l=NX(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(i=UX(this,this.l+e++));)c.push(xW(i));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(i=jX(this,this.l+e));)c.push(xW(i)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,s=0;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return i=UX(this,o),this.l=o+1,a=WX.call(this,e-s,i?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(xW(jX(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(l="",o=this.l,s=0;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(o))return i=UX(this,o),this.l=o+1,a=WX.call(this,e-s,i?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(xW(UX(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return n=UX(this,this.l),this.l++,n;case 2:return n=("i"===t?BX:jX)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(r=zX(this,this.l),this.l+=4,r):(n=(e>0?VX:HX)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return r=8==e?LX(this,this.l):LX([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=_X(this,this.l,e)}}return this.l+=e,l}var GX=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},$X=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},XX=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function qX(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)XX(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,GX(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=r?-t:t;isFinite(s)?0==s?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[n+o]=255&a;e[n+6]=(15&i)<<4|15&a,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,$X(this,t,this.l)}}return this.l+=r,this}function YX(e,t){var n=_X(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function KX(e,t){e.l=t,e.read_shift=WX,e.chk=YX,e.write_shift=qX}function JX(e,t){e.l+=t}function ZX(e){var t=AW(e);return KX(t,0),t}function QX(e,t,n){if(e){var r,i,a;KX(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=n1[o]||n1[65535];for(a=127&(r=e.read_shift(1)),i=1;i<4&&128&r;++i)a+=(127&(r=e.read_shift(1)))<<7*i;l=e.l+a;var u=c.f&&c.f(e,a,n);if(e.l=l,t(u,c,o))return}}}function eq(){var e=[],t=EW?256:2048,n=function(e){var t=ZX(e);return KX(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},a=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:a,push:function(e){i(),null==(r=e).l&&(r.l=r.length),a(t)},end:function(){return i(),IW(e)},_bufs:e}}function tq(e,t,n,r){var i,a=+t;if(!isNaN(a)){r||(r=n1[a].p||(n||[]).length||0),i=1+(a>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,128+(127&a)),s.write_shift(1,a>>7));for(var o=0;4!=o;++o){if(!(r>=128)){s.write_shift(1,r);break}s.write_shift(1,128+(127&r)),r>>=7}r>0&&FX(n)&&e.push(n)}}function nq(e,t,n){var r=YG(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function rq(e,t,n){var r=YG(e);return r.s=nq(r.s,t.s,n),r.e=nq(r.e,t.s,n),r}function iq(e,t){if(e.cRel&&e.c<0)for(e=YG(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=YG(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=hq(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function aq(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?iq(e.s,t.biff)+":"+iq(e.e,t.biff):(e.s.rRel?"":"$")+oq(e.s.r)+":"+(e.e.rRel?"":"$")+oq(e.e.r):(e.s.cRel?"":"$")+cq(e.s.c)+":"+(e.e.cRel?"":"$")+cq(e.e.c)}function sq(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function oq(e){return""+(e+1)}function lq(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function cq(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function uq(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function hq(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function dq(e){var t=e.indexOf(":");return-1==t?{s:uq(e),e:uq(e)}:{s:uq(e.slice(0,t)),e:uq(e.slice(t+1))}}function fq(e,t){return void 0===t||"number"==typeof t?fq(e.s,e.e):("string"!=typeof e&&(e=hq(e)),"string"!=typeof t&&(t=hq(t)),e==t?e:e+":"+t)}function pq(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=e.length;for(n=0;r<a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===a||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function mq(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=SG(e.z,n?UG(t):t)}catch(r){}try{return e.w=SG((e.XF||{}).numFmtId||(n?14:0),n?UG(t):t)}catch(r){return""+t}}function gq(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?tY[e.v]||e.v:mq(e,null==t?e.v:t))}function vq(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function yq(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&null!=r.origin){if("number"==typeof r.origin)s=r.origin;else{var l="string"==typeof r.origin?uq(r.origin):r.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=pq(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==s&&(c.e.r=s=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[h].length;++d)if(void 0!==t[h][d]){var f={v:t[h][d]},p=s+h,m=o+d;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[h][d]||"object"!=typeof t[h][d]||Array.isArray(t[h][d])||t[h][d]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[h][d][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"==typeof f.v?f.t="n":"boolean"==typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||GW[14],r.cellDates?(f.t="d",f.w=SG(f.z,UG(f.v))):(f.t="n",f.v=UG(f.v),f.w=SG(f.z,f.v))):f.t="s";else f=t[h][d];if(i)a[p]||(a[p]=[]),a[p][m]&&a[p][m].z&&(f.z=a[p][m].z),a[p][m]=f;else{var g=hq({c:m,r:p});a[g]&&a[g].z&&(f.z=a[g].z),a[g]=f}}}return c.s.c<1e7&&(a["!ref"]=fq(c)),a}function bq(e,t){return yq(null,e,t)}function xq(e,t){return t||(t=ZX(4)),t.write_shift(4,e),t}function wq(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function _q(e,t){var n=!1;return null==t&&(n=!0,t=ZX(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function Sq(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Tq(e,t){var n=e.l,r=e.read_shift(1),i=wq(e),a=[],s={t:i,h:i};if(1&r){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(Sq(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=n+t,s}var Eq=Tq;function Mq(e,t){var n=!1;return null==t&&(n=!0,t=ZX(23+4*e.t.length)),t.write_shift(1,1),_q(e.t,t),t.write_shift(4,1),function(e,t){t||(t=ZX(4)),t.write_shift(2,0),t.write_shift(2,0)}(0,t),n?t.slice(0,t.l):t}function Aq(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Cq(e,t){return null==t&&(t=ZX(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Pq(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Oq(e,t){return null==t&&(t=ZX(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var kq=wq,Rq=_q;function Iq(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Nq(e,t){var n=!1;return null==t&&(n=!0,t=ZX(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var Dq=wq,Lq=Iq,Fq=Nq;function Uq(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?LX([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):VX(t,0)>>2;return n?i/100:i}function jq(e,t){null==t&&(t=ZX(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function Bq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var zq=Bq,Vq=function(e,t){return t||(t=ZX(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Hq(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Wq(e,t){return(t||ZX(8)).write_shift(8,e,"f")}function Gq(e,t){if(t||(t=ZX(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function $q(e,t){var n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var Xq=80,qq=[Xq,81],Yq={1:{n:"CodePage",t:2},2:{n:"Category",t:Xq},3:{n:"PresentationFormat",t:Xq},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:Xq},15:{n:"Company",t:Xq},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:Xq},27:{n:"ContentStatus",t:Xq},28:{n:"Language",t:Xq},29:{n:"Version",t:Xq},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Kq={1:{n:"CodePage",t:2},2:{n:"Title",t:Xq},3:{n:"Subject",t:Xq},4:{n:"Author",t:Xq},5:{n:"Keywords",t:Xq},6:{n:"Comments",t:Xq},7:{n:"Template",t:Xq},8:{n:"LastAuthor",t:Xq},9:{n:"RevNumber",t:Xq},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:Xq},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Jq={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Zq=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Qq(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var eY=YG(Qq([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),tY={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},nY={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},rY={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},iY={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function aY(e,t){var n,r=function(e){for(var t=[],n=IG(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(rY),i=[];i[i.length]=d$,i[i.length]=$$("Types",null,{xmlns:Q$,"xmlns:xsd":lX,"xmlns:xsi":oX}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return $$("Default",null,{Extension:e[0],ContentType:e[1]})})));var a=function(r){e[r]&&e[r].length>0&&(n=e[r][0],i[i.length]=$$("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:iY[r][t.bookType]||iY[r].xlsx}))},s=function(n){(e[n]||[]).forEach((function(e){i[i.length]=$$("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:iY[n][t.bookType]||iY[n].xlsx})}))},o=function(t){(e[t]||[]).forEach((function(e){i[i.length]=$$("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})}))};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var sY={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function oY(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function lY(e,t){var n={"!id":{}};if(!e)return n;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(e.match(m$)||[]).forEach((function(e){var i=y$(e);if("<Relationship"===i[0]){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var s="External"===i.TargetMode?i.Target:h$(i.Target,t);n[s]=a,r[i.Id]=a}})),n["!id"]=r,n}function cY(e){var t=[d$,$$("Relationships",null,{xmlns:eX})];return IG(e["!id"]).forEach((function(n){t[t.length]=$$("Relationship",null,e["!id"][n])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function uY(e,t,n,r,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[sY.HLINK,sY.XPATH,sY.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function hY(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function dY(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+cW.version+"</meta:generator></office:meta></office:document-meta>"}var fY=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],pY=function(){for(var e=new Array(fY.length),t=0;t<fY.length;++t){var n=fY[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function mY(e){var t={};e=D$(e);for(var n=0;n<fY.length;++n){var r=fY[n],i=e.match(pY[n]);null!=i&&i.length>0&&(t[r[1]]=_$(i[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=XG(t[r[1]]))}return t}function gY(e,t,n,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=E$(t),r[r.length]=n?$$(e,t,n):W$(e,t))}function vY(e,t){var n=t||{},r=[d$,$$("cp:coreProperties",null,{"xmlns:cp":K$,"xmlns:dc":nX,"xmlns:dcterms":rX,"xmlns:dcmitype":iX,"xmlns:xsi":oX})],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&gY("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:X$(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&gY("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:X$(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=fY.length;++a){var s=fY[a],o=n.Props&&null!=n.Props[s[1]]?n.Props[s[1]]:e?e[s[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&gY(s[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var yY=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bY=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function xY(e,t,n,r){var i=[];if("string"==typeof e)i=V$(e,r);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map((function(e){return{v:e}})));var s="string"==typeof t?V$(t,r).map((function(e){return e.v})):t,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=s.slice(o,o+l)}o+=l}}function wY(e){var t=[],n=$$;return e||(e={}),e.Application="SheetJS",t[t.length]=d$,t[t.length]=$$("Properties",null,{xmlns:Z$,"xmlns:vt":sX}),yY.forEach((function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=E$(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=n(r[0],i))}})),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+E$(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _Y=/<[^>]+>[^<]*/g;function SY(e){var t=[d$,$$("Properties",null,{xmlns:J$,"xmlns:vt":sX})];if(!e)return t.join("");var n=1;return IG(e).forEach((function(r){++n,t[t.length]=$$("property",function(e){switch(typeof e){case"string":var t=$$("vt:lpwstr",E$(e));return t.replace(/&quot;/g,"_x0022_");case"number":return $$((0|e)==e?"vt:i4":"vt:r8",E$(String(e)));case"boolean":return $$("vt:bool",e?"true":"false")}if(e instanceof Date)return $$("vt:filetime",X$(e));throw new Error("Unable to serialize "+e)}(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:E$(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var TY,EY={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function MY(e,t,n){TY||(TY=DG(EY)),e[t=TY[t]||t]=n}function AY(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function CY(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function PY(e,t,n){return e.read_shift(0,"lpwstr")}function OY(e,t,n){return 31===t?PY(e):CY(e,0,n)}function kY(e,t,n){return OY(e,t,!1===n?0:4)}function RY(e){var t=e.l,n=DY(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[n,DY(e,3)]}function IY(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var a=e.read_shift(4),s=e.read_shift(4);r[a]=e.read_shift(s,1200===t?"utf16le":"utf8").replace(NW,"").replace(DW,"!"),1200===t&&s%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),r}function NY(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),n}function DY(e,t,n){var r,i=e.read_shift(2),a=n||{};if(e.l+=2,12!==t&&i!==t&&-1===qq.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&i)))throw new Error("Expected type "+t+" saw "+i);switch(12===t?i:t){case 2:return r=e.read_shift(2,"i"),a.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return r=e.read_shift(4);case 30:return CY(e,0,4).replace(NW,"");case 31:return PY(e);case 64:return AY(e);case 65:return NY(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return kY(e,i,!a.raw).replace(NW,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return OY(e,t,0)}(e,i).replace(NW,"");case 4108:return function(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(RY(e));return n}(e);case 4126:case 4127:return 4127==i?function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(NW,""),e.l-i&2&&(e.l+=2)}return n}(e):function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(NW,"");return n}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function LY(e,t){var n=ZX(4),r=ZX(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=ZX(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var i=(n*=1e7)/Math.pow(2,32)|0;i>0&&(n%=Math.pow(2,32),r+=i);var a=ZX(8);return a.write_shift(4,n),a.write_shift(4,r),a}(t);break;case 31:case 80:for((r=ZX(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return IW([n,r])}function FY(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var u=e.read_shift(4),h=e.read_shift(4);a[s]=[u,h+n]}a.sort((function(e,t){return e[1]-t[1]}));var d={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var f=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,f=!1);break;case 80:case 4108:e.l<=a[s][1]&&(e.l=a[s][1],f=!1)}if((!t||0==s)&&e.l<=a[s][1]&&(f=!1,e.l=a[s][1]),f)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var p=t[a[s][0]];if(d[p.n]=DY(e,p.t,{raw:!0}),"version"===p.p&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(65535&d[p.n])).slice(-4)),"CodePage"==p.n)switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:pW(o=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(1===a[s][0]){if(o=d.CodePage=DY(e,2),pW(o),-1!==l){var m=e.l;e.l=a[l][1],c=IY(e,o),e.l=m}}else if(0===a[s][0]){if(0===o){l=s,e.l=a[s+1][1];continue}c=IY(e,o)}else{var g,v=c[a[s][0]];switch(e[e.l]){case 65:e.l+=4,g=NY(e);break;case 30:case 31:e.l+=4,g=kY(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=WY(e,4);break;case 64:e.l+=4,g=XG(AY(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[v]=g}}return e.l=n+r,d}var UY=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function jY(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function BY(e,t,n){var r=ZX(8),i=[],a=[],s=8,o=0,l=ZX(8),c=ZX(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!t){(c=ZX(8)).write_shift(4,0),i.unshift(c);var u=[ZX(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var h=e[o][0];for((l=ZX(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=IW(u),a.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(UY.indexOf(e[o][0])>-1||bY.indexOf(e[o][0])>-1)&&null!=e[o][1]){var d=e[o][1],f=0;if(t){var p=n[f=+t[e[o][0]]];if("version"==p.p&&"string"==typeof d){var m=d.split(".");d=(+m[0]<<16)+(+m[1]||0)}l=LY(p.t,d)}else{var g=jY(d);-1==g&&(g=31,d=String(d)),l=LY(g,d)}a.push(l),(c=ZX(8)).write_shift(4,t?f:2+o),i.push(c),s+=8+l.length}var v=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,v),v+=a[o].length;return r.write_shift(4,s),r.write_shift(4,a.length),IW([r].concat(i).concat(a))}function zY(e,t,n){var r=e.content;if(!r)return{};KX(r,0);var i,a,s,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==OG.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(1!==(i=r.read_shift(4))&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),o=r.read_shift(4),1===i&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);2===i&&(s=r.read_shift(16),l=r.read_shift(4));var h,d=FY(r,t),f={SystemIdentifier:c};for(var p in d)f[p]=d[p];if(f.FMTID=a,1===i)return f;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);try{h=FY(r,null)}catch(m){}for(p in h)f[p]=h[p];return f.FMTID=[a,s],f}function VY(e,t,n,r,i,a){var s=ZX(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,OG.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=BY(e,n,r);if(o.push(l),i){var c=BY(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return IW(o)}function HY(e,t){return e.read_shift(t),null}function WY(e,t){return 1===e.read_shift(t)}function GY(e,t){return t||(t=ZX(2)),t.write_shift(2,+!!e),t}function $Y(e){return e.read_shift(2,"u")}function XY(e,t){return t||(t=ZX(2)),t.write_shift(2,e),t}function qY(e,t){return function(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}(e,t,$Y)}function YY(e,t,n){return n||(n=ZX(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function KY(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";(n&&n.biff,n&&8!=n.biff)?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");return n.biff>=2&&n.biff<=5&&(i="cpstr"),r?e.read_shift(r,i):""}function JY(e){var t,n=e.read_shift(2),r=e.read_shift(1),i=4&r,a=8&r,s=1+(1&r),o=0,l={};a&&(o=e.read_shift(2)),i&&(t=e.read_shift(4));var c=2==s?"dbcs-cont":"sbcs-cont",u=0===n?"":e.read_shift(n,c);return a&&(e.l+=4*o),i&&(e.l+=t),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ZY(e){var t=e.t||"",n=ZX(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=ZX(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),IW([n,r])}function QY(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function eK(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):QY(e,r,n)}function tK(e,t,n){if(n.biff>5)return eK(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function nK(e,t,n){return n||(n=ZX(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function rK(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(NW,"");return r&&(e.l+=24),i}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return n+r.replace(/\\/g,"/");var i=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return n+e.read_shift(i>>1,"utf16le").replace(NW,"")}(e);default:throw new Error("Unsupported Moniker "+n)}}function iK(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(NW,""):""}function aK(e,t){t||(t=ZX(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function sK(e){var t=ZX(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)t.write_shift(4,s[n]);if(28==a)aK(r=r.slice(1),t);else if(2&a){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));var o=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)t.write_shift(2,o.charCodeAt(n));t.write_shift(2,0),8&a&&aK(i>-1?r.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function oK(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function lK(e,t){var n=oK(e);return n[3]=0,n}function cK(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function uK(e,t,n,r){return r||(r=ZX(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function hK(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function dK(e){return[e.read_shift(2),Uq(e)]}function fK(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function pK(e,t){return t||(t=ZX(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function mK(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:n}}}var gK=mK;function vK(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function yK(e){e.l+=2,e.l+=e.read_shift(2)}var bK={0:yK,4:yK,5:yK,6:yK,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:yK,9:yK,10:yK,11:yK,12:yK,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:yK,15:yK,16:yK,17:yK,18:yK,19:yK,20:yK,21:vK};function xK(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),(t-=2)>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function wK(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var a=ZX(i);return a.write_shift(2,r),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function _K(e,t){var n=!t||t.biff>=8?2:1,r=ZX(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function SK(e,t,n){var r=0;n&&2==n.biff||(r=e.read_shift(2));var i=e.read_shift(2);return n&&2==n.biff&&(r=1-(i>>15),i&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},i]}function TK(e,t,n,r){var i=n&&5==n.biff;r||(r=ZX(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return null==a.l&&(a.l=a.length),a}var EK=tK;function MK(e,t,n){var r=e.l+t,i=8!=n.biff&&n.biff?2:4,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:a,c:o},e:{r:s,c:l}}}function AK(e,t,n,r){var i=n&&5==n.biff;r||(r=ZX(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function CK(e,t,n){var r=cK(e);2!=n.biff&&9!=t||++e.l;var i=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return r.val=i,r.t=!0===i||!1===i?"b":"e",r}var PK=function(e,t,n){return 0===t?"":tK(e,0,n)};function OK(e,t,n){var r,i=e.read_shift(2),a={fBuiltIn:1&i,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return 14849===n.sbcch&&(r=function(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=KY(e,0,n),a=e.read_shift(2);if(a!==(r-=e.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return e.l+=a,i}(e,t-2,n)),a.body=r||e.read_shift(t-2),"string"==typeof r&&(a.Name=r),a}var kK=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function RK(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(n&&2==n.biff?1:2),l=0;(!n||n.biff>=5)&&(5!=n.biff&&(e.l+=2),l=e.read_shift(2),5==n.biff&&(e.l+=2),e.l+=4);var c=QY(e,s,n);32&i&&(c=kK[c.charCodeAt(0)]);var u=r-e.l;n&&2==n.biff&&--u;var h=r!=e.l&&0!==o&&u>0?function(e,t,n,r){var i,a=e.l+t,s=$Z(e,r,n);a!==e.l&&(i=GZ(e,a-e.l,s,n));return[s,i]}(e,u,n,o):[];return{chKey:a,Name:c,itab:l,rgce:h}}function IK(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=KY(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,a=e.read_shift(n.biff>8?4:2);0!==a--;)r.push(hK(e,n.biff,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function NK(e,t,n){var r=gK(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,ZZ(e,t,n)]}var DK={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function LK(e){var t=ZX(24),n=uq(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return IW([t,sK(e[1])])}function FK(e){var t=e[1].Tooltip,n=ZX(10+2*(t.length+1));n.write_shift(2,2048);var r=uq(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function UK(e,t,n){if(!n.cellStyles)return JX(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),a=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var jK=cK,BK=qY,zK=eK;var VK=[2,3,48,49,131,139,140,245],HK=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=DG({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=bq(function(t,n){var r=[],i=AW(1);switch(n.type){case"base64":i=PW(TW(t));break;case"binary":i=PW(t);break;case"buffer":case"array":i=t}KX(i,0);var a=i.read_shift(1),s=!!(136&a),o=!1,l=!1;switch(a){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,s=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+a.toString(16))}var c=0,u=521;2==a&&(c=i.read_shift(2)),i.l+=3,2!=a&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=a&&(u=i.read_shift(2));var h=i.read_shift(2),d=n.codepage||1252;2!=a&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(d=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);for(var f=[],p={},m=Math.min(i.length,2==a?521:u-10-(o?264:0)),g=l?32:11;i.l<m&&13!=i[i.l];)switch((p={}).name=yW.utils.decode(d,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,p.type=String.fromCharCode(i.read_shift(1)),2==a||l||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==a&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&f.push(p),2!=a&&(i.l+=l?13:14),p.type){case"B":(!o||8!=p.len)&&n.WTF;break;case"G":case"P":n.WTF;break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=f.length;++y)r[0][y]=f[y].name;for(;c-- >0;)if(42!==i[i.l])for(++i.l,r[++v]=[],y=0,y=0;y!=f.length;++y){var b=i.slice(i.l,i.l+f[y].len);i.l+=f[y].len,KX(b,0);var x=yW.utils.decode(d,b);switch(f[y].type){case"C":x.trim().length&&(r[v][y]=x.replace(/\s+$/,""));break;case"D":8===x.length?r[v][y]=new Date(+x.slice(0,4),+x.slice(4,6)-1,+x.slice(6,8)):r[v][y]=x;break;case"F":r[v][y]=parseFloat(x.trim());break;case"+":case"I":r[v][y]=l?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(x.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+x+"|")}break;case"M":if(!s)throw new Error("DBF Unexpected MEMO for type "+a.toString(16));r[v][y]="##MEMO##"+(l?parseInt(x.trim(),10):b.read_shift(4));break;case"N":(x=x.replace(/\u0000/g,"").trim())&&"."!=x&&(r[v][y]=+x||0);break;case"@":r[v][y]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[v][y]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-b.read_shift(-8,"f");break;case"B":if(o&&8==f[y].len){r[v][y]=b.read_shift(8,"f");break}case"G":case"P":b.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else i.l+=h;if(2!=a&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return i["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return vq(n(e,t),t)}catch(r){if(t&&t.WTF)throw r}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var i=n||{};if(+i.codepage>=0&&pW(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var a=eq(),s=b2(e,{header:1,raw:!0,cellDates:!0}),o=s[0],l=s.slice(1),c=e["!cols"]||[],u=0,h=0,d=0,f=1;for(u=0;u<o.length;++u)if(((c[u]||{}).DBF||{}).name)o[u]=c[u].DBF.name,++d;else if(null!=o[u]){if(++d,"number"==typeof o[u]&&(o[u]=o[u].toString(10)),"string"!=typeof o[u])throw new Error("DBF Invalid column name "+o[u]+" |"+typeof o[u]+"|");if(o.indexOf(o[u])!==u)for(h=0;h<1024;++h)if(-1==o.indexOf(o[u]+"_"+h)){o[u]+="_"+h;break}}var p=pq(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",b="",x=0,w=[];for(h=0;h<l.length;++h)null!=l[h][u]&&w.push(l[h][u]);if(0!=w.length&&null!=o[u]){for(h=0;h<w.length;++h){switch(typeof w[h]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=w[h]instanceof Date?"D":"C"}x=Math.max(x,String(w[h]).length),y=y&&y!=b?"C":b}x>250&&(x=250),"C"==(b=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>x&&(x=c[u].DBF.len),"B"==y&&"N"==b&&(y="N",v[u]=c[u].DBF.dec,x=c[u].DBF.len),g[u]="C"==y||"N"==b?x:r[y]||0,f+=g[u],m[u]=y}else m[u]="?"}var _=a.next(32);for(_.write_shift(4,318902576),_.write_shift(4,l.length),_.write_shift(2,296+32*d),_.write_shift(2,f),u=0;u<4;++u)_.write_shift(4,0);for(_.write_shift(4,(+t[uW]||3)<<8),u=0,h=0;u<o.length;++u)if(null!=o[u]){var S=a.next(32),T=(o[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,T,"sbcs"),S.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),S.write_shift(4,h),S.write_shift(1,g[u]||r[m[u]]||0),S.write_shift(1,v[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),h+=g[u]||r[m[u]]||0}var E=a.next(264);for(E.write_shift(4,13),u=0;u<65;++u)E.write_shift(4,0);for(u=0;u<l.length;++u){var M=a.next(f);for(M.write_shift(1,0),h=0;h<o.length;++h)if(null!=o[h])switch(m[h]){case"L":M.write_shift(1,null==l[u][h]?63:l[u][h]?84:70);break;case"B":M.write_shift(8,l[u][h]||0,"f");break;case"N":var A="0";for("number"==typeof l[u][h]&&(A=l[u][h].toFixed(v[h]||0)),d=0;d<g[h]-A.length;++d)M.write_shift(1,32);M.write_shift(1,A,"sbcs");break;case"D":l[u][h]?(M.write_shift(4,("0000"+l[u][h].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(l[u][h].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+l[u][h].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var C=String(null!=l[u][h]?l[u][h]:"").slice(0,g[h]);for(M.write_shift(1,C,"sbcs"),d=0;d<g[h]-C.length;++d)M.write_shift(1,32)}}return a.next(1).write_shift(1,26),a.end()}}}(),WK=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+IG(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?wW(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:wW(r)};function i(e,i){var a,s=e.split(/[\n\r]+/),o=-1,l=-1,c=0,u=0,h=[],d=[],f=null,p={},m=[],g=[],v=[],y=0;for(+i.codepage>=0&&pW(+i.codepage);c!==s.length;++c){y=0;var b,x=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=x.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),_=w[0];if(x.length>0)switch(_){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&d.push(x.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,T=!1,E=!1,M=!1,A=-1,C=-1;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[u].slice(1))-1,T=!0;break;case"Y":for(o=parseInt(w[u].slice(1))-1,T||(l=0),a=h.length;a<=o;++a)h[a]=[];break;case"K":'"'===(b=w[u].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(JG(b))?isNaN(QG(b).getDate())||(b=XG(b)):(b=JG(b),null!==f&&bG(f)&&(b=VG(b))),S=!0;break;case"E":M=!0;var P=xZ(w[u].slice(1),{r:o,c:l});h[o][l]=[h[o][l],P];break;case"S":E=!0,h[o][l]=[h[o][l],"S5S"];break;case"R":A=parseInt(w[u].slice(1))-1;break;case"C":C=parseInt(w[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+x)}if(S&&(h[o][l]&&2==h[o][l].length?h[o][l][0]=b:h[o][l]=b,f=null),E){if(M)throw new Error("SYLK shared formula cannot have own formula");var O=A>-1&&h[A][C];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");h[o][l][1]=SZ(O[1],{r:o-A,c:l-C})}break;case"F":var k=0;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"X":l=parseInt(w[u].slice(1))-1,++k;break;case"Y":for(o=parseInt(w[u].slice(1))-1,a=h.length;a<=o;++a)h[a]=[];break;case"M":y=parseInt(w[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=d[parseInt(w[u].slice(1))];break;case"W":for(v=w[u].slice(1).split(" "),a=parseInt(v[0],10);a<=parseInt(v[1],10);++a)y=parseInt(v[2],10),g[a-1]=0===y?{hidden:!0}:{wch:y},OJ(g[a-1]);break;case"C":g[l=parseInt(w[u].slice(1))-1]||(g[l]={});break;case"R":m[o=parseInt(w[u].slice(1))-1]||(m[o]={}),y>0?(m[o].hpt=y,m[o].hpx=IJ(y)):0===y&&(m[o].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+x)}k<1&&(f=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+x)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,p]}function a(e,t){var n=function(e,t){switch(t.type){case"base64":return i(TW(e),t);case"binary":return i(e,t);case"buffer":return i(EW&&Buffer.isBuffer(e)?e.toString("binary"):kW(e),t);case"array":return i(qG(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],a=n[1],s=bq(r,t);return IG(a).forEach((function(e){s[e]=a[e]})),s}function s(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+_Z(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return vq(a(e,t),t)},to_sheet:a,from_sheet:function(e,t){var n,r,i=["ID;PWXL;N;E"],a=[],o=pq(e["!ref"]),l=Array.isArray(e),c="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=i,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=EJ(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=MJ(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*RJ(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(i,e["!rows"]),i.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var u=o.s.r;u<=o.e.r;++u)for(var h=o.s.c;h<=o.e.c;++h){var d=hq({r:u,c:h});(n=l?(e[u]||[])[h]:e[d])&&(null!=n.v||n.f&&!n.F)&&a.push(s(n,0,u,h))}return i.join(c)+c+a.join(c)+c+"E"+c}}}(),GK=function(){function e(e,t){for(var n=e.split("\n"),r=-1,i=-1,a=0,s=[];a!==n.length;++a)if("BOT"!==n[a].trim()){if(!(r<0)){for(var o=n[a].trim().split(","),l=o[0],c=o[1],u=n[++a]||"";1&(u.match(/["]/g)||[]).length&&a<n.length-1;)u+="\n"+n[++a];switch(u=u.trim(),+l){case-1:if("BOT"===u){s[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?s[r][i]=!0:"FALSE"===u?s[r][i]=!1:isNaN(JG(c))?isNaN(QG(c).getDate())?s[r][i]=c:s[r][i]=XG(c):s[r][i]=JG(c),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),s[r][i++]=""!==u?u:null}if("EOD"===u)break}}else s[++r]=[],i=0;return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function t(t,n){return bq(function(t,n){switch(n.type){case"base64":return e(TW(t),n);case"binary":return e(t,n);case"buffer":return e(EW&&Buffer.isBuffer(t)?t.toString("binary"):kW(t),n);case"array":return e(qG(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}return{to_workbook:function(e,n){return vq(t(e,n),n)},to_sheet:t,from_sheet:function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],a=pq(n["!ref"]),s=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,a.e.r-a.s.r+1,""),e(i,"TUPLES",0,a.e.c-a.s.c+1,""),e(i,"DATA",0,0,"");for(var o=a.s.r;o<=a.e.r;++o){t(i,-1,0,"BOT");for(var l=a.s.c;l<=a.e.c;++l){var c=hq({r:o,c:l});if(r=s?(n[o]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=SG(r.z||GW[14],UG(XG(r.v)))),t(i,0,r.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}()}}(),$K=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return bq(function(e,t){for(var n=e.split("\n"),r=-1,i=-1,a=0,s=[];a!==n.length;++a){var o=n[a].trim().split(":");if("cell"===o[0]){var l=uq(o[1]);if(s.length<=l.r)for(r=s.length;r<=l.r;++r)s[r]||(s[r]=[]);switch(r=l.r,i=l.c,o[2]){case"t":s[r][i]=o[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":s[r][i]=+o[3];break;case"vtf":var c=o[o.length-1];case"vtc":"nl"===o[3]?s[r][i]=!!+o[4]:s[r][i]=+o[4],"vtf"==o[2]&&(s[r][i]=[s[r][i],c])}}}return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}(e,t),t)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),r=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function s(t){if(!t||!t["!ref"])return"";for(var n,r=[],i=[],a="",s=dq(t["!ref"]),o=Array.isArray(t),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(a=hq({r:l,c:c}),(n=o?(t[l]||[])[c]:t[a])&&null!=n.v&&"z"!==n.t){switch(i=["cell",a,"t"],n.t){case"s":case"str":i.push(e(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=e(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=e(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=UG(XG(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||SG(n.z||GW[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,n){return vq(t(e,n),n)},to_sheet:t,from_sheet:function(e){return[n,r,i,r,s(e),a].join("\n")}}}(),XK=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(JG(e))?isNaN(QG(e).getDate())?t[n][r]=e:t[n][r]=XG(e):t[n][r]=JG(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},i=!1,a=0,s=0;a<e.length;++a)34==(s=e.charCodeAt(a))?i=!i:!i&&s in t&&(r[s]=(r[s]||0)+1);for(a in s=[],r)Object.prototype.hasOwnProperty.call(r,a)&&s.push([r[a],a]);if(!s.length)for(a in r=n)Object.prototype.hasOwnProperty.call(r,a)&&s.push([r[a],a]);return s.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[s.pop()[1]]||44}function i(e,t){var n=t||{},i="",a=n.dense?[]:{},s={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=r(e.slice(0,1024)):i=n&&n.FS?n.FS:r(e.slice(0,1024));var o=0,l=0,c=0,u=0,h=0,d=i.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g,v,y=null!=n.dateNF?(g=n.dateNF,v=(v="number"==typeof g?GW[g]:g).replace(CG,"(\\d+)"),new RegExp("^"+v+"$")):null;function b(){var t=e.slice(u,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=JG(t)))if(!isNaN(QG(t).getDate())||y&&t.match(y)){r.z=n.dateNF||GW[14];var i=0;y&&t.match(y)&&(t=function(e,t,n){var r=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(t.match(CG)||[]).forEach((function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":a=c;break;case"h":s=c;break;case"s":l=c;break;case"m":s>=0?o=c:i=c}})),l>=0&&-1==o&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==s&&-1==o&&-1==l?c:-1==r&&-1==i&&-1==a?u:c+"T"+u}(0,n.dateNF,t.match(y)||[]),i=1),n.cellDates?(r.t="d",r.v=XG(t,i)):(r.t="n",r.v=UG(XG(t,i))),!1!==n.cellText&&(r.w=SG(r.z,r.v instanceof Date?UG(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(a[o]||(a[o]=[]),a[o][l]=r):a[hq({c:l,r:o})]=r),u=h+1,m=e.charCodeAt(u),s.e.c<l&&(s.e.c=l),s.e.r<o&&(s.e.r=o),p==d)++l;else if(l=0,++o,n.sheetRows&&n.sheetRows<=o)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===m&&(f=!f);break;case d:case 10:case 13:if(!f&&b())break e}return h-u>0&&b(),a["!ref"]=fq(s),a}function a(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,n):bq(function(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;for(var a=t.split(/[\r\n]/),s=a.length-1;s>=0&&0===a[s].length;)--s;for(var o=10,l=0,c=0;c<=s;++c)-1==(l=a[c].indexOf(" "))?l=a[c].length:l++,o=Math.max(o,l);for(c=0;c<=s;++c){i[c]=[];var u=0;for(e(a[c].slice(0,o).trim(),i,c,u,r),u=1;u<=(a[c].length-o)/10+1;++u)e(a[c].slice(o+10*(u-1),o+10*u).trim(),i,c,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(t,n),n):i(t,n)}function s(e,t){var n="",r="string"==t.type?[0,0,0,0]:l2(e,t);switch(t.type){case"base64":n=TW(e);break;case"binary":case"string":n=e;break;case"buffer":65001==t.codepage?n=e.toString("utf8"):(t.codepage,n=EW&&Buffer.isBuffer(e)?e.toString("binary"):kW(e));break;case"array":n=qG(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=D$(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=D$(n):t.type,"socialcalc:version:"==n.slice(0,19)?$K.to_sheet("string"==t.type?n:D$(n),t):a(n,t)}return{to_workbook:function(e,t){return vq(s(e,t),t)},to_sheet:s,from_sheet:function(e){for(var t,n=[],r=pq(e["!ref"]),i=Array.isArray(e),a=r.s.r;a<=r.e.r;++a){for(var s=[],o=r.s.c;o<=r.e.c;++o){var l=hq({r:a,c:o});if((t=i?(e[a]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(gq(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";s.push(c+(0===o?" ":""))}else s.push("          ")}n.push(s.join(""))}return n.join("\n")}}}();var qK=function(){function e(e,t,n){if(e){KX(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var i=e.read_shift(2),a=r[i]||r[65535],s=e.read_shift(2),o=e.l+s,l=a.f&&a.f(e,s,n);if(e.l=o,t(l,a,i))return}}}function t(t,n){if(!t)return t;var r=n||{},i=r.dense?[]:{},a="Sheet1",s="",o=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},d=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:h=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&!(112&~e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||GW[14],r.cellDates&&(e[1].t="d",e[1].v=VG(e[1].v))),r.qpro&&e[3]>o&&(i["!ref"]=fq(h),l[a]=i,c.push(a),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a=s||"Sheet"+(o+1),s="");var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[hq(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[hq(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:a=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(i["!ref"]=fq(h),l[a]=i,c.push(a),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a="Sheet"+(o+1)),d>0&&e[0].r>=d)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[hq(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==o&&(a=e[1])}}),r)}if(i["!ref"]=fq(h),l[s||a]=i,c.push(s||a),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),f[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),f[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var i=e.l+t,a=n(e,0,r);if(a[1].t="s",20768==r.vers){e.l++;var s=e.read_shift(1);return a[1].v=e.read_shift(s,"utf8"),a}return r.qpro&&e.l++,a[1].v=e.read_shift(i-e.l,"cstr"),a}function i(e,t,n){var r=ZX(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var a=n.charCodeAt(i);r.write_shift(1,a>=128?95:a)}return r.write_shift(1,0),r}function a(e,t,n){var r=ZX(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function s(e,t,n){var r=ZX(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function o(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?cq(t):oq(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,n,r){var i=ZX(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var a=0;a<r.length;++a){var s=r.charCodeAt(a);i.write_shift(1,s>=128?95:s)}return i.write_shift(1,0),i}function d(e,t){var n=u(e),r=e.read_shift(4),i=e.read_shift(4),a=e.read_shift(2);if(65535==a)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var s=32768&a;return a=(32767&a)-16446,n[1].v=(1-2*s)*(i*Math.pow(2,a+32)+r*Math.pow(2,a)),n}function f(e,t,n,r){var i=ZX(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var a,s=0,o=0,l=0;return r<0&&(s=1,r=-r),o=0|Math.log2(r),2147483648&(l=(r/=Math.pow(2,o-31))>>>0)||(++o,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,a=(r*=Math.pow(2,32))>>>0,i.write_shift(4,a),i.write_shift(4,l),o+=16383+(s?32768:0),i.write_shift(2,o),i}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=ZX(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var v={0:{n:"BOF",f:$Y},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var i=e.l+t,a=n(e,0,r);if(a[1].v=e.read_shift(8,"f"),r.qpro)e.l=i;else{var s=e.read_shift(2);!function(e,t){KX(e,0);var n=[],r=0,i="",a="",s="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:n.push(e.read_shift(8,"f"));break;case 1:a=o(t[0].c,e.read_shift(2),!0),i=o(t[0].r,e.read_shift(2),!1),n.push(a+i);break;case 2:var d=o(t[0].c,e.read_shift(2),!0),f=o(t[0].r,e.read_shift(2),!1);a=o(t[0].c,e.read_shift(2),!0),i=o(t[0].r,e.read_shift(2),!1),n.push(d+f+":"+a+i);break;case 3:if(e.l<e.length)return;break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),s=n.pop(),n.push(["AND","OR"][h-20]+"("+s+","+u+")");break;default:if(h<32&&c[h])u=n.pop(),s=n.pop(),n.push(s+c[h]+u);else{if(!l[h])return;if(69==(r=l[h][1])&&(r=e[e.l++]),r>n.length)return;var m=n.slice(-r);n.length-=r,n.push(l[h][0]+"("+m.join(",")+")")}}}1==n.length&&(t[1].f=""+n[0])}(e.slice(e.l,e.l+s),a),e.l+=s}return a}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:d},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=d(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&pW(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r,o,l=eq(),c=pq(e["!ref"]),u=Array.isArray(e),h=[];i1(l,0,(r=1030,(o=ZX(2)).write_shift(2,r),o)),i1(l,6,function(e){var t=ZX(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(c));for(var d=Math.min(c.e.r,8191),f=c.s.r;f<=d;++f)for(var p=oq(f),m=c.s.c;m<=c.e.c;++m){f===c.s.r&&(h[m]=cq(m));var g=h[m]+p,v=u?(e[f]||[])[m]:e[g];if(v&&"z"!=v.t)if("n"==v.t)(0|v.v)==v.v&&v.v>=-32768&&v.v<=32767?i1(l,13,a(f,m,v.v)):i1(l,14,s(f,m,v.v));else i1(l,15,i(f,m,gq(v).slice(0,239)))}return i1(l,1),l.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&pW(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=eq();i1(r,0,function(e){var t=ZX(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,a=0;a<e.SheetNames.length;++a){var s=e.SheetNames[a],o=e.Sheets[s];if(o&&o["!ref"]){++i;var l=dq(o["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,a=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&i1(r,27,g(e.SheetNames[i],a++));var s=0;for(i=0;i<e.SheetNames.length;++i){var o=e.Sheets[e.SheetNames[i]];if(o&&o["!ref"]){for(var l=pq(o["!ref"]),c=Array.isArray(o),u=[],d=Math.min(l.e.r,8191),p=l.s.r;p<=d;++p)for(var m=oq(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=cq(v));var y=u[v]+m,b=c?(o[p]||[])[v]:o[y];if(b&&"z"!=b.t)if("n"==b.t)i1(r,23,f(p,v,s,b.v));else i1(r,22,h(p,v,s,gq(b).slice(0,239)))}++s}}return i1(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(PW(TW(e)),n);case"binary":return t(PW(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var YK=function(){var e=F$("t"),t=F$("rPr");function n(n){var r=n.match(e);if(!r)return{t:"s",v:""};var i={t:"s",v:_$(r[1])},a=n.match(t);return a&&(i.s=function(e){var t={},n=e.match(m$),r=0,i=!1;if(n)for(;r!=n.length;++r){var a=y$(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==a.val)break;t.cp=dW[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==a.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==a.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==a[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}(a[1])),i}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,"").split(i).map(n).filter((function(e){return e.v}))}}(),KK=function(){var e=/(\r\n|\n)/g;function t(t){var n=[[],t.v,[]];return t.v?(t.s&&function(e,t,n){var r=[];e.u&&r.push("text-decoration: underline;"),e.uval&&r.push("text-underline-style:"+e.uval+";"),e.sz&&r.push("font-size:"+e.sz+"pt;"),e.outline&&r.push("text-effect: outline;"),e.shadow&&r.push("text-shadow: auto;"),t.push('<span style="'+r.join("")+'">'),e.b&&(t.push("<b>"),n.push("</b>")),e.i&&(t.push("<i>"),n.push("</i>")),e.strike&&(t.push("<s>"),n.push("</s>"));var i=e.valign||"";"superscript"==i||"super"==i?i="sup":"subscript"==i&&(i="sub"),""!=i&&(t.push("<"+i+">"),n.push("</"+i+">")),n.push("</span>")}(t.s,n[0],n[2]),n[0].join("")+n[1].replace(e,"<br/>")+n[2].join("")):""}return function(e){return e.map(t).join("")}}(),JK=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ZK=/<(?:\w+:)?r>/,QK=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function eJ(e,t){var n=!t||t.cellHTML,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=_$(D$(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=D$(e),n&&(r.h=C$(r.t))):e.match(ZK)&&(r.r=D$(e),r.t=_$(D$((e.replace(QK,"").match(JK)||[]).join("").replace(m$,""))),n&&(r.h=KK(YK(r.r)))),r):{t:""}}var tJ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,nJ=/<(?:\w+:)?(?:si|sstItem)>/g,rJ=/<\/(?:\w+:)?(?:si|sstItem)>/;var iJ=/^\s|\s$|[\t\n\r]/;function aJ(e,t){if(!t.bookSST)return"";var n=[d$];n[n.length]=$$("sst",null,{xmlns:cX[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(iJ)&&(a+=' xml:space="preserve"'),a+=">"+E$(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var sJ=function(e,t){var n=!1;return null==t&&(n=!0,t=ZX(15+4*e.t.length)),t.write_shift(1,0),_q(e.t,t),n?t.slice(0,t.l):t};function oJ(e){var t=eq();tq(t,159,function(e,t){return t||(t=ZX(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)tq(t,19,sJ(e[n]));return tq(t,160),t.end()}function lJ(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function cJ(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function uJ(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=a,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function hJ(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=cJ(e,4),t.U=cJ(e,4),t.W=cJ(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function dJ(e,t){var n=e.l+t,r={};r.Flags=63&e.read_shift(4),e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=36==r.Flags;break;case 26625:i=4==r.Flags;break;case 0:i=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function fJ(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function pJ(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:dJ(e,t),v:fJ(e,e.length-e.l)}}function mJ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function gJ(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(m$,(function(e){var n=y$(e);switch(b$(n[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach((function(e){r[e]=n[e]}));break;case"<dataIntegrity":r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=n.uri;break;case"<encryptedKey":r.encs.push(n);break;default:throw n[0]}})),r}function vJ(e){var t,n,r=0,i=lJ(e),a=i.length+1;for((t=AW(a))[0]=i.length,n=1;n!=a;++n)t[n]=i[n-1];for(n=a-1;n>=0;--n)r=((16384&r?1:0)|r<<1&32767)^t[n];return 52811^r}var yJ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e,t){return 255&((n=e^t)/2|128*n);var n};return function(i){for(var a,s,o,l=lJ(i),c=function(e){for(var r=t[e.length-1],i=104,a=e.length-1;a>=0;--a)for(var s=e[a],o=0;7!=o;++o)64&s&&(r^=n[i]),s*=2,--i;return r}(l),u=l.length,h=AW(16),d=0;16!=d;++d)h[d]=0;for(1&~u||(a=c>>8,h[u]=r(e[0],a),--u,a=255&c,s=l[l.length-1],h[u]=r(s,a));u>0;)a=c>>8,h[--u]=r(l[u],a),a=255&c,h[--u]=r(l[u],a);for(u=15,o=15-l.length;o>0;)a=c>>8,h[u]=r(e[o],a),--o,a=255&c,h[--u]=r(l[u],a),--u,--o;return h}}(),bJ=function(e){var t=0,n=yJ(e);return function(e){var r=function(e,t,n,r,i){var a,s;for(i||(i=t),r||(r=yJ(e)),a=0;a!=t.length;++a)s=t[a],s=255&((s^=r[n])>>5|s<<3),i[a]=s,++n;return[i,n,r]}("",e,t,n);return t=r[1],r[0]}};function xJ(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,1===r.Info?r.Data=function(e){var t={},n=t.EncryptionVersionInfo=cJ(e,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):r.Data=function(e,t){var n={},r=n.EncryptionVersionInfo=cJ(e,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=dJ(e,i),t-=i,n.EncryptionVerifier=fJ(e,t),n}(e,t),r}var wJ=function(){function e(e,n){switch(n.type){case"base64":return t(TW(e),n);case"binary":return t(e,n);case"buffer":return t(EW&&Buffer.isBuffer(e)?e.toString("binary"):kW(e),n);case"array":return t(qG(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,a=/\\\w+\b/g,s=0,o=-1;r=a.exec(e);){if("\\cell"===r[0]){var l=e.slice(s,a.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][o]=c:n[hq({r:t,c:o})]=c}}s=a.lastIndex}o>i.e.c&&(i.e.c=o)})),n["!ref"]=fq(i),n}return{to_workbook:function(t,n){return vq(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=pq(e["!ref"]),i=Array.isArray(e),a=r.s.r;a<=r.e.r;++a){n.push("\\trowd\\trautofit1");for(var s=r.s.c;s<=r.e.c;++s)n.push("\\cellx"+(s+1));for(n.push("\\pard\\intbl"),s=r.s.c;s<=r.e.c;++s){var o=hq({r:a,c:s});(t=i?(e[a]||[])[s]:e[o])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(gq(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function _J(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function SJ(e,t){if(0===t)return e;var n,r,i=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),a=Math.min(t,n,r),s=i-a;if(0===s)return[0,0,t];var o,l=0,c=i+a;switch(o=s/(c>1?2-c:c),i){case t:l=((n-r)/s+6)%6;break;case n:l=(r-t)/s+2;break;case r:l=(t-n)/s+4}return[l/6,o,c/2]}((r=(n=e).slice("#"===n[0]?1:0).slice(0,6),[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]));return i[2]=t<0?i[2]*(1+t):1-(1-i[2])*(1-t),_J(function(e){var t,n=e[0],r=e[1],i=e[2],a=2*r*(i<.5?i:1-i),s=i-a/2,o=[s,s,s],l=6*n;if(0!==r)switch(0|l){case 0:case 6:t=a*l,o[0]+=a,o[1]+=t;break;case 1:t=a*(2-l),o[0]+=t,o[1]+=a;break;case 2:t=a*(l-2),o[1]+=a,o[2]+=t;break;case 3:t=a*(4-l),o[1]+=t,o[2]+=a;break;case 4:t=a*(l-4),o[2]+=a,o[0]+=t;break;case 5:t=a*(6-l),o[2]+=t,o[0]+=a}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(i))}var TJ=6;function EJ(e){return Math.floor((e+Math.round(128/TJ)/256)*TJ)}function MJ(e){return Math.floor((e-5)/TJ*100+.5)/100}function AJ(e){return Math.round((e*TJ+5)/TJ*256)/256}function CJ(e){return AJ(MJ(EJ(e)))}function PJ(e){var t=Math.abs(e-CJ(e)),n=TJ;if(t>.005)for(TJ=1;TJ<15;++TJ)Math.abs(e-CJ(e))<=t&&(t=Math.abs(e-CJ(e)),n=TJ);TJ=n}function OJ(e){e.width?(e.wpx=EJ(e.width),e.wch=MJ(e.wpx),e.MDW=TJ):e.wpx?(e.wch=MJ(e.wpx),e.width=AJ(e.wch),e.MDW=TJ):"number"==typeof e.wch&&(e.width=AJ(e.wch),e.wpx=EJ(e.width),e.MDW=TJ),e.customWidth&&delete e.customWidth}var kJ=96;function RJ(e){return 96*e/kJ}function IJ(e){return e*kJ/96}var NJ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var DJ=["numFmtId","fillId","fontId","borderId","xfId"],LJ=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var FJ=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,s,o){var l,c={};return a?((l=(a=a.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,n){t.NumberFmt=[];for(var r=IG(GW),i=0;i<r.length;++i)t.NumberFmt[r[i]]=GW[r[i]];var a=e[0].match(m$);if(a)for(i=0;i<a.length;++i){var s=y$(a[i]);switch(b$(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=_$(D$(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}TG(o,l)}break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}(l,c,o),(l=a.match(r))&&function(e,t,n,r){t.Fonts=[];var i={},a=!1;(e[0].match(m$)||[]).forEach((function(e){var s=y$(e);switch(b$(s[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":s.val&&(i.name=D$(s.val));break;case"<b":i.bold=s.val?O$(s.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=s.val?O$(s.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(s.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=s.val?O$(s.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=s.val?O$(s.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=s.val?O$(s.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=s.val?O$(s.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=s.val?O$(s.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":s.val&&(i.sz=+s.val);break;case"<vertAlign":s.val&&(i.vertAlign=s.val);break;case"<family":s.val&&(i.family=parseInt(s.val,10));break;case"<scheme":s.val&&(i.scheme=s.val);break;case"<charset":if("1"==s.val)break;s.codepage=dW[parseInt(s.val,10)];break;case"<color":if(i.color||(i.color={}),s.auto&&(i.color.auto=O$(s.auto)),s.rgb)i.color.rgb=s.rgb.slice(-6);else if(s.indexed){i.color.index=parseInt(s.indexed,10);var o=eY[i.color.index];81==i.color.index&&(o=eY[1]),o||(o=eY[1]),i.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else s.theme&&(i.color.theme=parseInt(s.theme,10),s.tint&&(i.color.tint=parseFloat(s.tint)),s.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=SJ(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fonts")}}))}(l,c,s,o),(l=a.match(n))&&function(e,t,n,r){t.Fills=[];var i={},a=!1;(e[0].match(m$)||[]).forEach((function(e){var n=y$(e);switch(b$(n[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":n.patternType&&(i.patternType=n.patternType);break;case"<bgColor":i.bgColor||(i.bgColor={}),n.indexed&&(i.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(i.bgColor.theme=parseInt(n.theme,10)),n.tint&&(i.bgColor.tint=parseFloat(n.tint)),n.rgb&&(i.bgColor.rgb=n.rgb.slice(-6));break;case"<fgColor":i.fgColor||(i.fgColor={}),n.theme&&(i.fgColor.theme=parseInt(n.theme,10)),n.tint&&(i.fgColor.tint=parseFloat(n.tint)),null!=n.rgb&&(i.fgColor.rgb=n.rgb.slice(-6));break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+n[0]+" in fills")}}))}(l,c,0,o),(l=a.match(i))&&function(e,t,n,r){t.Borders=[];var i={},a=!1;(e[0].match(m$)||[]).forEach((function(e){var n=y$(e);switch(b$(n[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":i={},n.diagonalUp&&(i.diagonalUp=O$(n.diagonalUp)),n.diagonalDown&&(i.diagonalDown=O$(n.diagonalDown)),t.Borders.push(i);break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+n[0]+" in borders")}}))}(l,c,0,o),(l=a.match(t))&&function(e,t,n){var r;t.CellXf=[];var i=!1;(e[0].match(m$)||[]).forEach((function(e){var a=y$(e),s=0;switch(b$(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=a)[0],s=0;s<DJ.length;++s)r[DJ[s]]&&(r[DJ[s]]=parseInt(r[DJ[s]],10));for(s=0;s<LJ.length;++s)r[LJ[s]]&&(r[LJ[s]]=O$(r[LJ[s]]));if(t.NumberFmt&&r.numFmtId>392)for(s=392;s>60;--s)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[s]){r.numFmtId=s;break}t.CellXf.push(r);break;case"<alignment":case"<alignment/>":var o={};a.vertical&&(o.vertical=a.vertical),a.horizontal&&(o.horizontal=a.horizontal),null!=a.textRotation&&(o.textRotation=a.textRotation),a.indent&&(o.indent=a.indent),a.wrapText&&(o.wrapText=O$(a.wrapText)),r.alignment=o;break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}}))}(l,c,o),c):c}}();function UJ(e,t){var n,r=[d$,$$("styleSheet",null,{xmlns:cX[0],"xmlns:vt":sX})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=$$("numFmt",null,{numFmtId:r,formatCode:E$(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=$$("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=$$("cellXfs",null),e.forEach((function(e){t[t.length]=$$("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=$$("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function jJ(e,t,n){n||(n=ZX(6+4*t.length)),n.write_shift(2,e),_q(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function BJ(e,t){t||(t=ZX(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=ZX(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Gq(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),_q(e.name,t),t.length>t.l?t.slice(0,t.l):t}var zJ,VJ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],HJ=JX;function WJ(e,t){t||(t=ZX(84)),zJ||(zJ=DG(VJ));var n=zJ[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(Gq({auto:1},t),Gq({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function GJ(e,t,n){n||(n=ZX(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function $J(e,t){return t||(t=ZX(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var XJ=JX;function qJ(e){var t;tq(e,613,xq(1)),tq(e,46,(t||(t=ZX(51)),t.write_shift(1,0),$J(0,t),$J(0,t),$J(0,t),$J(0,t),$J(0,t),t.length>t.l?t.slice(0,t.l):t)),tq(e,614)}function YJ(e){var t,n;tq(e,619,xq(1)),tq(e,48,(t={xfId:0,builtinId:0,name:"Normal"},n||(n=ZX(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,+t.builtinId),n.write_shift(1,0),Nq(t.name||"",n),n.length>n.l?n.slice(0,n.l):n)),tq(e,620)}function KJ(e){tq(e,508,function(e,t,n){var r=ZX(2052);return r.write_shift(4,e),Nq(t,r),Nq(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),tq(e,509)}function JJ(e,t){var n=eq();return tq(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n})),0!=n&&(tq(e,615,xq(n)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&tq(e,44,jJ(r,t[r]))})),tq(e,616))}}(n,e.SSF),function(e){tq(e,611,xq(1)),tq(e,43,BJ({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),tq(e,612)}(n),function(e){tq(e,603,xq(2)),tq(e,45,WJ({patternType:"none"})),tq(e,45,WJ({patternType:"gray125"})),tq(e,604)}(n),qJ(n),function(e){tq(e,626,xq(1)),tq(e,47,GJ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),tq(e,627)}(n),function(e,t){tq(e,617,xq(t.length)),t.forEach((function(t){tq(e,47,GJ(t,0))})),tq(e,618)}(n,t.cellXfs),YJ(n),function(e){tq(e,505,xq(0)),tq(e,506)}(n),KJ(n),tq(n,279),n.end()}var ZJ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function QJ(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(m$)||[]).forEach((function(e){var i=y$(e);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===i[0].charAt(1)?(t.themeElements.clrScheme[ZJ.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}}))}function eZ(){}function tZ(){}var nZ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rZ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,iZ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var aZ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function sZ(e,t){var n;e&&0!==e.length||(e=oZ());var r={};if(!(n=e.match(aZ)))throw new Error("themeElements not found in theme");return function(e,t,n){var r;t.themeElements={},[["clrScheme",nZ,QJ],["fontScheme",rZ,eZ],["fmtScheme",iZ,tZ]].forEach((function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)}))}(n[0],r,t),r.raw=e,r}function oZ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[d$];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function lZ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return JX(e,t)}(e,4);break;case 2:t.xclrValue=oK(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function cZ(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=lZ(e);break;case 6:r[1]=function(e,t){return JX(e,t)}(e,n);break;case 14:case 15:r[1]=e.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function uZ(){var e,t,n=eq();return tq(n,332),tq(n,334,xq(1)),tq(n,335,((t=ZX(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),_q(e.name,t),t.slice(0,t.l))),tq(n,336),tq(n,339,function(e,t){var n=ZX(8+2*t.length);return n.write_shift(4,e),_q(t,n),n.slice(0,n.l)}(1,"XLDAPR")),tq(n,52),tq(n,35,xq(514)),tq(n,4096,xq(0)),tq(n,4097,XY(1)),tq(n,36),tq(n,53),tq(n,340),tq(n,337,function(e){var t=ZX(8);return t.write_shift(4,e),t.write_shift(4,1),t}(1)),tq(n,51,function(e){var t=ZX(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),tq(n,338),tq(n,333),n.end()}function hZ(){var e=[d$];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var dZ=1024;function fZ(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[$$("xml",null,{"xmlns:v":mX,"xmlns:o":uX,"xmlns:x":hX,"xmlns:mv":pX}).replace(/\/>/,">"),$$("o:shapelayout",$$("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),$$("v:shapetype",[$$("v:stroke",null,{joinstyle:"miter"}),$$("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];dZ<1e3*e;)dZ+=1e3;return t.forEach((function(e){var t=uq(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?$$("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,a=$$("v:fill",r,n);++dZ,i=i.concat(["<v:shape"+G$({id:"_x0000_s"+dZ,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",a,$$("v:shadow",null,{on:"t",obscured:"t"}),$$("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",W$("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),W$("x:AutoFill","False"),W$("x:Row",String(t.r)),W$("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),i.push("</xml>"),i.join("")}function pZ(e,t,n,r){var i,a=Array.isArray(e);t.forEach((function(t){var s=uq(t.ref);if(a?(e[s.r]||(e[s.r]=[]),i=e[s.r][s.c]):i=e[t.ref],!i){i={t:"z"},a?e[s.r][s.c]=i:e[t.ref]=i;var o=pq(e["!ref"]||"BDWGO1000001:A1");o.s.r>s.r&&(o.s.r=s.r),o.e.r<s.r&&(o.e.r=s.r),o.s.c>s.c&&(o.s.c=s.c),o.e.c<s.c&&(o.e.c=s.c);var l=fq(o);l!==e["!ref"]&&(e["!ref"]=l)}i.c||(i.c=[]);var c={a:t.author,t:t.t,r:t.r,T:n};t.h&&(c.h=t.h);for(var u=i.c.length-1;u>=0;--u){if(!n&&i.c[u].T)return;n&&!i.c[u].T&&i.c.splice(u,1)}if(n&&r)for(u=0;u<r.length;++u)if(c.a==r[u].id){c.a=r[u].name||c.a;break}i.c.push(c)}))}function mZ(e){var t=[d$,$$("comments",null,{xmlns:cX[0]})],n=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=E$(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var r=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(r=n.indexOf(E$(e.a))),i.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),i.length<=1)t.push(W$("t",E$(i[0]||"")));else{for(var a="Comment:\n    "+i[0]+"\n",s=1;s<i.length;++s)a+="Reply:\n    "+i[s]+"\n";t.push(W$("t",E$(a)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function gZ(e,t,n){var r=[d$,$$("ThreadedComments",null,{xmlns:tX}).replace(/[\/]>/,">")];return e.forEach((function(e){var i="";(e[1]||[]).forEach((function(a,s){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==s?i=o.id:o.parentId=i,a.ID=o.id,a.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),r.push($$("threadedComment",W$("text",a.t||""),o))}else delete a.ID}))})),r.push("</ThreadedComments>"),r.join("")}var vZ=wq;function yZ(e){var t=eq(),n=[];return tq(t,628),tq(t,630),e.forEach((function(e){e[1].forEach((function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),tq(t,632,function(e){return _q(e.slice(0,54))}(e.a)))}))})),tq(t,631),tq(t,633),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=n.indexOf(r.a);var i={s:uq(e[0]),e:uq(e[0])};tq(t,635,function(e,t){return null==t&&(t=ZX(36)),t.write_shift(4,e[1].iauthor),Vq(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([i,r])),r.t&&r.t.length>0&&tq(t,637,Mq(r)),tq(t,636),delete r.iauthor}))})),tq(t,634),tq(t,629),t.end()}var bZ=["xlsb","xlsm","xlam","biff8","xla"];var xZ=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var a=!1,s=!1;0==r.length?s=!0:"["==r.charAt(0)&&(s=!0,r=r.slice(1,-1)),0==i.length?a=!0:"["==i.charAt(0)&&(a=!0,i=i.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return a?l+=t.c:--l,s?o+=t.r:--o,n+(a?"":"$")+cq(l)+(s?"":"$")+oq(o)}return function(r,i){return t=i,r.replace(e,n)}}(),wZ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,_Z=function(){return function(e,t){return e.replace(wZ,(function(e,n,r,i,a,s){var o=lq(i)-(r?0:t.c),l=sq(s)-(a?0:t.r);return n+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==o?"":r?o+1:"["+o+"]")}))}}();function SZ(e,t){return e.replace(wZ,(function(e,n,r,i,a,s){return n+("$"==r?r+i:cq(lq(i)+t.c))+("$"==a?a+s:oq(sq(s)+t.r))}))}function TZ(e,t,n){var r=dq(t).s,i=uq(n);return SZ(e,{r:i.r-r.r,c:i.c-r.c})}function EZ(e){return e.replace(/_xlfn\./g,"")}function MZ(e){e.l+=1}function AZ(e,t){var n=e.read_shift(2);return[16383&n,n>>14&1,n>>15&1]}function CZ(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return PZ(e);12==n.biff&&(r=4)}var i=e.read_shift(r),a=e.read_shift(r),s=AZ(e),o=AZ(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function PZ(e){var t=AZ(e),n=AZ(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function OZ(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=AZ(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=AZ(e);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function kZ(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function RZ(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function IZ(e){return[e.read_shift(1),e.read_shift(1)]}function NZ(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=WY(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=tY[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Hq(e);break;case 2:n[1]=tK(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function DZ(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],a=0;a!=r;++a)i.push((12==n.biff?zq:fK)(e));return i}function LZ(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=NZ(e,n.biff);return s}function FZ(e,t,n){return e.l+=2,[kZ(e)]}function UZ(e){return e.l+=6,[]}function jZ(e){return e.l+=2,[$Y(e),1&e.read_shift(2)]}var BZ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var zZ={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:JX},3:{n:"PtgAdd",f:MZ},4:{n:"PtgSub",f:MZ},5:{n:"PtgMul",f:MZ},6:{n:"PtgDiv",f:MZ},7:{n:"PtgPower",f:MZ},8:{n:"PtgConcat",f:MZ},9:{n:"PtgLt",f:MZ},10:{n:"PtgLe",f:MZ},11:{n:"PtgEq",f:MZ},12:{n:"PtgGe",f:MZ},13:{n:"PtgGt",f:MZ},14:{n:"PtgNe",f:MZ},15:{n:"PtgIsect",f:MZ},16:{n:"PtgUnion",f:MZ},17:{n:"PtgRange",f:MZ},18:{n:"PtgUplus",f:MZ},19:{n:"PtgUminus",f:MZ},20:{n:"PtgPercent",f:MZ},21:{n:"PtgParen",f:MZ},22:{n:"PtgMissArg",f:MZ},23:{n:"PtgStr",f:function(e,t,n){return e.l++,KY(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,tY[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,Hq(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[cQ[i],lQ[i],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],i=e.read_shift(1),a=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===a[0]?lQ:oQ)[a[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,a]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,OZ(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,CZ(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:JX},40:{n:"PtgMemNoMem",f:JX},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),a=e.read_shift(2),s=(16384&a)>>14,o=(32768&a)>>15;if(a&=16383,1==o)for(;i>524287;)i-=1048576;if(1==s)for(;a>8191;)a-=16384;return{r:i,c:a,cRel:s,rRel:o}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=function(e,t,n){if(n.biff<8)return PZ(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),a=AZ(e),s=AZ(e);return{s:{r:r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,OZ(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,i,CZ(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6}return e.l+=a,[r,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12}return e.l+=a,[r,i]}},255:{}},VZ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},HZ={1:{n:"PtgElfLel",f:jZ},2:{n:"PtgElfRw",f:FZ},3:{n:"PtgElfCol",f:FZ},6:{n:"PtgElfRwV",f:FZ},7:{n:"PtgElfColV",f:FZ},10:{n:"PtgElfRadical",f:FZ},11:{n:"PtgElfRadicalS",f:UZ},13:{n:"PtgElfColS",f:UZ},15:{n:"PtgElfColSV",f:UZ},16:{n:"PtgElfRadicalLel",f:jZ},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2);return{ixti:t,coltype:3&n,rt:BZ[n>>2&31],idx:r,c:i,C:a}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},WZ={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],a=0;a<=r;++a)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:RZ},33:{n:"PtgAttrBaxcel",f:RZ},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),IZ(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),IZ(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function GZ(e,t,n,r){if(r.biff<8)return JX(e,t);for(var i=e.l+t,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=LZ(e,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=DZ(e,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&12==r.biff&&(n[s][1][1]=e.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return 0!==(t=i-e.l)&&a.push(JX(e,t)),a}function $Z(e,t,n){for(var r,i,a=e.l+t,s=[];a!=e.l;)t=a-e.l,i=e[e.l],r=zZ[i]||zZ[VZ[i]],24!==i&&25!==i||(r=(24===i?HZ:WZ)[e[e.l+1]]),r&&r.f?s.push([r.n,r.f(e,t,n)]):JX(e,t);return s}function XZ(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)if(2===s[0])i.push('"'+s[1].replace(/"/g,'""')+'"');else i.push(s[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var qZ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function YZ(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function KZ(e,t,n){var r=YZ(e,t,n);return"#REF"==r?r:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function JZ(e,t,n,r,i){var a,s,o,l,c=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],d=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(a=h.pop(),s=h.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=KG(" ",e[0][m][1][1]);break;case 1:g=KG("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}s+=g,m=-1}h.push(s+qZ[b[0]]+a);break;case"PtgIsect":a=h.pop(),s=h.pop(),h.push(s+" "+a);break;case"PtgUnion":a=h.pop(),s=h.pop(),h.push(s+","+a);break;case"PtgRange":a=h.pop(),s=h.pop(),h.push(s+":"+a);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=nq(b[1][1],u,i),h.push(iq(o,c));break;case"PtgRefN":o=n?nq(b[1][1],n,i):b[1][1],h.push(iq(o,c));break;case"PtgRef3d":d=b[1][1],o=nq(b[1][2],u,i),p=KZ(r,d,i),h.push(p+"!"+iq(o,c));break;case"PtgFunc":case"PtgFuncVar":var x=b[1][0],w=b[1][1];x||(x=0);var _=0==(x&=127)?[]:h.slice(-x);h.length-=x,"User"===w&&(w=_.shift()),h.push(w+"("+_.join(",")+")");break;case"PtgBool":h.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(b[1]);break;case"PtgNum":h.push(String(b[1]));break;case"PtgStr":h.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=rq(b[1][1],n?{s:n}:u,i),h.push(aq(l,i));break;case"PtgArea":l=rq(b[1][1],u,i),h.push(aq(l,i));break;case"PtgArea3d":d=b[1][1],l=b[1][2],p=KZ(r,d,i),h.push(p+"!"+aq(l,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":f=b[1][2];var S=(r.names||[])[f-1]||(r[0]||[])[f],T=S?S.Name:"SH33TJSNAME"+String(f);T&&"_xlfn."==T.slice(0,6)&&!i.xlfn&&(T=T.slice(6)),h.push(T);break;case"PtgNameX":var E,M=b[1][1];if(f=b[1][2],!(i.biff<=5)){var A="";if(14849==((r[M]||[])[0]||[])[0]||(1025==((r[M]||[])[0]||[])[0]?r[M][f]&&r[M][f].itab>0&&(A=r.SheetNames[r[M][f].itab-1]+"!"):A=r.SheetNames[f-1]+"!"),r[M]&&r[M][f])A+=r[M][f].Name;else if(r[0]&&r[0][f])A+=r[0][f].Name;else{var C=(YZ(r,M,i)||"").split(";;");C[f-1]?A=C[f-1]:A+="SH33TJSERRX"}h.push(A);break}M<0&&(M=-M),r[M]&&(E=r[M][f]),E||(E={Name:"SH33TJSERRY"}),h.push(E.Name);break;case"PtgParen":var P="(",O=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:P=KG(" ",e[0][m][1][1])+P;break;case 3:P=KG("\r",e[0][m][1][1])+P;break;case 4:O=KG(" ",e[0][m][1][1])+O;break;case 5:O=KG("\r",e[0][m][1][1])+O;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}h.push(P+h.pop()+O);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":o={c:b[1][1],r:b[1][0]};var k={c:n.c,r:n.r};if(r.sharedf[hq(o)]){var R=r.sharedf[hq(o)];h.push(JZ(R,u,k,r,i))}else{var I=!1;for(a=0;a!=r.arrayf.length;++a)if(s=r.arrayf[a],!(o.c<s[0].s.c||o.c>s[0].e.c||o.r<s[0].s.r||o.r>s[0].e.r)){h.push(JZ(s[1],u,k,r,i)),I=!0;break}I||h.push(b[1])}break;case"PtgArray":h.push("{"+XZ(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=i.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var N=!0;switch((b=e[0][m])[1][0]){case 4:N=!1;case 0:g=KG(" ",b[1][1]);break;case 5:N=!1;case 1:g=KG("\r",b[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}h.push((N?g:"")+h.pop()+(N?"":g)),m=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function ZZ(e,t,n){var r,i=e.l+t,a=2==n.biff?1:2,s=e.read_shift(a);if(65535==s)return[[],JX(e,t-2)];var o=$Z(e,s,n);return t!==s+a&&(r=GZ(e,t-s-a,o,n)),e.l=i,[o,r]}function QZ(e,t,n){var r,i=e.l+t,a=e.read_shift(2),s=$Z(e,a,n);return 65535==a?[[],JX(e,t-2)]:(t!==a+2&&(r=GZ(e,i-a-2,s,n)),[s,r])}function eQ(e,t,n){var r=e.l+t,i=cK(e);2==n.biff&&++e.l;var a=function(e){var t;if(65535!==jX(e,e.l+6))return[Hq(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),s=e.read_shift(1);2!=n.biff&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=function(e,t,n){var r,i=e.l+t,a=2==n.biff?1:2,s=e.read_shift(a);if(65535==s)return[[],JX(e,t-2)];var o=$Z(e,s,n);return t!==s+a&&(r=GZ(e,t-s-a,o,n)),e.l=i,[o,r]}(e,r-e.l,n);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function tQ(e,t,n,r,i){var a=uK(t,n,i),s=function(e){if(null==e){var t=ZX(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Wq("number"==typeof e?e:0)}(e.v),o=ZX(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=ZX(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return IW([a,s,o,l])}function nQ(e,t,n){var r=e.read_shift(4),i=$Z(e,r,n),a=e.read_shift(4);return[i,a>0?GZ(e,a,i,n):null]}var rQ=nQ,iQ=nQ,aQ=nQ,sQ=nQ,oQ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cQ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uQ(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")}))).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function hQ(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var dQ={},fQ={},pQ="undefined"!=typeof Map;function mQ(e,t,n){var r=0,i=e.length;if(n){if(pQ?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var a=pQ?n.get(t):n[t];r<a.length;++r)if(e[a[r]].t===t)return e.Count++,a[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,n&&(pQ?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function gQ(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(TJ=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=MJ(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=AJ(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function vQ(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function yQ(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,a=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){TG(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=a;++i)if(e[i].numFmtId===r)return i;return e[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function bQ(e,t,n,r,i,a){try{r.cellNF&&(e.z=GW[t])}catch(o){if(r.WTF)throw o}if("z"!==e.t||r.cellStyles){if("d"===e.t&&"string"==typeof e.v&&(e.v=XG(e.v)),(!r||!1!==r.cellText)&&"z"!==e.t)try{if(null==GW[t]&&TG(AG[t]||"General",t),"e"===e.t)e.w=e.w||tY[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=tG(e.v);else if("d"===e.t){var s=UG(e.v);e.w=(0|s)===s?s.toString(10):tG(s)}else{if(void 0===e.v)return"";e.w=nG(e.v,fQ)}else"d"===e.t?e.w=SG(t,UG(e.v),fQ):e.w=SG(t,e.v,fQ)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&null!=n)try{e.s=a.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=SJ(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=SJ(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function xQ(e,t,n){if(e&&e["!ref"]){var r=pq(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var wQ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,_Q=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,SQ=/<(?:\w:)?hyperlink [^>]*>/gm,TQ=/"(\w*:\w*)"/,EQ=/<(?:\w:)?col\b[^>]*[\/]?>/g,MQ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,AQ=/<(?:\w:)?pageMargins[^>]*\/>/g,CQ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,PQ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,OQ=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function kQ(e,t,n,r,i,a,s){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=e.match(_Q);h?(c=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):c=u=e;var d=c.match(CQ);d?RQ(d[0],o,i,n):(d=c.match(PQ))&&function(e,t,n,r,i){RQ(e.slice(0,e.indexOf(">")),n,r,i)}(d[0],d[1],o,i,n);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var p=c.slice(f,f+50).match(TQ);p&&function(e,t){var n=pq(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=fq(n))}(o,p[1])}var m=c.match(OQ);m&&m[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(DQ)||[]).forEach((function(e,n){var r=y$(e);t.Views[n]||(t.Views[n]={}),+r.zoomScale&&(t.Views[n].zoom=+r.zoomScale),O$(r.rightToLeft)&&(t.Views[n].RTL=!0)}))}(m[1],i);var g=[];if(t.cellStyles){var v=c.match(EQ);v&&function(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=y$(t[r],!0);i.hidden&&(i.hidden=O$(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,PJ(i.width)),OJ(i);a<=s;)e[a++]=YG(i)}}(g,v)}h&&FQ(h[1],o,t,l,a,s);var y=u.match(MQ);y&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(y[0]));var b=[],x=u.match(wQ);if(x)for(f=0;f!=x.length;++f)b[f]=pq(x[f].slice(x[f].indexOf('"')+1));var w=u.match(SQ);w&&function(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var a=y$(D$(t[i]),!0);if(!a.ref)return;var s=((n||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+_$(a.location))):(a.Target="#"+_$(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=pq(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=hq({c:c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=a):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=a)}}}(o,w,r);var _,S,T=u.match(AQ);if(T&&(o["!margins"]=(_=y$(T[0]),S={},["left","right","top","bottom","header","footer"].forEach((function(e){_[e]&&(S[e]=parseFloat(_[e]))})),S)),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=fq(l)),t.sheetRows>0&&o["!ref"]){var E=pq(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=fq(E))}return g.length>0&&(o["!cols"]=g),b.length>0&&(o["!merges"]=b),o}function RQ(e,t,n,r){var i=y$(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=_$(D$(i.codeName)))}var IQ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],NQ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var DQ=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function LQ(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var i="",a=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=tY[e.v];break;case"d":r&&r.cellDates?i=XG(e.v,-1).toISOString():((e=YG(e)).t="n",i=""+(e.v=UG(XG(e.v)))),void 0===e.z&&(e.z=GW[14]);break;default:i=e.v}var o=W$("v",E$(i)),l={r:t},c=yQ(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=W$("v",""+mQ(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=a&&(e.t=a,e.v=s),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=$$("f",E$(e.f),u)+(null!=e.v?o:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),$$("c",o,l)}var FQ=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=F$("v"),s=F$("f");return function(o,l,c,u,h,d){for(var f,p,m,g,v,y=0,b="",x=[],w=[],_=0,S=0,T=0,E="",M=0,A=0,C=0,P=0,O=Array.isArray(d.CellXf),k=[],R=[],I=Array.isArray(l),N=[],D={},L=!1,F=!!c.sheetStubs,U=o.split(t),j=0,B=U.length;j!=B;++j){var z=(b=U[j].trim()).length;if(0!==z){var V=0;e:for(y=0;y<z;++y)switch(b[y]){case">":if("/"!=b[y-1]){++y;break e}if(c&&c.cellStyles){if(M=null!=(p=y$(b.slice(V,y),!0)).r?parseInt(p.r,10):M+1,A=-1,c.sheetRows&&c.sheetRows<M)continue;D={},L=!1,p.ht&&(L=!0,D.hpt=parseFloat(p.ht),D.hpx=IJ(D.hpt)),"1"==p.hidden&&(L=!0,D.hidden=!0),null!=p.outlineLevel&&(L=!0,D.level=+p.outlineLevel),L&&(N[M-1]=D)}break;case"<":V=y}if(V>=y)break;if(M=null!=(p=y$(b.slice(V,y),!0)).r?parseInt(p.r,10):M+1,A=-1,!(c.sheetRows&&c.sheetRows<M)){u.s.r>M-1&&(u.s.r=M-1),u.e.r<M-1&&(u.e.r=M-1),c&&c.cellStyles&&(D={},L=!1,p.ht&&(L=!0,D.hpt=parseFloat(p.ht),D.hpx=IJ(D.hpt)),"1"==p.hidden&&(L=!0,D.hidden=!0),null!=p.outlineLevel&&(L=!0,D.level=+p.outlineLevel),L&&(N[M-1]=D)),x=b.slice(y).split(e);for(var H=0;H!=x.length&&"<"==x[H].trim().charAt(0);++H);for(x=x.slice(H),y=0;y!=x.length;++y)if(0!==(b=x[y].trim()).length){if(w=b.match(n),_=y,S=0,T=0,b="<c "+("<"==b.slice(0,1)?">":"")+b,null!=w&&2===w.length){for(_=0,E=w[1],S=0;S!=E.length&&!((T=E.charCodeAt(S)-64)<1||T>26);++S)_=26*_+T;A=--_}else++A;for(S=0;S!=b.length&&62!==b.charCodeAt(S);++S);if(++S,(p=y$(b.slice(0,S),!0)).r||(p.r=hq({r:M-1,c:A})),f={t:""},null!=(w=(E=b.slice(S)).match(a))&&""!==w[1]&&(f.v=_$(w[1])),c.cellFormula){if(null!=(w=E.match(s))&&""!==w[1]){if(f.f=_$(D$(w[1])).replace(/\r\n/g,"\n"),c.xlfn||(f.f=EZ(f.f)),w[0].indexOf('t="array"')>-1)f.F=(E.match(i)||[])[1],f.F.indexOf(":")>-1&&k.push([pq(f.F),f.F]);else if(w[0].indexOf('t="shared"')>-1){g=y$(w[0]);var W=_$(D$(w[1]));c.xlfn||(W=EZ(W)),R[parseInt(g.si,10)]=[g,W,p.r]}}else(w=E.match(/<f[^>]*\/>/))&&R[(g=y$(w[0])).si]&&(f.f=TZ(R[g.si][1],R[g.si][2],p.r));var G=uq(p.r);for(S=0;S<k.length;++S)G.r>=k[S][0].s.r&&G.r<=k[S][0].e.r&&G.c>=k[S][0].s.c&&G.c<=k[S][0].e.c&&(f.F=k[S][1])}if(null==p.t&&void 0===f.v)if(f.f||f.F)f.v=0,f.t="n";else{if(!F)continue;f.t="z"}else f.t=p.t||"n";switch(u.s.c>A&&(u.s.c=A),u.e.c<A&&(u.e.c=A),f.t){case"n":if(""==f.v||null==f.v){if(!F)continue;f.t="z"}else f.v=parseFloat(f.v);break;case"s":if(void 0===f.v){if(!F)continue;f.t="z"}else m=dQ[parseInt(f.v,10)],f.v=m.t,f.r=m.r,c.cellHTML&&(f.h=m.h);break;case"str":f.t="s",f.v=null!=f.v?D$(f.v):"",c.cellHTML&&(f.h=C$(f.v));break;case"inlineStr":w=E.match(r),f.t="s",null!=w&&(m=eJ(w[1]))?(f.v=m.t,c.cellHTML&&(f.h=m.h)):f.v="";break;case"b":f.v=O$(f.v);break;case"d":c.cellDates?f.v=XG(f.v,1):(f.v=UG(XG(f.v,1)),f.t="n");break;case"e":c&&!1===c.cellText||(f.w=f.v),f.v=nY[f.v]}if(C=P=0,v=null,O&&void 0!==p.s&&null!=(v=d.CellXf[p.s])&&(null!=v.numFmtId&&(C=v.numFmtId),c.cellStyles&&null!=v.fillId&&(P=v.fillId)),bQ(f,C,P,c,h,d),c.cellDates&&O&&"n"==f.t&&bG(GW[C])&&(f.t="d",f.v=VG(f.v)),p.cm&&c.xlmeta){var $=(c.xlmeta.Cell||[])[+p.cm-1];$&&"XLDAPR"==$.type&&(f.D=!0)}if(I){var X=uq(p.r);l[X.r]||(l[X.r]=[]),l[X.r][X.c]=f}else l[p.r]=f}}}}N.length>0&&(l["!rows"]=N)}}();function UQ(e,t,n,r){var i,a=[d$,$$("worksheet",null,{xmlns:cX[0],"xmlns:r":aX})],s=n.SheetNames[e],o="",l=n.Sheets[s];null==l&&(l={});var c=l["!ref"]||"A1",u=pq(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=fq(u)}r||(r={}),l["!comments"]=[];var h=[];!function(e,t,n,r,i){var a=!1,s={},o=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(u){}a=!0,s.codeName=L$(E$(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+$$("outlinePr",null,c)}(a||o)&&(i[i.length]=$$("sheetPr",o,s))}(l,n,e,t,a),a[a.length]=$$("dimension",null,{ref:c}),a[a.length]=function(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),$$("sheetViews",$$("sheetView",null,i),{})}(0,0,0,n),t.sheetFormat&&(a[a.length]=$$("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(a[a.length]=function(e,t){for(var n,r=["<cols>"],i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=$$("col",null,gQ(i,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),a[i=a.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var n,r,i=[],a=[],s=pq(e["!ref"]),o="",l="",c=[],u=0,h=0,d=e["!rows"],f=Array.isArray(e),p={r:l},m=-1;for(h=s.s.c;h<=s.e.c;++h)c[h]=cq(h);for(u=s.s.r;u<=s.e.r;++u){for(a=[],l=oq(u),h=s.s.c;h<=s.e.c;++h){n=c[h]+l;var g=f?(e[u]||[])[h]:e[n];void 0!==g&&null!=(o=LQ(g,n,e,t))&&a.push(o)}(a.length>0||d&&d[u])&&(p={r:l},d&&d[u]&&((r=d[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=RJ(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level)),i[i.length]=$$("row",a.join(""),p))}if(d)for(;u<d.length;++u)d&&d[u]&&(p={r:u+1},(r=d[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=RJ(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level),i[i.length]=$$("row","",p));return i.join("")}(l,t),o.length>0&&(a[a.length]=o)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),l["!protect"]&&(a[a.length]=function(e){var t={sheet:1};return IQ.forEach((function(n){null!=e[n]&&e[n]&&(t[n]="1")})),NQ.forEach((function(n){null==e[n]||e[n]||(t[n]="0")})),e.password&&(t.password=vJ(e.password).toString(16).toUpperCase()),$$("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(a[a.length]=function(e,t,n,r){var i="string"==typeof e.ref?e.ref:fq(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=dq(i);s.s.r==s.e.r&&(s.e.r=dq(t["!ref"]).e.r,i=fq(s));for(var o=0;o<a.length;++o){var l=a[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),$$("autoFilter",null,{ref:i})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(a[a.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+fq(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var d,f,p=-1,m=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(d={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=uY(r,-1,E$(e[1].Target).replace(/#.*$/,""),sY.HLINK),d["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(d.location=E$(e[1].Target.slice(p+1))),e[1].Tooltip&&(d.tooltip=E$(e[1].Tooltip)),a[a.length]=$$("hyperlink",null,d))})),a[a.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(a[a.length]=(vQ(f=l["!margins"]),$$("pageMargins",null,f))),t&&!t.ignoreEC&&null!=t.ignoreEC||(a[a.length]=W$("ignoredErrors",$$("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(m=uY(r,-1,"../drawings/drawing"+(e+1)+".xml",sY.DRAW),a[a.length]=$$("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=h),l["!comments"].length>0&&(m=uY(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",sY.VML),a[a.length]=$$("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function jQ(e,t,n,r){var i=function(e,t,n){var r=ZX(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var a=320;i.hpx?a=20*RJ(i.hpx):i.hpt&&(a=20*i.hpt),r.write_shift(2,a),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,d=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[hq(c)])&&(h<0&&(h=f),d=f);h<0||(++o,r.write_shift(4,h),r.write_shift(4,d))}var p=r.l;return r.l=l,r.write_shift(4,o),r.l=p,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&tq(e,0,i)}var BQ=zq,zQ=Vq;function VQ(e){return[Pq(e),Hq(e),"n"]}var HQ=zq,WQ=Vq;var GQ=["left","right","top","bottom","header","footer"];function $Q(e,t,n,r,i,a,s){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=YG(t)).z=t.z||GW[14],t.v=UG(XG(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:n,c:r};switch(l.s=yQ(i.cellXfs,t,i),t.l&&a["!links"].push([hq(l),t.l]),t.c&&a["!comments"].push([hq(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=mQ(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,s?tq(e,18,function(e,t,n){return null==n&&(n=ZX(8)),Oq(t,n),n.write_shift(4,t.v),n}(0,l)):tq(e,7,function(e,t,n){return null==n&&(n=ZX(12)),Cq(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",s?tq(e,17,function(e,t,n){return null==n&&(n=ZX(8+4*e.v.length)),Oq(t,n),_q(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):tq(e,6,function(e,t,n){return null==n&&(n=ZX(12+4*e.v.length)),Cq(t,n),_q(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?tq(e,13,function(e,t,n){return null==n&&(n=ZX(8)),Oq(t,n),jq(e.v,n),n}(t,l)):tq(e,2,function(e,t,n){return null==n&&(n=ZX(12)),Cq(t,n),jq(e.v,n),n}(t,l)):s?tq(e,16,function(e,t,n){return null==n&&(n=ZX(12)),Oq(t,n),Wq(e.v,n),n}(t,l)):tq(e,5,function(e,t,n){return null==n&&(n=ZX(16)),Cq(t,n),Wq(e.v,n),n}(t,l)),!0;case"b":return l.t="b",s?tq(e,15,function(e,t,n){return null==n&&(n=ZX(5)),Oq(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):tq(e,4,function(e,t,n){return null==n&&(n=ZX(9)),Cq(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",s?tq(e,14,function(e,t,n){return null==n&&(n=ZX(8)),Oq(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):tq(e,3,function(e,t,n){return null==n&&(n=ZX(9)),Cq(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return s?tq(e,12,function(e,t,n){return null==n&&(n=ZX(4)),Oq(t,n)}(0,l)):tq(e,1,function(e,t,n){return null==n&&(n=ZX(8)),Cq(t,n)}(0,l)),!0}function XQ(e,t){var n,r;t&&t["!merges"]&&(tq(e,177,(n=t["!merges"].length,null==r&&(r=ZX(4)),r.write_shift(4,n),r)),t["!merges"].forEach((function(t){tq(e,176,WQ(t))})),tq(e,178))}function qQ(e,t){t&&t["!cols"]&&(tq(e,390),t["!cols"].forEach((function(t,n){t&&tq(e,60,function(e,t,n){null==n&&(n=ZX(18));var r=gQ(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}(n,t))})),tq(e,391))}function YQ(e,t){var n,r;t&&t["!ref"]&&(tq(e,648),tq(e,649,(n=pq(t["!ref"]),(r=ZX(24)).write_shift(4,4),r.write_shift(4,1),Vq(n,r),r)),tq(e,650))}function KQ(e,t,n){t["!links"].forEach((function(t){if(t[1].Target){var r=uY(n,-1,t[1].Target.replace(/#.*$/,""),sY.HLINK);tq(e,494,function(e,t){var n=ZX(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Vq({s:uq(e[0]),e:uq(e[0])},n),Fq("rId"+t,n);var r=e[1].Target.indexOf("#");return _q((-1==r?"":e[1].Target.slice(r+1))||"",n),_q(e[1].Tooltip||"",n),_q("",n),n.slice(0,n.l)}(t,r))}})),delete t["!links"]}function JQ(e,t,n){tq(e,133),tq(e,137,function(e,t,n){null==n&&(n=ZX(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),tq(e,138),tq(e,134)}function ZQ(e,t){var n,r;t["!protect"]&&tq(e,535,(n=t["!protect"],null==r&&(r=ZX(66)),r.write_shift(2,n.password?vJ(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)})),r))}function QQ(e,t,n,r){var i=eq(),a=n.SheetNames[e],s=n.Sheets[a]||{},o=a;try{n&&n.Workbook&&(o=n.Workbook.Sheets[e].CodeName||o)}catch(h){}var l,c,u=pq(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],tq(i,129),(n.vbaraw||s["!outline"])&&tq(i,147,function(e,t,n){null==n&&(n=ZX(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return Gq({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),Rq(e,n),n.slice(0,n.l)}(o,s["!outline"])),tq(i,148,zQ(u)),JQ(i,0,n.Workbook),qQ(i,s),function(e,t,n,r){var i,a=pq(t["!ref"]||"A1"),s="",o=[];tq(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=c;++u){s=oq(u),jQ(e,t,a,u);var h=!1;if(u<=a.e.r)for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(o[d]=cq(d)),i=o[d]+s;var f=l?(t[u]||[])[d]:t[i];h=!!f&&$Q(e,f,u,d,r,t,h)}}tq(e,146)}(i,s,0,t),ZQ(i,s),function(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],a="string"==typeof i.ref?i.ref:fq(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=dq(a);o.s.r==o.e.r&&(o.e.r=dq(t["!ref"]).e.r,a=fq(o));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),tq(e,161,Vq(pq(a))),tq(e,162)}}(i,s,n,e),XQ(i,s),KQ(i,s,r),s["!margins"]&&tq(i,476,(l=s["!margins"],null==c&&(c=ZX(48)),vQ(l),GQ.forEach((function(e){Wq(l[e],c)})),c)),t&&!t.ignoreEC&&null!=t.ignoreEC||YQ(i,s),function(e,t,n,r){if(t["!comments"].length>0){var i=uY(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",sY.VML);tq(e,551,Fq("rId"+i)),t["!legacy"]=i}}(i,s,e,r),tq(i,130),i.end()}function e0(e,t,n,r,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=function(e){var t,n=[],r=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(n[+t[1]]=r?+t[2]:t[2])}));var i=_$((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[n,i,t]}(e);u.s.r=u.s.c=0,u.e.c=o,c=cq(o),t[0].forEach((function(e,n){s[c+oq(n)]={t:"n",v:e,z:t[1]},l=n})),u.e.r<l&&(u.e.r=l),++o})),o>0&&(s["!ref"]=fq(u)),s}var t0=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],n0=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],r0=[],i0=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function a0(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var a=t[i];if(null==r[a[0]])r[a[0]]=a[1];else switch(a[2]){case"bool":"string"==typeof r[a[0]]&&(r[a[0]]=O$(r[a[0]]));break;case"int":"string"==typeof r[a[0]]&&(r[a[0]]=parseInt(r[a[0]],10))}}}function s0(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(null==e[r[0]])e[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof e[r[0]]&&(e[r[0]]=O$(e[r[0]]));break;case"int":"string"==typeof e[r[0]]&&(e[r[0]]=parseInt(e[r[0]],10))}}}function o0(e){s0(e.WBProps,t0),s0(e.CalcPr,i0),a0(e.WBView,n0),a0(e.Sheets,r0),fQ.date1904=O$(e.WBProps.date1904)}var l0="][*?/\\".split("");function c0(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");return l0.forEach((function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})),!0}function u0(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,n,r,i=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,n=i,r=!!e.vbaraw,t.forEach((function(e,i){c0(e);for(var a=0;a<i;++a)if(e==t[a])throw new Error("Duplicate Sheet Name: "+e);if(r){var s=n&&n[i]&&n[i].CodeName||e;if(95==s.charCodeAt(0)&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}}));for(var a=0;a<e.SheetNames.length;++a)xQ(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}var h0=/<\w+:workbook/;function d0(e){var t=[d$];t[t.length]=$$("workbook",null,{xmlns:cX[0],"xmlns:r":aX});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(t0.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=$$("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&i[a]&&i[a].Hidden;++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:E$(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden"}t[t.length]=$$("sheet",null,s)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=$$("definedName",E$(e.Ref),n))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function f0(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function p0(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,i=t.Workbook.Sheets,a=0,s=-1,o=-1;a<i.length;++a)!i[a]||!i[a].Hidden&&-1==s?s=a:1==i[a].Hidden&&-1==o&&(o=a);if(!(o>s))tq(e,135),tq(e,158,(n=s,r||(r=ZX(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),tq(e,136)}}function m0(e,t){var n=eq();return tq(n,131),tq(n,128,function(e,t){t||(t=ZX(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return _q("SheetJS",t),_q(cW.version,t),_q(cW.version,t),_q("7262",t),t.length>t.l?t.slice(0,t.l):t}()),tq(n,153,function(e,t){t||(t=ZX(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),Rq(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),p0(n,e),function(e,t){tq(e,143);for(var n=0;n!=t.SheetNames.length;++n){tq(e,156,(r={Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]},(i=void 0)||(i=ZX(127)),i.write_shift(4,r.Hidden),i.write_shift(4,r.iTabID),Fq(r.strRelID,i),_q(r.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i))}var r,i;tq(e,144)}(n,e),tq(n,132),n.end()}function g0(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],n1[16]={n:"BrtFRTArchID$",f:f0},QX(e,(function(e,o,l){switch(l){case 156:s.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=JZ(e.Ptg,0,null,s,t),delete t.SID,delete e.Ptg,a.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:s[0].length?s.push([l,e]):s[0]=[l,e],s[s.length-1].XTI=[];break;case 362:0===s.length&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(e),s.XTI=s.XTI.concat(e);break;case 35:case 37:r.push(l),i=!0;break;case 36:case 38:r.pop(),i=!1;break;default:if(o.T);else if(!i||t.WTF&&37!=r[r.length-1]&&35!=r[r.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}}),t),o0(n),n.Names=a,n.supbooks=s,n}(e,n):function(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},s=0;if(e.replace(m$,(function(o,l){var c=y$(o);switch(b$(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(h0)&&(i="xmlns"+o.match(/<(\w+):/)[1]),n.xmlns=c[i];break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":t0.forEach((function(e){if(null!=c[e[0]])switch(e[2]){case"bool":n.WBProps[e[0]]=O$(c[e[0]]);break;case"int":n.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:n.WBProps[e[0]]=c[e[0]]}})),c.codeName&&(n.WBProps.CodeName=D$(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=_$(D$(c.name)),delete c[0],n.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(a={}).Name=D$(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),O$(c.hidden||"0")&&(a.Hidden=!0),s=l+o.length;break;case"</definedName>":a.Ref=_$(D$(e.slice(s,l))),n.Names.push(a);break;case"<calcPr":case"<calcPr/>":delete c[0],n.CalcPr=c;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o})),-1===cX.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return o0(n),n}(e,n)}function v0(e,t,n,r,i,a,s,o){return".bin"===t.slice(-4)?function(e,t,n,r,i,a,s){if(!e)return e;var o=t||{};r||(r={"!id":{}});var l,c,u,h,d,f,p,m,g,v,y=o.dense?[]:{},b={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=!1,w=!1,_=[];o.biff=12,o["!row"]=0;var S=0,T=!1,E=[],M={},A=o.supbooks||i.supbooks||[[]];if(A.sharedf=M,A.arrayf=E,A.SheetNames=i.SheetNames||i.Sheets.map((function(e){return e.name})),!o.supbooks&&(o.supbooks=A,i.Names))for(var C=0;C<i.Names.length;++C)A[0][C+1]=i.Names[C];var P,O=[],k=[],R=!1;if(n1[16]={n:"BrtShortReal",f:VQ},QX(e,(function(e,t,C){if(!w)switch(C){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(w=!0),g=oq(d=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=IJ(e.hpt)),k[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":m=dQ[e[1]],u.v=m.t,u.r=m.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==o.cellText&&(u.w=tY[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t}if((h=s.CellXf[e[0].iStyleRef])&&bQ(u,h.numFmtId,null,o,a,s),f=-1==e[0].c?f+1:e[0].c,o.dense?(y[d]||(y[d]=[]),y[d][f]=u):y[cq(f)+g]=u,o.cellFormula){for(T=!1,S=0;S<E.length;++S){var I=E[S];c.r>=I[0].s.r&&c.r<=I[0].e.r&&f>=I[0].s.c&&f<=I[0].e.c&&(u.F=fq(I[0]),T=!0)}!T&&e.length>3&&(u.f=e[3])}if(b.s.r>c.r&&(b.s.r=c.r),b.s.c>f&&(b.s.c=f),b.e.r<c.r&&(b.e.r=c.r),b.e.c<f&&(b.e.c=f),o.cellDates&&h&&"n"==u.t&&bG(GW[h.numFmtId])){var N=YW(u.v);N&&(u.t="d",u.v=new Date(N.y,N.m-1,N.d,N.H,N.M,N.S,N.u))}P&&("XLDAPR"==P.type&&(u.D=!0),P=void 0);break;case 1:case 12:if(!o.sheetStubs||x)break;u={t:"z",v:void 0},f=-1==e[0].c?f+1:e[0].c,o.dense?(y[d]||(y[d]=[]),y[d][f]=u):y[cq(f)+g]=u,b.s.r>c.r&&(b.s.r=c.r),b.s.c>f&&(b.s.c=f),b.e.r<c.r&&(b.e.r=c.r),b.e.c<f&&(b.e.c=f),P&&("XLDAPR"==P.type&&(u.D=!0),P=void 0);break;case 176:_.push(e);break;case 49:P=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var D=r["!id"][e.relId];for(D?(e.Target=D.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=D):""==e.relId&&(e.Target="#"+e.loc),d=e.rfx.s.r;d<=e.rfx.e.r;++d)for(f=e.rfx.s.c;f<=e.rfx.e.c;++f)o.dense?(y[d]||(y[d]=[]),y[d][f]||(y[d][f]={t:"z",v:void 0}),y[d][f].l=e):(p=hq({c:f,r:d}),y[p]||(y[p]={t:"z",v:void 0}),y[p].l=e);break;case 426:if(!o.cellFormula)break;E.push(e),(v=o.dense?y[d][f]:y[cq(f)+g]).f=JZ(e[1],0,{r:c.r,c:f},A,o),v.F=fq(e[0]);break;case 427:if(!o.cellFormula)break;M[hq(e[0].s)]=e[1],(v=o.dense?y[d][f]:y[cq(f)+g]).f=JZ(e[1],0,{r:c.r,c:f},A,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)O[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},R||(R=!0,PJ(e.w/256)),OJ(O[e.e+1]);break;case 161:y["!autofilter"]={ref:fq(e)};break;case 476:y["!margins"]=e;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name),(e.above||e.left)&&(y["!outline"]={above:e.above,left:e.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),e.RTL&&(i.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:case 37:x=!0;break;case 36:case 38:x=!1;break;default:if(t.T);else if(!x||o.WTF)throw new Error("Unexpected record 0x"+C.toString(16))}}),o),delete o.supbooks,delete o["!row"],!y["!ref"]&&(b.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(y["!ref"]=fq(l||b)),o.sheetRows&&y["!ref"]){var I=pq(y["!ref"]);o.sheetRows<=+I.e.r&&(I.e.r=o.sheetRows-1,I.e.r>b.e.r&&(I.e.r=b.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>b.e.c&&(I.e.c=b.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),y["!fullref"]=y["!ref"],y["!ref"]=fq(I))}return _.length>0&&(y["!merges"]=_),O.length>0&&(y["!cols"]=O),k.length>0&&(y["!rows"]=k),y}(e,r,n,i,a,s,o):kQ(e,r,n,i,a,s,o)}function y0(e,t,n,r,i,a,s,o){return".bin"===t.slice(-4)?function(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return QX(e,(function(e,r,o){switch(o){case 550:a["!rel"]=e;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(r.T>0);else if(r.T<0);else if(!s||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}(e,r,n,i,a):function(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var a,s={"!type":"chart","!drawel":null,"!rel":""},o=e.match(CQ);return o&&RQ(o[0],0,i,n),(a=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(e,0,n,i,a)}function b0(e,t,n,r){return".bin"===t.slice(-4)?function(e,t,n){var r={NumberFmt:[]};for(var i in GW)r.NumberFmt[i]=GW[i];r.CellXf=[],r.Fonts=[];var a=[],s=!1;return QX(e,(function(e,i,o){switch(o){case 44:r.NumberFmt[e[0]]=e[1],TG(e[1],e[0]);break;case 43:r.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=SJ(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==a[a.length-1]&&r.CellXf.push(e);break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(o),s=!0;break;case 38:a.pop(),s=!1;break;default:if(i.T>0)a.push(o);else if(i.T<0)a.pop();else if(!s||n.WTF&&37!=a[a.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}})),r}(e,n,r):FJ(e,n,r)}function x0(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=!1;return QX(e,(function(e,i,a){switch(a){case 159:n.Count=e[0],n.Unique=e[1];break;case 19:n.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}})),n}(e,n):function(e,t){var n=[],r="";if(!e)return n;var i=e.match(tJ);if(i){r=i[2].replace(nJ,"").split(rJ);for(var a=0;a!=r.length;++a){var s=eJ(r[a].trim(),t);null!=s&&(n[n.length]=s)}i=y$(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}(e,n)}function w0(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=[],i={},a=!1;return QX(e,(function(e,s,o){switch(o){case 632:r.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:case 37:case 38:break;case 35:a=!0;break;case 36:a=!1;break;default:if(s.T);else if(!a||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}})),n}(e,n):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&n.push(t[1])}}));var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var i=e.match(/<(?:\w+:)?comment[^>]*>/);if(i){var a=y$(i[0]),s={author:a.authorId&&n[a.authorId]||"sheetjsghost",ref:a.ref,guid:a.guid},o=uq(a.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&eJ(l[1])||{r:"",t:"",h:""};s.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),s.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(s.h=c.h),r.push(s)}}}})),r}(e,n)}function _0(e,t,n){return".bin"===t.slice(-4)?function(e){var t=[];return QX(e,(function(e,n,r){if(63===r)t.push(e);else if(!n.T)throw new Error("Unexpected record 0x"+r.toString(16))})),t}(e):function(e){var t=[];if(!e)return t;var n=1;return(e.match(m$)||[]).forEach((function(e){var r=y$(e);switch(r[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r)}})),t}(e)}function S0(e,t,n,r){if(".bin"===n.slice(-4))return function(e,t,n,r){if(!e)return e;var i=r||{},a=!1;QX(e,(function(e,t,n){switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(t.T);else if(!a||i.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}}),i)}(e,0,0,r)}function T0(e,t,n){return".bin"===t.slice(-4)?function(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},a=[],s=!1,o=2;return QX(e,(function(e,t,n){switch(n){case 335:r.Types.push({name:e.name});break;case 51:e.forEach((function(e){1==o?r.Cell.push({type:r.Types[e[0]-1].name,index:e[1]}):0==o&&r.Value.push({type:r.Types[e[0]-1].name,index:e[1]})}));break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:a.push(n),s=!0;break;case 36:a.pop(),s=!1;break;default:if(t.T);else if(!s||i.WTF&&35!=a[a.length-1])throw new Error("Unexpected record 0x"+n.toString(16))}})),r}(e,0,n):function(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i,a=!1,s=2;return e.replace(m$,(function(e){var t=y$(e);switch(b$(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<r.Types.length;++o)r.Types[o].name==t.name&&(i=r.Types[o]);break;case"<rc":1==s?r.Cell.push({type:r.Types[t.t-1].name,index:+t.v}):0==s&&r.Value.push({type:r.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":s=1;break;case"</cellMetadata>":case"</valueMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+t.i);break;default:if(!a&&n.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e})),r}(e,0,n)}function E0(e,t,n,r,i){return(".bin"===t.slice(-4)?QQ:UQ)(e,n,r,i)}function M0(e,t,n){return(".bin"===t.slice(-4)?yZ:mZ)(e)}var A0,C0=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,P0=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function O0(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],1===n.length)return r;var i,a,s,o=e.match(C0);if(o)for(s=0;s!=o.length;++s)-1===(a=(i=o[s].match(P0))[1].indexOf(":"))?r[i[1]]=i[2].slice(1,i[2].length-1):r["xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(a+1)]=i[2].slice(1,i[2].length-1);return r}function k0(e){var t={};if(1===e.split(/\s+/).length)return t;var n,r,i,a=e.match(C0);if(a)for(i=0;i!=a.length;++i)-1===(r=(n=a[i].match(P0))[1].indexOf(":"))?t[n[1]]=n[2].slice(1,n[2].length-1):t["xmlns:"===n[1].slice(0,6)?"xmlns"+n[1].slice(6):n[1].slice(r+1)]=n[2].slice(1,n[2].length-1);return t}function R0(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=O$(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=XG(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[_$(t)]=i}function I0(e,t,n){if("z"!==e.t){if(!n||!1!==n.cellText)try{"e"===e.t?e.w=e.w||tY[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=tG(e.v):e.w=nG(e.v):e.w=(r=t||"General",i=e.v,"General"===(a=A0[r]||_$(r))?nG(i):SG(a,i))}catch(l){if(n.WTF)throw l}var r,i,a;try{var s=A0[t]||t||"General";if(n.cellNF&&(e.z=s),n.cellDates&&"n"==e.t&&bG(s)){var o=YW(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}catch(l){if(n.WTF)throw l}}}function N0(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=NJ[r.Pattern]||r.Pattern)}e[t.ID]=t}function D0(e,t,n,r,i,a,s,o,l,c){var u="General",h=r.StyleID,d={};c=c||{};var f=[],p=0;for(void 0===h&&o&&(h=o.StyleID),void 0===h&&s&&(h=s.StyleID);void 0!==a[h]&&(a[h].nf&&(u=a[h].nf),a[h].Interior&&f.push(a[h].Interior),a[h].Parent);)h=a[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=O$(e);break;case"String":r.t="s",r.r=P$(_$(e)),r.v=e.indexOf("<")>-1?_$(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),r.v=(XG(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!=r.v?r.v=_$(e):r.v<60&&(r.v=r.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=nY[e],!1!==c.cellText&&(r.w=e);break;default:""==e&&""==t?r.t="z":(r.t="s",r.v=P$(t||e))}if(I0(r,u,c),!1!==c.cellFormula)if(r.Formula){var m=_$(r.Formula);61==m.charCodeAt(0)&&(m=m.slice(1)),r.f=xZ(m,i),delete r.Formula,"RC"==r.ArrayRange?r.F=xZ("RC:RC",i):r.ArrayRange&&(r.F=xZ(r.ArrayRange,i),l.push([pq(r.F),r.F]))}else for(p=0;p<l.length;++p)i.r>=l[p][0].s.r&&i.r<=l[p][0].e.r&&i.c>=l[p][0].s.c&&i.c<=l[p][0].e.c&&(r.F=l[p][1]);c.cellStyles&&(f.forEach((function(e){!d.patternType&&e.patternType&&(d.patternType=e.patternType)})),r.s=d),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function L0(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function F0(e,t){var n=t||{};MG();var r=bW(q$(e));"binary"!=n.type&&"array"!=n.type&&"base64"!=n.type||(r=D$(r));var i,a=r.slice(0,1024).toLowerCase(),s=!1;if((1023&(a=a.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&a.indexOf(","),1023&a.indexOf(";"))){var o=YG(n);return o.type="string",XK.to_workbook(r,o)}if(-1==a.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){a.indexOf("<"+e)>=0&&(s=!0)})),s)return function(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||0==n.length)throw new Error("Invalid HTML: could not find <table>");if(1==n.length)return vq(p1(n[0],t),t);var r={SheetNames:[],Sheets:{}};return n.forEach((function(e,n){A2(r,p1(e,t),"Sheet"+(n+1))})),r}(r,n);A0={"General Number":"General","General Date":GW[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":GW[15],"Short Date":GW[14],"Long Time":GW[19],"Medium Time":GW[18],"Short Time":GW[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:GW[2],Standard:GW[4],Percent:GW[10],Scientific:GW[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c,u=[],h={},d=[],f=n.dense?[]:{},p="",m={},g={},v=O0('<Data ss:Type="String">'),y=0,b=0,x=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},S={},T="",E=0,M=[],A={},C={},P=0,O=[],k=[],R={},I=[],N=!1,D=[],L=[],F={},U=0,j=0,B={Sheets:[],WBProps:{date1904:!1}},z={};Y$.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var V="";i=Y$.exec(r);)switch(i[3]=(V=i[3]).toLowerCase()){case"data":if("data"==V){if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&u.push([i[3],!0]);break}if(u[u.length-1][1])break;"/"===i[1]?D0(r.slice(y,i.index),T,v,"comment"==u[u.length-1][0]?R:m,{c:b,r:x},_,I[b],g,D,n):(T="",v=O0(i[0]),y=i.index+i[0].length);break;case"cell":if("/"===i[1])if(k.length>0&&(m.c=k),(!n.sheetRows||n.sheetRows>x)&&void 0!==m.v&&(n.dense?(f[x]||(f[x]=[]),f[x][b]=m):f[cq(b)+oq(x)]=m),m.HRef&&(m.l={Target:_$(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(U=b+(0|parseInt(m.MergeAcross,10)),j=x+(0|parseInt(m.MergeDown,10)),M.push({s:{c:b,r:x},e:{c:U,r:j}})),n.sheetStubs)if(m.MergeAcross||m.MergeDown){for(var H=b;H<=U;++H)for(var W=x;W<=j;++W)(H>b||W>x)&&(n.dense?(f[W]||(f[W]=[]),f[W][H]={t:"z"}):f[cq(H)+oq(W)]={t:"z"});b=U+1}else++b;else m.MergeAcross?b=U+1:++b;else(m=k0(i[0])).Index&&(b=+m.Index-1),b<w.s.c&&(w.s.c=b),b>w.e.c&&(w.e.c=b),"/>"===i[0].slice(-2)&&++b,k=[];break;case"row":"/"===i[1]||"/>"===i[0].slice(-2)?(x<w.s.r&&(w.s.r=x),x>w.e.r&&(w.e.r=x),"/>"===i[0].slice(-2)&&(g=O0(i[0])).Index&&(x=+g.Index-1),b=0,++x):((g=O0(i[0])).Index&&(x=+g.Index-1),F={},("0"==g.AutoFitHeight||g.Height)&&(F.hpx=parseInt(g.Height,10),F.hpt=RJ(F.hpx),L[x]=F),"1"==g.Hidden&&(F.hidden=!0,L[x]=F));break;case"worksheet":if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));d.push(p),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(f["!ref"]=fq(w),n.sheetRows&&n.sheetRows<=w.e.r&&(f["!fullref"]=f["!ref"],w.e.r=n.sheetRows-1,f["!ref"]=fq(w))),M.length&&(f["!merges"]=M),I.length>0&&(f["!cols"]=I),L.length>0&&(f["!rows"]=L),h[p]=f}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=b=0,u.push([i[3],!1]),l=O0(i[0]),p=_$(l.Name),f=n.dense?[]:{},M=[],D=[],L=[],z={name:p,Hidden:0},B.Sheets.push(z);break;case"table":if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==i[0].slice(-2))break;u.push([i[3],!1]),I=[],N=!1}break;case"style":"/"===i[1]?N0(_,S,n):S=O0(i[0]);break;case"numberformat":S.nf=_$(O0(i[0]).Format||"General"),A0[S.nf]&&(S.nf=A0[S.nf]);for(var G=0;392!=G&&GW[G]!=S.nf;++G);if(392==G)for(G=57;392!=G;++G)if(null==GW[G]){TG(S.nf,G);break}break;case"column":if("table"!==u[u.length-1][0])break;if((c=O0(i[0])).Hidden&&(c.hidden=!0,delete c.Hidden),c.Width&&(c.wpx=parseInt(c.Width,10)),!N&&c.wpx>10){N=!0,TJ=6;for(var $=0;$<I.length;++$)I[$]&&OJ(I[$])}N&&OJ(c),I[c.Index-1||I.length]=c;for(var X=0;X<+c.Span;++X)I[I.length]=YG(c);break;case"namedrange":if("/"===i[1])break;B.Names||(B.Names=[]);var q=y$(i[0]),Y={Name:q.Name,Ref:xZ(q.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Y.Sheet=B.Sheets.length-1),B.Names.push(Y);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===i[0].slice(-2))break;"/"===i[1]?T+=r.slice(E,i.index):E=i.index+i[0].length;break;case"interior":if(!n.cellStyles)break;S.Interior=O0(i[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===i[0].slice(-2))break;"/"===i[1]?MY(A,V,r.slice(P,i.index)):P=i.index+i[0].length;break;case"styles":case"workbook":if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else u.push([i[3],!1]);break;case"comment":if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));L0(R),k.push(R)}else u.push([i[3],!1]),R={a:(l=O0(i[0])).Author};break;case"autofilter":if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==i[0].charAt(i[0].length-2)){var K=O0(i[0]);f["!autofilter"]={ref:xZ(K.Range).replace(/\$/g,"")},u.push([i[3],!0])}break;case"datavalidation":if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&u.push([i[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===i[1]){if((l=u.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&u.push([i[3],!0]);break;default:if(0==u.length&&"document"==i[3])return S1(r,n);if(0==u.length&&"uof"==i[3])return S1(r,n);var J=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(i[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(i[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":case"height":case"width":break;default:J=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if("/>"===i[0].slice(-2));else if("/"===i[1])switch(r.slice(P,i.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2}else P=i.index+i[0].length;break;case"header":f["!margins"]||vQ(f["!margins"]={},"xlml"),isNaN(+y$(i[0]).Margin)||(f["!margins"].header=+y$(i[0]).Margin);break;case"footer":f["!margins"]||vQ(f["!margins"]={},"xlml"),isNaN(+y$(i[0]).Margin)||(f["!margins"].footer=+y$(i[0]).Margin);break;case"pagemargins":var Z=y$(i[0]);f["!margins"]||vQ(f["!margins"]={},"xlml"),isNaN(+Z.Top)||(f["!margins"].top=+Z.Top),isNaN(+Z.Left)||(f["!margins"].left=+Z.Left),isNaN(+Z.Right)||(f["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(f["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;default:J=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:J=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:J=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:J=!1}break;case"querytable":switch(i[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1}if(J)break;if(i[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+u.join("|");if("customdocumentproperties"===u[u.length-1][0]){if("/>"===i[0].slice(-2))break;"/"===i[1]?R0(C,V,O,r.slice(P,i.index)):(O=i,P=i.index+i[0].length);break}if(n.WTF)throw"Unrecognized tag: "+i[3]+"|"+u.join("|")}var Q={};return n.bookSheets||n.bookProps||(Q.Sheets=h),Q.SheetNames=d,Q.Workbook=B,Q.SSF=YG(GW),Q.Props=A,Q.Custprops=C,Q}function U0(e,t){switch(t2(t=t||{}),t.type||"base64"){case"base64":return F0(TW(e),t);case"binary":case"buffer":case"file":return F0(e,t);case"array":return F0(kW(e),t)}}function j0(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return IG(EY).map((function(e){for(var t=0;t<fY.length;++t)if(fY[t][1]==e)return fY[t];for(t=0;t<yY.length;++t)if(yY[t][1]==e)return yY[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(W$(EY[r[1]]||r[1],i))}})),$$("DocumentProperties",n.join(""),{xmlns:uX})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&IG(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<fY.length;++r)if(t==fY[r][1])return;for(r=0;r<yY.length;++r)if(t==yY[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var a=e[t],s="string";"number"==typeof a?(s="float",a=String(a)):!0===a||!1===a?(s="boolean",a=a?"1":"0"):a=String(a),i.push($$(M$(t),a,{"dt:dt":s}))}})),t&&IG(t).forEach((function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],a="string";"number"==typeof r?(a="float",r=String(r)):!0===r||!1===r?(a="boolean",r=r?"1":"0"):r instanceof Date?(a="dateTime.tz",r=r.toISOString()):r=String(r),i.push($$(M$(n),r,{"dt:dt":a}))}})),"<"+r+' xmlns="'+uX+'">'+i.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function B0(e){return $$("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+_Z(e.Ref,{r:0,c:0})})}function z0(e,t,n,r,i,a,s){if(!e||null==e.v&&null==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+E$(_Z(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=uq(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=E$(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=E$(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c==s.c&&c[u].s.r==s.r&&(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",d="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",d=String(e.v);break;case"b":h="Boolean",d=e.v?"1":"0";break;case"e":h="Error",d=tY[e.v];break;case"d":h="DateTime",d=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||GW[14]);break;case"s":h="String",d=((e.v||"")+"").replace(S$,(function(e){return w$[e]})).replace(A$,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=yQ(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var p=null!=e.v?d:"",m="z"==e.t?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map((function(e){var t=$$("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return $$("Comment",t,{"ss:Author":e.a})})).join("")),$$("Cell",m,o)}function V0(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=IJ(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function H0(e,t,n){var r=[],i=n.SheetNames[e],a=n.Sheets[i],s=a?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||a.push(B0(o)))}return a.join("")}(a,0,e,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?function(e,t){if(!e["!ref"])return"";var n=pq(e["!ref"]),r=e["!merges"]||[],i=0,a=[];e["!cols"]&&e["!cols"].forEach((function(e,t){OJ(e);var n=!!e.width,r=gQ(t,e),i={"ss:Index":t+1};n&&(i["ss:Width"]=EJ(r.width)),e.hidden&&(i["ss:Hidden"]="1"),a.push($$("Column",null,i))}));for(var s=Array.isArray(e),o=n.s.r;o<=n.e.r;++o){for(var l=[V0(o,(e["!rows"]||[])[o])],c=n.s.c;c<=n.e.c;++c){var u=!1;for(i=0;i!=r.length;++i)if(!(r[i].s.c>c||r[i].s.r>o||r[i].e.c<c||r[i].e.r<o)){r[i].s.c==c&&r[i].s.r==o||(u=!0);break}if(!u){var h={r:o,c:c},d=hq(h),f=s?(e[o]||[])[c]:e[d];l.push(z0(f,d,e,t,0,0,h))}}l.push("</Row>"),l.length>2&&a.push(l.join(""))}return a.join("")}(a,t):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push($$("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push($$("Footer",null,{"x:Margin":e["!margins"].footer})),i.push($$("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push($$("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&(!r.Workbook.Sheets[a]||r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(W$("ProtectContents","True")),e["!protect"].objects&&i.push(W$("ProtectObjects","True")),e["!protect"].scenarios&&i.push(W$("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(W$("EnableSelection","UnlockedCells")):i.push(W$("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")}))),0==i.length?"":$$("WorksheetOptions",i.join(""),{xmlns:hX})}(a,0,e,n)),r.join("")}function W0(e,t){t||(t={}),e.SSF||(e.SSF=YG(GW)),e.SSF&&(MG(),EG(e.SSF),t.revssf=LG(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],yQ(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(j0(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push($$("Worksheet",H0(r,t,e),{"ss:Name":E$(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push($$("NumberFormat",null,{"ss:Format":E$(GW[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};n.push($$("Style",r.join(""),i))})),$$("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push(B0(i)))}return $$("Names",n.join(""))}(e),d$+$$("Workbook",n.join(""),{xmlns:dX,"xmlns:o":uX,"xmlns:x":hX,"xmlns:ss":dX,"xmlns:dt":fX,"xmlns:html":gX})}function G0(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return $q(e,1)}(n),n.length-n.l<=4)return t;var r=n.read_shift(4);return 0==r||r>40?t:(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4||1907505652!==(r=n.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return $q(e,2)}(n),0==(r=n.read_shift(4))||r>40?t:(n.l-=4,void(t.Reserved2=n.read_shift(0,"lpwstr")))))}var $0=[60,1084,2066,2165,2175];function X0(e,t,n,r,i){var a=r,s=[],o=n.slice(n.l,n.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:i.enc.insitu(o)}s.push(o),n.l+=a;for(var l=jX(n,n.l),c=r1[l],u=0;null!=c&&$0.indexOf(l)>-1;)a=jX(n,n.l+2),u=n.l+4,2066==l?u+=4:2165!=l&&2175!=l||(u+=12),o=n.slice(u,n.l+4+a),s.push(o),n.l+=4+a,c=r1[l=jX(n,n.l)];var h=IW(s);KX(h,0);var d=0;h.lens=[];for(var f=0;f<s.length;++f)h.lens.push(d),d+=s[f].length;if(h.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+r;return t.f(h,h.length,i)}function q0(e,t,n){if("z"!==e.t&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=GW[r])}catch(a){if(t.WTF)throw a}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||tY[e.v]:0===r||"General"==r?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=tG(e.v):e.w=nG(e.v):e.w=SG(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&r&&"n"==e.t&&bG(GW[r]||String(r))){var i=YW(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Y0(e,t,n){return{v:e,ixfe:t,t:n}}function K0(e,t){var n,r,i,a,s,o,l,c,u={opts:{}},h={},d=t.dense?[]:{},f={},p={},m=null,g=[],v="",y={},b="",x={},w=[],_=[],S=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},M=function(e){return e<8?eY[e]:e<64&&S[e-8]||eY[e]},A=function(e,t,r){if(!(F>1||r.sheetRows&&e.r>=r.sheetRows)){if(r.cellStyles&&t.XF&&t.XF.data&&function(e,t,n){var r,i=t.XF.data;i&&i.patternType&&n&&n.cellStyles&&(t.s={},t.s.patternType=i.patternType,(r=_J(M(i.icvFore)))&&(t.s.fgColor={rgb:r}),(r=_J(M(i.icvBack)))&&(t.s.bgColor={rgb:r}))}(0,t,r),delete t.ixfe,delete t.XF,n=e,b=hq(e),p&&p.s&&p.e||(p={s:{r:0,c:0},e:{r:0,c:0}}),e.r<p.s.r&&(p.s.r=e.r),e.c<p.s.c&&(p.s.c=e.c),e.r+1>p.e.r&&(p.e.r=e.r+1),e.c+1>p.e.c&&(p.e.c=e.c+1),r.cellFormula&&t.f)for(var i=0;i<w.length;++i)if(!(w[i][0].s.c>e.c||w[i][0].s.r>e.r||w[i][0].e.c<e.c||w[i][0].e.r<e.r)){t.F=fq(w[i][0]),w[i][0].s.c==e.c&&w[i][0].s.r==e.r||delete t.f,t.f&&(t.f=""+JZ(w[i][1],0,e,N,C));break}r.dense?(d[e.r]||(d[e.r]=[]),d[e.r][e.c]=t):d[b]=t}},C={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(C.password=t.password);var P=[],O=[],k=[],R=[],I=!1,N=[];N.SheetNames=C.snames,N.sharedf=C.sharedf,N.arrayf=C.arrayf,N.names=[],N.XTI=[];var D,L=0,F=0,U=0,j=[],B=[];C.codepage=1200,pW(1200);for(var z=!1;e.l<e.length-1;){var V=e.l,H=e.read_shift(2);if(0===H&&10===L)break;var W=e.l===e.length?0:e.read_shift(2),G=r1[H];if(G&&G.f){if(t.bookSheets&&133===L&&133!==H)break;if(L=H,2===G.r||12==G.r){var $=e.read_shift(2);if(W-=2,!C.enc&&$!==H&&((255&$)<<8|$>>8)!==H)throw new Error("rt mismatch: "+$+"!="+H);12==G.r&&(e.l+=10,W-=10)}var X={};if(X=10===H?G.f(e,W,C):X0(H,G,e,W,C),0==F&&-1===[9,521,1033,2057].indexOf(L))continue;switch(H){case 34:u.opts.Date1904=T.WBProps.date1904=X;break;case 134:u.opts.WriteProtect=!0;break;case 47:if(C.enc||(e.l=0),C.enc=X,!t.password)throw new Error("File is password-protected");if(null==X.valid)throw new Error("Encryption scheme unsupported");if(!X.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=X;break;case 66:var q=Number(X);switch(q){case 21010:q=1200;break;case 32768:q=1e4;break;case 32769:q=1252}pW(C.codepage=q),z=!0;break;case 317:C.rrtabid=X;break;case 25:C.winlocked=X;break;case 439:u.opts.RefreshAll=X;break;case 12:u.opts.CalcCount=X;break;case 16:u.opts.CalcDelta=X;break;case 17:u.opts.CalcIter=X;break;case 13:u.opts.CalcMode=X;break;case 14:u.opts.CalcPrecision=X;break;case 95:u.opts.CalcSaveRecalc=X;break;case 15:C.CalcRefMode=X;break;case 2211:u.opts.FullCalc=X;break;case 129:X.fDialog&&(d["!type"]="dialog"),X.fBelow||((d["!outline"]||(d["!outline"]={})).above=!0),X.fRight||((d["!outline"]||(d["!outline"]={})).left=!0);break;case 224:_.push(X);break;case 430:N.push([X]),N[N.length-1].XTI=[];break;case 35:case 547:N[N.length-1].push(X);break;case 24:case 536:D={Name:X.Name,Ref:JZ(X.rgce,0,null,N,C)},X.itab>0&&(D.Sheet=X.itab-1),N.names.push(D),N[0]||(N[0]=[],N[0].XTI=[]),N[N.length-1].push(X),"_xlnm._FilterDatabase"==X.Name&&X.itab>0&&X.rgce&&X.rgce[0]&&X.rgce[0][0]&&"PtgArea3d"==X.rgce[0][0][0]&&(B[X.itab-1]={ref:fq(X.rgce[0][0][1][2])});break;case 22:C.ExternCount=X;break;case 23:0==N.length&&(N[0]=[],N[0].XTI=[]),N[N.length-1].XTI=N[N.length-1].XTI.concat(X),N.XTI=N.XTI.concat(X);break;case 2196:if(C.biff<8)break;null!=D&&(D.Comment=X[1]);break;case 18:d["!protect"]=X;break;case 19:0!==X&&C.WTF;break;case 133:f[X.pos]=X,C.snames.push(X.name);break;case 10:if(--F)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,d["!ref"]=fq(p),t.sheetRows&&t.sheetRows<=p.e.r){var Y=p.e.r;p.e.r=t.sheetRows-1,d["!fullref"]=d["!ref"],d["!ref"]=fq(p),p.e.r=Y}p.e.r++,p.e.c++}P.length>0&&(d["!merges"]=P),O.length>0&&(d["!objects"]=O),k.length>0&&(d["!cols"]=k),R.length>0&&(d["!rows"]=R),T.Sheets.push(E)}""===v?y=d:h[v]=d,d=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===C.biff&&(C.biff={9:2,521:3,1033:4}[H]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[X.BIFFVer]||8),C.biffguess=0==X.BIFFVer,0==X.BIFFVer&&4096==X.dt&&(C.biff=5,z=!0,pW(C.codepage=28591)),8==C.biff&&0==X.BIFFVer&&16==X.dt&&(C.biff=2),F++)break;if(d=t.dense?[]:{},C.biff<8&&!z&&(z=!0,pW(C.codepage=t.codepage||1252)),C.biff<5||0==X.BIFFVer&&4096==X.dt){""===v&&(v="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var K={pos:e.l-W,name:v};f[K.pos]=K,C.snames.push(v)}else v=(f[V]||{name:""}).name;32==X.dt&&(d["!type"]="chart"),64==X.dt&&(d["!type"]="macro"),P=[],O=[],C.arrayf=w=[],k=[],R=[],I=!1,E={Hidden:(f[V]||{hs:0}).hs,name:v};break;case 515:case 3:case 2:"chart"==d["!type"]&&(t.dense?(d[X.r]||[])[X.c]:d[hq({c:X.c,r:X.r})])&&++X.c,o={ixfe:X.ixfe,XF:_[X.ixfe]||{},v:X.val,t:"n"},U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:X.c,r:X.r},o,t);break;case 5:case 517:o={ixfe:X.ixfe,XF:_[X.ixfe],v:X.val,t:X.t},U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:X.c,r:X.r},o,t);break;case 638:o={ixfe:X.ixfe,XF:_[X.ixfe],v:X.rknum,t:"n"},U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:X.c,r:X.r},o,t);break;case 189:for(var J=X.c;J<=X.C;++J){var Z=X.rkrec[J-X.c][0];o={ixfe:Z,XF:_[Z],v:X.rkrec[J-X.c][1],t:"n"},U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:J,r:X.r},o,t)}break;case 6:case 518:case 1030:if("String"==X.val){m=X;break}if((o=Y0(X.val,X.cell.ixfe,X.tt)).XF=_[o.ixfe],t.cellFormula){var Q=X.formula;if(Q&&Q[0]&&Q[0][0]&&"PtgExp"==Q[0][0][0]){var ee=Q[0][0][1][0],te=Q[0][0][1][1],ne=hq({r:ee,c:te});x[ne]?o.f=""+JZ(X.formula,0,X.cell,N,C):o.F=((t.dense?(d[ee]||[])[te]:d[ne])||{}).F}else o.f=""+JZ(X.formula,0,X.cell,N,C)}U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A(X.cell,o,t),m=X;break;case 7:case 519:if(!m)throw new Error("String record expects Formula");m.val=X,(o=Y0(X,m.cell.ixfe,"s")).XF=_[o.ixfe],t.cellFormula&&(o.f=""+JZ(m.formula,0,m.cell,N,C)),U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A(m.cell,o,t),m=null;break;case 33:case 545:w.push(X);var re=hq(X[0].s);if(r=t.dense?(d[X[0].s.r]||[])[X[0].s.c]:d[re],t.cellFormula&&r){if(!m)break;if(!re||!r)break;r.f=""+JZ(X[1],0,X[0],N,C),r.F=fq(X[0])}break;case 1212:if(!t.cellFormula)break;if(b){if(!m)break;x[hq(m.cell)]=X[0],((r=t.dense?(d[m.cell.r]||[])[m.cell.c]:d[hq(m.cell)])||{}).f=""+JZ(X[0],0,n,N,C)}break;case 253:o=Y0(g[X.isst].t,X.ixfe,"s"),g[X.isst].h&&(o.h=g[X.isst].h),o.XF=_[o.ixfe],U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:X.c,r:X.r},o,t);break;case 513:t.sheetStubs&&(o={ixfe:X.ixfe,XF:_[X.ixfe],t:"z"},U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:X.c,r:X.r},o,t));break;case 190:if(t.sheetStubs)for(var ie=X.c;ie<=X.C;++ie){var ae=X.ixfe[ie-X.c];o={ixfe:ae,XF:_[ae],t:"z"},U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:ie,r:X.r},o,t)}break;case 214:case 516:case 4:(o=Y0(X.val,X.ixfe,"s")).XF=_[o.ixfe],U>0&&(o.z=j[o.ixfe>>8&63]),q0(o,t,u.opts.Date1904),A({c:X.c,r:X.r},o,t);break;case 0:case 512:1===F&&(p=X);break;case 252:g=X;break;case 1054:if(4==C.biff){j[U++]=X[1];for(var se=0;se<U+163&&GW[se]!=X[1];++se);se>=163&&TG(X[1],U+163)}else TG(X[1],X[0]);break;case 30:j[U++]=X;for(var oe=0;oe<U+163&&GW[oe]!=X;++oe);oe>=163&&TG(X,U+163);break;case 229:P=P.concat(X);break;case 93:O[X.cmo[0]]=C.lastobj=X;break;case 438:C.lastobj.TxO=X;break;case 127:C.lastobj.ImData=X;break;case 440:for(s=X[0].s.r;s<=X[0].e.r;++s)for(a=X[0].s.c;a<=X[0].e.c;++a)(r=t.dense?(d[s]||[])[a]:d[hq({c:a,r:s})])&&(r.l=X[1]);break;case 2048:for(s=X[0].s.r;s<=X[0].e.r;++s)for(a=X[0].s.c;a<=X[0].e.c;++a)(r=t.dense?(d[s]||[])[a]:d[hq({c:a,r:s})])&&r.l&&(r.l.Tooltip=X[1]);break;case 28:if(C.biff<=5&&C.biff>=2)break;r=t.dense?(d[X[0].r]||[])[X[0].c]:d[hq(X[0])];var le=O[X[2]];r||(t.dense?(d[X[0].r]||(d[X[0].r]=[]),r=d[X[0].r][X[0].c]={t:"z"}):r=d[hq(X[0])]={t:"z"},p.e.r=Math.max(p.e.r,X[0].r),p.s.r=Math.min(p.s.r,X[0].r),p.e.c=Math.max(p.e.c,X[0].c),p.s.c=Math.min(p.s.c,X[0].c)),r.c||(r.c=[]),i={a:X[1],t:le.TxO.t},r.c.push(i);break;case 2173:_[X.ixfe],X.ext.forEach((function(e){e[0]}));break;case 125:if(!C.cellStyles)break;for(;X.e>=X.s;)k[X.e--]={width:X.w/256,level:X.level||0,hidden:!!(1&X.flags)},I||(I=!0,PJ(X.w/256)),OJ(k[X.e+1]);break;case 520:var ce={};null!=X.level&&(R[X.r]=ce,ce.level=X.level),X.hidden&&(R[X.r]=ce,ce.hidden=!0),X.hpt&&(R[X.r]=ce,ce.hpt=X.hpt,ce.hpx=IJ(X.hpt));break;case 38:case 39:case 40:case 41:d["!margins"]||vQ(d["!margins"]={}),d["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[H]]=X;break;case 161:d["!margins"]||vQ(d["!margins"]={}),d["!margins"].header=X.header,d["!margins"].footer=X.footer;break;case 574:X.RTL&&(T.Views[0].RTL=!0);break;case 146:S=X;break;case 2198:c=X;break;case 140:l=X;break;case 442:v?E.CodeName=X||E.name:T.WBProps.CodeName=X||"ThisWorkbook"}}else e.l+=W}return u.SheetNames=IG(f).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return f[e].name})),t.bookSheets||(u.Sheets=h),!u.SheetNames.length&&y["!ref"]?(u.SheetNames.push("Sheet1"),u.Sheets&&(u.Sheets.Sheet1=y)):u.Preamble=y,u.Sheets&&B.forEach((function(e,t){u.Sheets[u.SheetNames[t]]["!autofilter"]=e})),u.Strings=g,u.SSF=YG(GW),C.enc&&(u.Encryption=C.enc),c&&(u.Themes=c),u.Metadata={},void 0!==l&&(u.Metadata.Country=l),N.names.length>0&&(T.Names=N.names),u.Workbook=T,u}var J0="e0859ff2f94f6810ab9108002b27b3d9",Z0="02d5cdd59c2e1b10939708002b2cf9ae",Q0="05d5cdd59c2e1b10939708002b2cf9ae";function e1(e,t){var n,r,i,a;if(t||(t={}),t2(t),mW(),t.codepage&&fW(t.codepage),e.FullPaths){if(OG.find(e,"/encryption"))throw new Error("File is password-protected");n=OG.find(e,"!CompObj"),r=OG.find(e,"/Workbook")||OG.find(e,"/Book")}else{switch(t.type){case"base64":e=PW(TW(e));break;case"binary":e=PW(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}KX(e,0),r={content:e}}if(n&&G0(n),t.bookProps&&!t.bookSheets)i={};else{var s=EW?"buffer":"array";if(r&&r.content)i=K0(r.content,t);else if((a=OG.find(e,"PerfectOffice_MAIN"))&&a.content)i=qK.to_workbook(a.content,(t.type=s,t));else{if(!(a=OG.find(e,"NativeContent_MAIN"))||!a.content)throw(a=OG.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=qK.to_workbook(a.content,(t.type=s,t))}t.bookVBA&&e.FullPaths&&OG.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=function(e){var t=OG.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");OG.utils.cfb_add(t,i,e.FileIndex[r].content)}})),OG.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,n){var r=OG.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=zY(r,Yq,Z0);for(var a in i)t[a]=i[a]}catch(c){if(n.WTF)throw c}var s=OG.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=zY(s,Kq,J0);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(xY(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}function t1(e,t){var n=t||{},r=OG.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return OG.utils.cfb_add(r,i,f1(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],i=[],a=[],s=0,o=NG(Yq,"n"),l=NG(Kq,"n");if(e.Props)for(n=IG(e.Props),s=0;s<n.length;++s)(Object.prototype.hasOwnProperty.call(o,n[s])?r:Object.prototype.hasOwnProperty.call(l,n[s])?i:a).push([n[s],e.Props[n[s]]]);if(e.Custprops)for(n=IG(e.Custprops),s=0;s<n.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},n[s])||(Object.prototype.hasOwnProperty.call(o,n[s])?r:Object.prototype.hasOwnProperty.call(l,n[s])?i:a).push([n[s],e.Custprops[n[s]]]);var c=[];for(s=0;s<a.length;++s)UY.indexOf(a[s][0])>-1||bY.indexOf(a[s][0])>-1||null!=a[s][1]&&c.push(a[s]);i.length&&OG.utils.cfb_add(t,"/SummaryInformation",VY(i,J0,l,Kq)),(r.length||c.length)&&OG.utils.cfb_add(t,"/DocumentSummaryInformation",VY(r,Z0,o,Yq,c.length?c:null,Q0))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&OG.utils.cfb_add(e,i,t.FileIndex[r].content)}}))}(r,OG.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var n1={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,7&a&&(n.level=7&a),16&a&&(n.hidden=!0),32&a&&(n.hpt=i/20),n}},1:{f:function(e){return[Aq(e)]}},2:{f:function(e){return[Aq(e),Uq(e),"n"]}},3:{f:function(e){return[Aq(e),e.read_shift(1),"e"]}},4:{f:function(e){return[Aq(e),e.read_shift(1),"b"]}},5:{f:function(e){return[Aq(e),Hq(e),"n"]}},6:{f:function(e){return[Aq(e),wq(e),"str"]}},7:{f:function(e){return[Aq(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,i=Aq(e);i.r=n["!row"];var a=[i,wq(e),"str"];if(n.cellFormula){e.l+=2;var s=iQ(e,r-e.l,n);a[3]=JZ(s,0,i,n.supbooks,n)}else e.l=r;return a}},9:{f:function(e,t,n){var r=e.l+t,i=Aq(e);i.r=n["!row"];var a=[i,Hq(e),"n"];if(n.cellFormula){e.l+=2;var s=iQ(e,r-e.l,n);a[3]=JZ(s,0,i,n.supbooks,n)}else e.l=r;return a}},10:{f:function(e,t,n){var r=e.l+t,i=Aq(e);i.r=n["!row"];var a=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var s=iQ(e,r-e.l,n);a[3]=JZ(s,0,i,n.supbooks,n)}else e.l=r;return a}},11:{f:function(e,t,n){var r=e.l+t,i=Aq(e);i.r=n["!row"];var a=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var s=iQ(e,r-e.l,n);a[3]=JZ(s,0,i,n.supbooks,n)}else e.l=r;return a}},12:{f:function(e){return[Pq(e)]}},13:{f:function(e){return[Pq(e),Uq(e),"n"]}},14:{f:function(e){return[Pq(e),e.read_shift(1),"e"]}},15:{f:function(e){return[Pq(e),e.read_shift(1),"b"]}},16:{f:VQ},17:{f:function(e){return[Pq(e),wq(e),"str"]}},18:{f:function(e){return[Pq(e),e.read_shift(4),"s"]}},19:{f:Tq},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=Dq(e),s=aQ(e,0,n),o=Iq(e);e.l=r;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var a=e.read_shift(1);0!=a&&(r.underline=a);var s=e.read_shift(1);s>0&&(r.family=s);var o=e.read_shift(1);switch(o>0&&(r.charset=o),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,"i"),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=eY[r];l&&(t.rgb=_J(l));break;case 2:t.rgb=_J([a,s,o]);break;case 3:t.theme=r}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=wq(e),r}},44:{f:function(e,t){return[e.read_shift(2),wq(e)]}},45:{f:HJ},46:{f:XJ},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UK},62:{f:function(e){return[Aq(e),Tq(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=hq(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:JX,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=kq(e),n}},148:{f:BQ,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?wq(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Lq(e),n.name=wq(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:zq},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:HQ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:wq(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lq},357:{},358:{},359:{},360:{T:1},361:{},362:{f:IK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,i=Bq(e),a=e.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var o=rQ(e,r-e.l,n);s[1]=o}else e.l=r;return s}},427:{f:function(e,t,n){var r=e.l+t,i=[zq(e)];if(n.cellFormula){var a=sQ(e,r-e.l,n);i[1]=a,e.l=r}else e.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return GQ.forEach((function(n){t[n]=Hq(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=zq(e),i=Iq(e),a=wq(e),s=wq(e),o=wq(e);e.l=n;var l={rfx:r,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lq},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vZ},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=zq(e);return t.rfx=n.s,t.ref=hq(n.s),e.l+=16,t}},636:{T:-1},637:{f:Eq},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:wq(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},r1={6:{f:eQ},10:{f:HY},12:{f:$Y},13:{f:$Y},14:{f:WY},15:{f:WY},16:{f:Hq},17:{f:WY},18:{f:WY},19:{f:$Y},20:{f:PK},21:{f:PK},23:{f:IK},24:{f:RK},25:{f:WY},26:{},27:{},28:{f:function(e,t,n){return function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=tK(e,0,n);return n.biff<8&&e.read_shift(1),[{r:r,c:i},o,s,a]}}(e,0,n)}},29:{},34:{f:WY},35:{f:OK},38:{f:Hq},39:{f:Hq},40:{f:Hq},41:{f:Hq},42:{f:WY},43:{f:WY},47:{f:function(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?xJ(e,t-2,r):function(e,t,n,r){var i={key:$Y(e),verificationBytes:$Y(e)};n.password&&(i.verifier=vJ(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=bJ(n.password))}(e,n.biff,n,r),r}},49:{f:function(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return r.name=KY(e,0,n),r}},51:{f:$Y},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:WY},65:{f:function(){}},66:{f:$Y},77:{},80:{},81:{},82:{},85:{f:$Y},89:{},90:{},91:{},92:{f:function(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=tK(e,0,n);return e.read_shift(t+r-e.l),i}},93:{f:function(e,t,n){if(n&&n.biff<8)return function(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((DK[r]||JX)(e,t,n)),{cmo:[i,r,a],ft:s}}(e,t,n);var r=vK(e),i=function(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(bK[i](e,n-e.l))}catch(a){return e.l=n,r}}return e.l!=n&&(e.l=n),r}(e,t-22,r[1]);return{cmo:r,ft:i}}},94:{},95:{f:WY},96:{},97:{},99:{f:WY},125:{f:UK},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,n){var r=n&&8==n.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:$Y},131:{f:WY},132:{f:WY},133:{f:function(e,t,n){var r=e.read_shift(4),i=3&e.read_shift(1),a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule"}var s=KY(e,0,n);return 0===s.length&&(s="Sheet1"),{pos:r,hs:i,dt:a,name:s}}},134:{},140:{f:function(e){var t,n=[0,0];return t=e.read_shift(2),n[0]=Jq[t]||t,t=e.read_shift(2),n[1]=Jq[t]||t,n}},141:{f:$Y},144:{},146:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(lK(e));return n}},151:{},152:{},153:{},154:{},155:{},156:{f:$Y},157:{},158:{},160:{f:BK},161:{f:function(e,t){var n={};return t<32||(e.l+=16,n.header=Hq(e),n.footer=Hq(e),e.l+=2),n}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(dK(e));if(e.l!==n)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:r,c:i,C:s,rkrec:a}}},190:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:r,c:i,C:s,ixfe:a}}},193:{f:HY},197:{},198:{},199:{},200:{},201:{},202:{f:WY},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:$Y},220:{},221:{f:WY},222:{},224:{f:function(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,r.data=function(e,t,n,r){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return i.patternType=Zq[o>>26],r.cellStyles?(i.alc=7&a,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=15&s,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=127&o,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=127&l,i.icvBack=l>>7&127,i.fsxButton=l>>14&1,i):i}(e,0,r.fStyle,n),r}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:HY},227:{},229:{f:function(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(fK(e));return n}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<n;++s)a.push(JY(e));return a.Count=r,a.Unique=i,a}},253:{f:function(e){var t=cK(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:qY},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:WY},353:{f:HY},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(n.sbcch=a,1025==a||14849==a)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=QY(e,a),o=[];r>e.l;)o.push(eK(e));return[a,i,s,o]}},431:{f:WY},432:{},433:{},434:{},437:{},438:{f:function(e,t,n){var r=e.l,i="";try{e.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(a)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}(e);var s=e.read_shift(2);e.read_shift(2),$Y(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-r!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((i+=QY(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?s:2*s))break}if(i.length!==s&&i.length!==2*s)throw new Error("cchText: "+s+" != "+i.length);return e.l=r+t,{t:i}}catch(u){return e.l=r+t,{t:i}}}},439:{f:WY},440:{f:function(e,t){var n=fK(e);e.l+=16;var r=function(e,t){var n=e.l+t,r=e.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var a,s,o,l,c,u,h="";16&i&&(a=iK(e,e.l)),128&i&&(s=iK(e,e.l)),257&~i||(o=iK(e,e.l)),1==(257&i)&&(l=rK(e,e.l)),8&i&&(h=iK(e,e.l)),32&i&&(c=e.read_shift(16)),64&i&&(u=AY(e)),e.l=n;var d=s||o||l||"";d&&h&&(d+="#"+h),d||(d="#"+h),2&i&&"/"==d.charAt(0)&&"/"!=d.charAt(1)&&(d="file://"+d);var f={Target:d};return c&&(f.guid=c),u&&(f.time=u),a&&(f.Tooltip=a),f}(e,t-24);return[n,r]}},441:{},442:{f:eK},443:{},444:{f:$Y},445:{},446:{},448:{f:HY},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:HY},512:{f:MK},513:{f:jK},515:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5);var r=cK(e),i=Hq(e);return r.val=i,r}},516:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5),e.l;var r=cK(e);2==n.biff&&e.l++;var i=eK(e,e.l,n);return r.val=i,r}},517:{f:CK},519:{f:zK},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=n/20),t}},523:{},545:{f:NK},549:{f:SK},566:{},574:{f:function(e,t,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=dK(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function(e,t,n){return[e.read_shift(2),tK(e,0,n)]}},1084:{},1212:{f:function(e,t,n){var r=mK(e);e.l++;var i=e.read_shift(1);return[QZ(e,t-=8,n),i,r]}},2048:{f:function(e,t){e.read_shift(2);var n=fK(e),r=e.read_shift((t-10)/2,"dbcs-cont");return[n,r=r.replace(NW,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:xK},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:HY},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var n=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),i=[];r-- >0;)i.push(cZ(e,e.l));return{ixfe:n,ext:i}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:WY,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2);return[QY(e,r,n),QY(e,i,n)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,n){var r=e.l+t;if(124226!==e.read_shift(4))if(n.cellStyles){var i,a=e.slice(e.l);e.l=r;try{i=u$(a,{type:"array"})}catch(o){return}var s=s$(i,"theme/theme/theme1.xml",!0);if(s)return sZ(s,n)}else e.l=r},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:HY},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:$Y},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,n){var r={area:!1};if(5!=n.biff)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,16&i&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(lK(e));return n}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:MK},1:{},2:{f:function(e){var t=cK(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}},3:{f:function(e){var t=cK(e);++e.l;var n=Hq(e);return t.t="n",t.val=n,t}},4:{f:function(e,t,n){n.biffguess&&5==n.biff&&(n.biff=2);var r=cK(e);++e.l;var i=tK(e,0,n);return r.t="str",r.val=i,r}},5:{f:CK},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:xK},11:{},22:{f:$Y},30:{f:EK},31:{},32:{},33:{f:NK},36:{},37:{f:SK},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:$Y},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,n){var r=e.l+t,i=cK(e),a=e.read_shift(2),s=QY(e,a,n);return e.l=r,i.t="str",i.val=s,i}},223:{},234:{},354:{},421:{},518:{f:eQ},521:{f:xK},536:{f:RK},547:{f:OK},561:{},579:{},1030:{f:eQ},1033:{f:xK},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function i1(e,t,n,r){var i=t;if(!isNaN(i)){var a=r||(n||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&FX(n)&&e.push(n)}}function a1(e,t,n){return e||(e=ZX(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function s1(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?UG(XG(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?i1(e,2,(a=n,s=r,o=i,l=ZX(9),a1(l,a,s),l.write_shift(2,o),l)):i1(e,3,function(e,t,n){var r=ZX(15);return a1(r,e,t),r.write_shift(8,n,"f"),r}(n,r,i)));case"b":case"e":return void i1(e,5,function(e,t,n,r){var i=ZX(9);return a1(i,e,t),YY(n,r||"b",i),i}(n,r,t.v,t.t));case"s":case"str":return void i1(e,4,function(e,t,n){var r=ZX(8+2*n.length);return a1(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}var a,s,o,l;i1(e,1,a1(null,n,r))}function o1(e,t){for(var n=t||{},r=eq(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==n.sheet&&(i=a);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return i1(r,4==n.biff?1033:3==n.biff?521:9,wK(0,16,n)),function(e,t,n,r){var i,a=Array.isArray(t),s=pq(t["!ref"]||"A1"),o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=fq(s)}for(var c=s.s.r;c<=s.e.r;++c){o=oq(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=cq(u)),i=l[u]+o;var h=a?(t[c]||[])[u]:t[i];h&&s1(e,h,c,u)}}}(r,e.Sheets[e.SheetNames[i]],0,n),i1(r,10),r.end()}function l1(e,t,n){i1(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,i=ZX(r?15+n.length:16+2*n.length);return i.write_shift(2,20*(e.sz||12)),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function c1(e,t){if(t){var n=0;t.forEach((function(t,r){++n<=256&&t&&i1(e,125,function(e,t){var n=ZX(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(gQ(r,t),r))}))}}function u1(e,t,n,r,i){var a=16+yQ(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)i1(e,6,tQ(t,n,r,0,a));else switch(t.t){case"d":case"n":i1(e,515,function(e,t,n,r){var i=ZX(14);return uK(e,t,r,i),Wq(n,i),i}(n,r,"d"==t.t?UG(XG(t.v)):t.v,a));break;case"b":case"e":i1(e,517,function(e,t,n,r,i,a){var s=ZX(8);return uK(e,t,r,s),YY(n,a,s),s}(n,r,t.v,a,0,t.t));break;case"s":case"str":if(i.bookSST)i1(e,253,function(e,t,n,r){var i=ZX(10);return uK(e,t,r,i),i.write_shift(4,n),i}(n,r,mQ(i.Strings,t.v,i.revStrings),a));else i1(e,516,function(e,t,n,r,i){var a=!i||8==i.biff,s=ZX(+a+8+(1+a)*n.length);return uK(e,t,r,s),s.write_shift(2,n.length),a&&s.write_shift(1,1),s.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),s}(n,r,(t.v||"").slice(0,255),a,i));break;default:i1(e,513,uK(n,r,a))}else i1(e,513,uK(n,r,a))}function h1(e,t,n){var r,i,a=eq(),s=n.SheetNames[e],o=n.Sheets[s]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[e]||{},u=Array.isArray(o),h=8==t.biff,d="",f=[],p=pq(o["!ref"]||"A1"),m=h?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}i1(a,2057,wK(0,16,t)),i1(a,13,XY(1)),i1(a,12,XY(100)),i1(a,15,GY(!0)),i1(a,17,GY(!1)),i1(a,16,Wq(.001)),i1(a,95,GY(!0)),i1(a,42,GY(!1)),i1(a,43,GY(!1)),i1(a,130,XY(1)),i1(a,128,((i=ZX(8)).write_shift(4,0),i.write_shift(2,0),i.write_shift(2,0),i)),i1(a,131,GY(!1)),i1(a,132,GY(!1)),h&&c1(a,o["!cols"]),i1(a,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=ZX(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(p,t)),h&&(o["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){d=oq(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(f[v]=cq(v)),r=f[v]+d;var y=u?(o[g]||[])[v]:o[r];y&&(u1(a,y,g,v,t),h&&y.l&&o["!links"].push([r,y.l]))}}var b=c.CodeName||c.name||s;return h&&i1(a,574,function(e){var t=ZX(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((l.Views||[])[0])),h&&(o["!merges"]||[]).length&&i1(a,229,function(e){var t=ZX(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)pK(e[n],t);return t}(o["!merges"])),h&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];i1(e,440,LK(r)),r[1].Tooltip&&i1(e,2048,FK(r))}delete t["!links"]}(a,o),i1(a,442,nK(b)),h&&function(e,t){var n=ZX(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),i1(e,2151,n),(n=ZX(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),pK(pq(t["!ref"]||"A1"),n),n.write_shift(4,4),i1(e,2152,n)}(a,o),i1(a,10),a.end()}function d1(e,t,n){var r,i=eq(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=8==n.biff,c=5==n.biff;(i1(i,2057,wK(0,5,n)),"xla"==n.bookType&&i1(i,135),i1(i,225,l?XY(1200):null),i1(i,193,function(e,t){t||(t=ZX(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),c&&i1(i,191),c&&i1(i,192),i1(i,226),i1(i,92,function(e,t){var n=!t||8==t.biff,r=ZX(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),i1(i,66,XY(l?1200:1252)),l&&i1(i,353,XY(0)),l&&i1(i,448),i1(i,317,function(e){for(var t=ZX(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),l&&e.vbaraw&&i1(i,211),l&&e.vbaraw)&&i1(i,442,nK(o.CodeName||"ThisWorkbook"));i1(i,156,XY(17)),i1(i,25,GY(!1)),i1(i,18,GY(!1)),i1(i,19,XY(0)),l&&i1(i,431,GY(!1)),l&&i1(i,444,XY(0)),i1(i,61,((r=ZX(18)).write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r)),i1(i,64,GY(!1)),i1(i,141,XY(0)),i1(i,34,GY("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&O$(e.Workbook.WBProps.date1904)?"true":"false"}(e))),i1(i,14,GY(!0)),l&&i1(i,439,GY(!1)),i1(i,218,XY(0)),l1(i,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&i1(e,1054,TK(i,t[i],n))}))}(i,e.SSF,n),function(e,t){for(var n=0;n<16;++n)i1(e,224,AK({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(n){i1(e,224,AK(n,0,t))}))}(i,n),l&&i1(i,352,GY(!1));var u=i.end(),h=eq();l&&i1(h,140,function(e){return e||(e=ZX(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&n.Strings&&function(e,t,n){var r=(n||[]).length||0;if(r<=8224)return i1(e,t,n,r);var i=t;if(!isNaN(i)){for(var a=n.parts||[],s=0,o=0,l=0;l+(a[s]||8224)<=8224;)l+=a[s]||8224,s++;var c=e.next(4);for(c.write_shift(2,i),c.write_shift(2,l),e.push(n.slice(o,o+l)),o+=l;o<r;){for((c=e.next(4)).write_shift(2,60),l=0;l+(a[s]||8224)<=8224;)l+=a[s]||8224,s++;c.write_shift(2,l),e.push(n.slice(o,o+l)),o+=l}}}(h,252,function(e){var t=ZX(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=ZY(e[r]);var i=IW([t].concat(n));return i.parts=[t.length].concat(n.map((function(e){return e.length}))),i}(n.Strings)),i1(h,10);var d=h.end(),f=eq(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var g=u.length+p+d.length;for(m=0;m<e.SheetNames.length;++m){i1(f,133,_K({pos:g,hs:(s[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},n)),g+=t[m].length}var v=f.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),d.length&&y.push(d),IW(y)}function f1(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])dq(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=YG(GW)),e&&e.SSF&&(MG(),EG(e.SSF),n.revssf=LG(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,n2(n),n.cellXfs=[],yQ(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=h1(i,n,e);return r.unshift(d1(e,r,n)),IW(r)}(e,t);case 4:case 3:case 2:return o1(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function p1(e,t){var n=t||{},r=n.dense?[]:{},i=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,l=e$(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,d=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var m=l[s].trim(),g=m.slice(0,3).toLowerCase();if("<tr"!=g){if("<td"==g||"<th"==g){var v=m.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var y=v[o].trim();if(y.match(/<t[dh]/i)){for(var b=y,x=0;"<"==b.charAt(0)&&(x=b.indexOf(">"))>-1;)b=b.slice(x+1);for(var w=0;w<p.length;++w){var _=p[w];_.s.c==u&&_.s.r<c&&c<=_.e.r&&(u=_.e.c+1,w=-1)}var S=y$(y.slice(0,y.indexOf(">")));d=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+d-1}});var T=S.t||S["data-t"]||"";if(b.length)if(b=U$(b),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),b.length){var E={t:"s",v:b};n.raw||!b.trim().length||"s"==T||("TRUE"===b?E={t:"b",v:!0}:"FALSE"===b?E={t:"b",v:!1}:isNaN(JG(b))?isNaN(QG(b).getDate())||(E={t:"d",v:XG(b)},n.cellDates||(E={t:"n",v:UG(E.v)}),E.z=n.dateNF||GW[14]):E={t:"n",v:JG(b)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=E):r[hq({r:c,c:u})]=E,u+=d}else u+=d;else u+=d}}}}else{if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0}}return r["!ref"]=fq(f),p.length&&(r["!merges"]=p),r}function m1(e,t,n,r){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>s||i[c].e.r<n||i[c].e.c<s)){if(i[c].s.r<n||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=hq({r:n,c:s}),h=r.dense?(e[n]||[])[s]:e[u],d=h&&null!=h.v&&(h.h||C$(h.w||(gq(h),h.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",null!=h.v&&(f["data-v"]=h.v),null!=h.z&&(f["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(r.id||"sjs")+"-"+u,a.push($$("td",d,f))}}return"<tr>"+a.join("")+"</tr>"}function g1(e,t){var n=t||{},r=null!=n.header?n.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',i=null!=n.footer?n.footer:"</body></html>",a=[r],s=dq(e["!ref"]);n.dense=Array.isArray(e),a.push(function(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}(0,0,n));for(var o=s.s.r;o<=s.e.r;++o)a.push(m1(e,s,o,n));return a.push("</table>"+i),a.join("")}function v1(e,t,n){var r=n||{},i=0,a=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var s="string"==typeof r.origin?uq(r.origin):r.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var u=dq(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==i&&(c.e.r=i=u.e.r+1)}var h=[],d=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&m<l;++p){var x=o[p];if(b1(x)){if(r.display)continue;f[m]={hidden:!0}}var w=x.children;for(g=v=0;g<w.length;++g){var _=w[g];if(!r.display||!b1(_)){var S=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):U$(_.innerHTML),T=_.getAttribute("data-z")||_.getAttribute("z");for(d=0;d<h.length;++d){var E=h[d];E.s.c==v+a&&E.s.r<m+i&&m+i<=E.e.r&&(v=E.e.c+1-a,d=-1)}b=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:m+i,c:v+a},e:{r:m+i+(y||1)-1,c:v+a+(b||1)-1}});var M={t:"s",v:S},A=_.getAttribute("data-t")||_.getAttribute("t")||"";null!=S&&(0==S.length?M.t=A||"z":r.raw||0==S.trim().length||"s"==A||("TRUE"===S?M={t:"b",v:!0}:"FALSE"===S?M={t:"b",v:!1}:isNaN(JG(S))?isNaN(QG(S).getDate())||(M={t:"d",v:XG(S)},r.cellDates||(M={t:"n",v:UG(M.v)}),M.z=r.dateNF||GW[14]):M={t:"n",v:JG(S)})),void 0===M.z&&null!=T&&(M.z=T);var C="",P=_.getElementsByTagName("A");if(P&&P.length)for(var O=0;O<P.length&&(!P[O].hasAttribute("href")||"#"==(C=P[O].getAttribute("href")).charAt(0));++O);C&&"#"!=C.charAt(0)&&(M.l={Target:C}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+a]=M):e[hq({c:v+a,r:m+i})]=M,c.e.c<v+a&&(c.e.c=v+a),v+=b}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=fq(c),m>=l&&(e["!fullref"]=fq((c.e.r=o.length-p+m-1+i,c))),e}function y1(e,t){return v1((t||{}).dense?[]:{},e,t)}function b1(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var x1={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function w1(e,t){var n,r,i,a,s,o,l,c,u=t||{},h=q$(e),d=[],f={name:""},p="",m=0,g={},v=[],y=u.dense?[]:{},b={value:""},x="",w=0,_=[],S=-1,T=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,A={},C=[],P={},O=[],k=1,R=1,I=[],N={Names:[]},D={},L=["",""],F=[],U={},j="",B=0,z=!1,V=!1,H=0;for(Y$.lastIndex=0,h=h.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");s=Y$.exec(h);)switch(s[3]=s[3].replace(/_.*$/,"")){case"table":case"":"/"===s[1]?(E.e.c>=E.s.c&&E.e.r>=E.s.r?y["!ref"]=fq(E):y["!ref"]="A1:A1",u.sheetRows>0&&u.sheetRows<=E.e.r&&(y["!fullref"]=y["!ref"],E.e.r=u.sheetRows-1,y["!ref"]=fq(E)),C.length&&(y["!merges"]=C),O.length&&(y["!rows"]=O),i.name=i[""]||i.name,"undefined"!=typeof JSON&&JSON.stringify(i),v.push(i.name),g[i.name]=y,V=!1):"/"!==s[0].charAt(s[0].length-2)&&(i=y$(s[0],!1),S=T=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,y=u.dense?[]:{},C=[],O=[],V=!0);break;case"table-row-group":"/"===s[1]?--M:++M;break;case"table-row":case"":if("/"===s[1]){S+=k,k=1;break}if((a=y$(s[0],!1))[""]?S=a[""]-1:-1==S&&(S=0),(k=+a["number-rows-repeated"]||1)<10)for(H=0;H<k;++H)M>0&&(O[S+H]={level:M});T=-1;break;case"covered-table-cell":"/"!==s[1]&&++T,u.sheetStubs&&(u.dense?(y[S]||(y[S]=[]),y[S][T]={t:"z"}):y[hq({r:S,c:T})]={t:"z"}),x="",_=[];break;case"table-cell":case"":if("/"===s[0].charAt(s[0].length-2))++T,b=y$(s[0],!1),R=parseInt(b["number-columns-repeated"]||"1",10),o={t:"z",v:null},b.formula&&0!=u.cellFormula&&(o.f=uQ(_$(b.formula))),"string"==(b[""]||b["value-type"])&&(o.t="s",o.v=_$(b["string-value"]||""),u.dense?(y[S]||(y[S]=[]),y[S][T]=o):y[hq({r:S,c:T})]=o),T+=R-1;else if("/"!==s[1]){x="",w=0,_=[],R=1;var W=k?S+k-1:S;if(++T>E.e.c&&(E.e.c=T),T<E.s.c&&(E.s.c=T),S<E.s.r&&(E.s.r=S),W>E.e.r&&(E.e.r=W),F=[],U={},o={t:(b=y$(s[0],!1))[""]||b["value-type"],v:null},u.cellFormula)if(b.formula&&(b.formula=_$(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(P={s:{r:S,c:T},e:{r:S+(parseInt(b["number-matrix-rows-spanned"],10)||0)-1,c:T+(parseInt(b["number-matrix-columns-spanned"],10)||0)-1}},o.F=fq(P),I.push([P,o.F])),b.formula)o.f=uQ(b.formula);else for(H=0;H<I.length;++H)S>=I[H][0].s.r&&S<=I[H][0].e.r&&T>=I[H][0].s.c&&T<=I[H][0].e.c&&(o.F=I[H][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(P={s:{r:S,c:T},e:{r:S+(parseInt(b["number-rows-spanned"],10)||0)-1,c:T+(parseInt(b["number-columns-spanned"],10)||0)-1}},C.push(P)),b["number-columns-repeated"]&&(R=parseInt(b["number-columns-repeated"],10)),o.t){case"boolean":o.t="b",o.v=O$(b["boolean-value"]);break;case"float":case"percentage":case"currency":o.t="n",o.v=parseFloat(b.value);break;case"date":o.t="d",o.v=XG(b["date-value"]),u.cellDates||(o.t="n",o.v=UG(o.v)),o.z="m/d/yy";break;case"time":o.t="n",o.v=HG(b["time-value"])/86400,u.cellDates&&(o.t="d",o.v=VG(o.v)),o.z="HH:MM:SS";break;case"number":o.t="n",o.v=parseFloat(b[""]);break;default:if("string"!==o.t&&"text"!==o.t&&o.t)throw new Error("Unsupported value type "+o.t);o.t="s",null!=b["string-value"]&&(x=_$(b["string-value"]),_=[])}}else{if(z=!1,"s"===o.t&&(o.v=x||"",_.length&&(o.R=_),z=0==w),D.Target&&(o.l=D),F.length>0&&(o.c=F,F=[]),x&&!1!==u.cellText&&(o.w=x),z&&(o.t="z",delete o.v),(!z||u.sheetStubs)&&!(u.sheetRows&&u.sheetRows<=S))for(var G=0;G<k;++G){if(R=parseInt(b["number-columns-repeated"]||"1",10),u.dense)for(y[S+G]||(y[S+G]=[]),y[S+G][T]=0==G?o:YG(o);--R>0;)y[S+G][T+R]=YG(o);else for(y[hq({r:S+G,c:T})]=o;--R>0;)y[hq({r:S+G,c:T+R})]=YG(o);E.e.c<=T&&(E.e.c=T)}T+=(R=parseInt(b["number-columns-repeated"]||"1",10))-1,R=0,o={},x="",_=[]}D={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===s[1]){if((n=d.pop())[0]!==s[3])throw"Bad state: "+n}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!0]);break;case"annotation":if("/"===s[1]){if((n=d.pop())[0]!==s[3])throw"Bad state: "+n;U.t=x,_.length&&(U.R=_),U.a=j,F.push(U)}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!1]);j="",B=0,x="",w=0,_=[];break;case"creator":"/"===s[1]?j=h.slice(B,s.index):B=s.index+s[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===s[1]){if((n=d.pop())[0]!==s[3])throw"Bad state: "+n}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!1]);x="",w=0,_=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===s[1]){if(A[f.name]=p,(n=d.pop())[0]!==s[3])throw"Bad state: "+n}else"/"!==s[0].charAt(s[0].length-2)&&(p="",f=y$(s[0],!1),d.push([s[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(d[d.length-1][0]){case"time-style":case"date-style":r=y$(s[0],!1),p+=x1[s[3]]["long"===r.style?1:0]}break;case"text":if("/>"===s[0].slice(-2))break;if("/"===s[1])switch(d[d.length-1][0]){case"number-style":case"date-style":case"time-style":p+=h.slice(m,s.index)}else m=s.index+s[0].length;break;case"named-range":L=hQ((r=y$(s[0],!1))["cell-range-address"]);var $={Name:r.name,Ref:L[0]+"!"+L[1]};V&&($.Sheet=v.length),N.Names.push($);break;case"p":case"":if(["master-styles"].indexOf(d[d.length-1][0])>-1)break;if("/"!==s[1]||b&&b["string-value"])y$(s[0],!1),w=s.index+s[0].length;else{var X=(l=h.slice(w,s.index),c=void 0,c=l.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n"),[_$(c.replace(/<[^>]*>/g,""))]);x=(x.length>0?x+"\n":"")+X[0]}break;case"database-range":if("/"===s[1])break;try{g[(L=hQ(y$(s[0])["target-range-address"]))[0]]["!autofilter"]={ref:L[1]}}catch(Y){}break;case"a":if("/"!==s[1]){if(!(D=y$(s[0],!1)).href)break;D.Target=_$(D.href),delete D.href,"#"==D.Target.charAt(0)&&D.Target.indexOf(".")>-1?(L=hQ(D.Target.slice(1)),D.Target="#"+L[0]+"!"+L[1]):D.Target.match(/^\.\.[\\\/]/)&&(D.Target=D.Target.slice(3))}break;default:switch(s[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(u.WTF)throw new Error(s)}}var q={Sheets:g,SheetNames:v,Workbook:N};return u.bookSheets&&delete q.Sheets,q}function _1(e,t){t=t||{},r$(e,"META-INF/manifest.xml")&&function(e,t){for(var n,r,i=q$(e);n=Y$.exec(i);)switch(n[3]){case"manifest":break;case"file-entry":if("/"==(r=y$(n[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==r.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}(a$(e,"META-INF/manifest.xml"),t);var n=s$(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=w1(D$(n),t);return r$(e,"meta.xml")&&(r.Props=mY(a$(e,"meta.xml"))),r}function S1(e,t){return w1(e,t)}var T1=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+G$({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return d$+t}}(),E1=function(){var e="          <table:table-cell />\n",t=function(t,n,r){var i=[];i.push('      <table:table table:name="'+E$(n.SheetNames[r])+'" table:style-name="ta1">\n');var a=0,s=0,o=dq(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,u=Array.isArray(t);if(t["!cols"])for(s=0;s<=o.e.c;++s)i.push("        <table:table-column"+(t["!cols"][s]?' table:style-name="co'+t["!cols"][s].ods+'"':"")+"></table:table-column>\n");var h="",d=t["!rows"]||[];for(a=0;a<o.s.r;++a)h=d[a]?' table:style-name="ro'+d[a].ods+'"':"",i.push("        <table:table-row"+h+"></table:table-row>\n");for(;a<=o.e.r;++a){for(h=d[a]?' table:style-name="ro'+d[a].ods+'"':"",i.push("        <table:table-row"+h+">\n"),s=0;s<o.s.c;++s)i.push(e);for(;s<=o.e.c;++s){var f=!1,p={},m="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>s||l[c].s.r>a||l[c].e.c<s||l[c].e.r<a)){l[c].s.c==s&&l[c].s.r==a||(f=!0),p["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,p["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(f)i.push("          <table:covered-table-cell/>\n");else{var g=hq({r:a,c:s}),v=u?(t[a]||[])[s]:t[g];if(v&&v.f&&(p["table:formula"]=E$(("of:="+v.f.replace(wZ,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),v.F&&v.F.slice(0,g.length)==g)){var y=dq(v.F);p["table:number-matrix-columns-spanned"]=y.e.c-y.s.c+1,p["table:number-matrix-rows-spanned"]=y.e.r-y.s.r+1}if(v){switch(v.t){case"b":m=v.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=v.v?"true":"false";break;case"n":m=v.w||String(v.v||0),p["office:value-type"]="float",p["office:value"]=v.v||0;break;case"s":case"str":m=null==v.v?"":v.v,p["office:value-type"]="string";break;case"d":m=v.w||XG(v.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=XG(v.v).toISOString(),p["table:style-name"]="ce1";break;default:i.push(e);continue}var b=E$(m).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(v.l&&v.l.Target){var x=v.l.Target;"#"==(x="#"==x.charAt(0)?"#"+x.slice(1).replace(/\./,"!"):x).charAt(0)||x.match(/^\w+:/)||(x="../"+x),b=$$("text:a",b,{"xlink:href":x.replace(/&/g,"&amp;")})}i.push("          "+$$("table:table-cell",$$("text:p",b,{}),p)+"\n")}else i.push(e)}}i.push("        </table:table-row>\n")}return i.push("      </table:table>\n"),i.join("")};return function(e,n){var r=[d$],i=G$({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),a=G$({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==n.bookType?(r.push("<office:document"+i+a+">\n"),r.push(dY().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var i=t["!cols"][r];if(null==i.width&&null==i.wpx&&null==i.wch)continue;OJ(i),i.ods=n;var a=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+a+'"/>\n'),e.push("  </style:style>\n"),++n}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var i=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)r.push(t(e.Sheets[e.SheetNames[s]],e,s));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==n.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function M1(e,t){if("fods"==t.bookType)return E1(e,t);var n=c$(),r="",i=[],a=[];return l$(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),l$(n,r="content.xml",E1(e,t)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),l$(n,r="styles.xml",T1(e,t)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),l$(n,r="meta.xml",d$+dY()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),l$(n,r="manifest.rdf",function(e){var t,n,r=[d$];r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var i=0;i!=e.length;++i)r.push(hY(e[i][0],e[i][1])),r.push((t="",n=e[i][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")));return r.push(hY("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}(a)),i.push([r,"application/rdf+xml"]),l$(n,r="META-INF/manifest.xml",function(e){var t=[d$];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),n}
/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function A1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function C1(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):D$(kW(e))}function P1(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):PW(L$(e))}function O1(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function k1(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function R1(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function I1(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function N1(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function D1(e){for(var t=[],n=[0];n[0]<e.length;){var r,i=n[0],a=R1(e,n),s=7&a,o=0;if(0==(a=Math.floor(a/8)))break;switch(s){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:o=4,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=R1(e,n),r=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(i))}var c={data:r,type:s};null==t[a]?t[a]=[c]:t[a].push(c)}return t}function L1(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){e.data&&(t.push(I1(8*n+e.type)),2==e.type&&t.push(I1(e.data.length)),t.push(e.data))}))})),O1(t)}function F1(e,t){return(null==e?void 0:e.map((function(e){return t(e.data)})))||[]}function U1(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=R1(e,r),a=D1(e.slice(r[0],r[0]+i));r[0]+=i;var s={id:N1(a[1][0].data),messages:[]};a[2].forEach((function(t){var n=D1(t.data),i=N1(n[3][0].data);s.messages.push({meta:n,data:e.slice(r[0],r[0]+i)}),r[0]+=i})),(null==(t=a[3])?void 0:t[0])&&(s.merge=N1(a[3][0].data)>>>0>0),n.push(s)}return n}function j1(e){var t=[];return e.forEach((function(e){var n=[];n[1]=[{data:I1(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:I1(+!!e.merge),type:0}]);var r=[];e.messages.forEach((function(e){r.push(e.data),e.meta[3]=[{type:0,data:I1(e.data.length)}],n[2].push({data:L1(e.meta),type:2})}));var i=L1(n);t.push(I1(i.length)),t.push(i),r.forEach((function(e){return t.push(e)}))})),O1(t)}function B1(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=R1(t,n),i=[];n[0]<t.length;){var a=3&t[n[0]];if(0!=a){var s=0,o=0;if(1==a?(o=4+(t[n[0]]>>2&7),s=(224&t[n[0]++])<<3,s|=t[n[0]++]):(o=1+(t[n[0]++]>>2),2==a?(s=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(s=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[O1(i)],0==s)throw new Error("Invalid offset 0");if(s>i[0].length)throw new Error("Invalid offset beyond length");if(o>=s)for(i.push(i[0].slice(-s)),o-=s;o>=i[i.length-1].length;)i.push(i[i.length-1]),o-=i[i.length-1].length;i.push(i[0].slice(-s,-s+o))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=O1(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function z1(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(B1(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return O1(t)}function V1(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var a=I1(r),s=a.length;t.push(a),r<=60?(s++,t.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),s+=r,i[0]=0,i[1]=255&s,i[2]=s>>8&255,i[3]=s>>16&255,n+=r}return O1(t)}function H1(e,t,n){var r,i=A1(e),a=i.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,h=new Date(2001,0,1);switch(1&a&&(c=function(e,t){for(var n=(127&e[t+15])<<7|e[t+14]>>1,r=1&e[t+14],i=t+13;i>=t;--i)r=256*r+e[i];return(128&e[t+15]?-r:r)*Math.pow(10,n-6176)}(e,s),s+=16),2&a&&(u=i.getFloat64(s,!0),s+=8),4&a&&(h.setTime(h.getTime()+1e3*i.getFloat64(s,!0)),s+=8),8&a&&(l=i.getUint32(s,!0),s+=4),16&a&&(o=i.getUint32(s,!0),s+=4),e[1]){case 0:break;case 2:case 10:r={t:"n",v:c};break;case 3:r={t:"s",v:t[l]};break;case 5:r={t:"d",v:h};break;case 6:r={t:"b",v:u>0};break;case 7:r={t:"n",v:u/86400};break;case 8:r={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&a," : ").concat(e.slice(0,4)));r={t:"s",v:n[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&a," : ").concat(e.slice(0,4)))}return r}function W1(e,t){var n=new Uint8Array(32),r=A1(n),i=12,a=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=255&i;e[t+15]|=n>=0?0:128}(n,i,e.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,a,!0),n.slice(0,i)}function G1(e,t){var n=new Uint8Array(32),r=A1(n),i=12,a=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,a,!0),n.slice(0,i)}function $1(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,n,r){var i,a=A1(e),s=a.getUint32(4,!0),o=(r>1?12:8)+4*k1(s&(r>1?3470:398)),l=-1,c=-1,u=NaN,h=new Date(2001,0,1);switch(512&s&&(l=a.getUint32(o,!0),o+=4),o+=4*k1(s&(r>1?12288:4096)),16&s&&(c=a.getUint32(o,!0),o+=4),32&s&&(u=a.getFloat64(o,!0),o+=8),64&s&&(h.setTime(h.getTime()+1e3*a.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:i={t:"n",v:u};break;case 3:i={t:"s",v:t[c]};break;case 5:i={t:"d",v:h};break;case 6:i={t:"b",v:u>0};break;case 7:i={t:"n",v:u/86400};break;case 8:i={t:"e",v:0};break;case 9:if(l>-1)i={t:"s",v:n[l]};else if(c>-1)i={t:"s",v:t[c]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));i={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return i}(e,t,n,e[0]);case 5:return H1(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function X1(e){return R1(D1(e)[1][0].data)}function q1(e,t){var n=D1(t.data),r=N1(n[1][0].data),i=n[3],a=[];return(i||[]).forEach((function(t){var n=D1(t.data),i=N1(n[1][0].data)>>>0;switch(r){case 1:a[i]=C1(n[3][0].data);break;case 8:var s=D1(e[X1(n[9][0].data)][0].data),o=e[X1(s[1][0].data)][0],l=N1(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=D1(o.data);a[i]=c[3].map((function(e){return C1(e.data)})).join("")}})),a}function Y1(e,t){var n,r=D1(t.data),i=(null==(n=null==r?void 0:r[7])?void 0:n[0])?N1(r[7][0].data)>>>0>0?1:0:-1,a=F1(r[5],(function(e){return function(e,t){var n,r,i,a,s,o,l,c,u,h,d,f,p,m,g,v,y=D1(e),b=N1(y[1][0].data)>>>0,x=N1(y[2][0].data)>>>0,w=(null==(r=null==(n=y[8])?void 0:n[0])?void 0:r.data)&&N1(y[8][0].data)>0||!1;if((null==(a=null==(i=y[7])?void 0:i[0])?void 0:a.data)&&0!=t)g=null==(o=null==(s=y[7])?void 0:s[0])?void 0:o.data,v=null==(c=null==(l=y[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(h=null==(u=y[4])?void 0:u[0])?void 0:h.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");g=null==(f=null==(d=y[4])?void 0:d[0])?void 0:f.data,v=null==(m=null==(p=y[3])?void 0:p[0])?void 0:m.data}for(var _=w?4:1,S=A1(g),T=[],E=0;E<g.length/2;++E){var M=S.getUint16(2*E,!0);M<65535&&T.push([E,M])}if(T.length!=x)throw"Expected ".concat(x," cells, found ").concat(T.length);var A=[];for(E=0;E<T.length-1;++E)A[T[E][0]]=v.subarray(T[E][1]*_,T[E+1][1]*_);return T.length>=1&&(A[T[T.length-1][0]]=v.subarray(T[T.length-1][1]*_)),{R:b,cells:A}}(e,i)}));return{nrows:N1(r[4][0].data)>>>0,data:a.reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(n,r){if(e[t.R][r])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(r));e[t.R][r]=n})),e}),[])}}function K1(e,t){var n={"!ref":"A1"},r=e[X1(D1(t.data)[2][0].data)],i=N1(r[0].meta[1][0].data);if(6001!=i)throw new Error("6000 unexpected reference to ".concat(i));return function(e,t,n){var r,i=D1(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(N1(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(N1(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=fq(a);var s=D1(i[4][0].data),o=q1(e,e[X1(s[4][0].data)][0]),l=(null==(r=s[17])?void 0:r[0])?q1(e,e[X1(s[17][0].data)][0]):[],c=D1(s[3][0].data),u=0;c[1].forEach((function(t){var r=D1(t.data),i=e[X1(r[2][0].data)][0],a=N1(i.meta[1][0].data);if(6002!=a)throw new Error("6001 unexpected reference to ".concat(a));var s=Y1(0,i);s.data.forEach((function(e,t){e.forEach((function(e,r){var i=hq({r:u+t,c:r}),a=$1(e,o,l);a&&(n[i]=a)}))})),u+=s.nrows}))}(e,r[0],n),n}function J1(e,t){var n={SheetNames:[],Sheets:{}};if(F1(D1(t.data)[1],X1).forEach((function(t){e[t].forEach((function(t){if(2==N1(t.meta[1][0].data)){var r=function(e,t){var n,r=D1(t.data),i={name:(null==(n=r[1])?void 0:n[0])?C1(r[1][0].data):"",sheets:[]};return F1(r[2],X1).forEach((function(t){e[t].forEach((function(t){6e3==N1(t.meta[1][0].data)&&i.sheets.push(K1(e,t))}))})),i}(e,t);r.sheets.forEach((function(e,t){A2(n,e,0==t?r.name:r.name+"_"+t,!0)}))}}))})),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}function Z1(e){var t,n,r,i,a={},s=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,n;try{t=z1(e.content)}catch(r){return}try{n=U1(t)}catch(r){return}n.forEach((function(e){a[e.id]=e.messages,s.push(e.id)}))}})),!s.length)throw new Error("File has no messages");var o=(null==(i=null==(r=null==(n=null==(t=null==a?void 0:a[1])?void 0:t[0])?void 0:n.meta)?void 0:r[1])?void 0:i[0].data)&&1==N1(a[1][0].meta[1][0].data)&&a[1][0];if(o||s.forEach((function(e){a[e].forEach((function(e){if(1==N1(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}}))})),!o)throw new Error("Cannot find Document root");return J1(a,o)}function Q1(e,t,n){var r,i,a,s;if(!(null==(r=e[6])?void 0:r[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(s=null==(a=e[8])?void 0:a[0])?void 0:s.data)&&N1(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=A1(e[7][0].data),c=0,u=[],h=A1(e[4][0].data),d=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),h.setUint16(2*p,d,!0),typeof t[p]){case"string":m=W1({t:"s",v:t[p]},n),g=G1({t:"s",v:t[p]},n);break;case"number":m=W1({t:"n",v:t[p]},n),g=G1({t:"n",v:t[p]},n);break;case"boolean":m=W1({t:"b",v:t[p]},n),g=G1({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,f.push(g),d+=g.length,++o}else l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=I1(o);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=O1(u),e[3][0].data=O1(f),o}function e2(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function t2(e){e2([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function n2(e){e2([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function r2(e,t,n,r,i,a,s,o,l,c,u,h){try{a[r]=lY(s$(e,n,!0),t);var d,f=a$(e,t);switch(o){case"sheet":d=v0(f,t,i,l,a[r],c,u,h);break;case"chart":if(!(d=y0(f,t,i,l,a[r],c))||!d["!drawel"])break;var p=h$(d["!drawel"].Target,t),m=oY(p),g=function(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}(s$(e,p,!0),lY(s$(e,m,!0),p)),v=h$(g,p),y=oY(v);d=e0(s$(e,v,!0),0,0,lY(s$(e,y,!0),v),0,d);break;case"macro":x=t,a[r],x.slice(-4),d={"!type":"macro"};break;case"dialog":d=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,a[r]);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=d;var b=[];a&&a[r]&&IG(a[r]).forEach((function(n){var i="";if(a[r][n].Type==sY.CMNT){i=h$(a[r][n].Target,t);var s=w0(a$(e,i,!0),i,l);if(!s||!s.length)return;pZ(d,s,!1)}a[r][n].Type==sY.TCMNT&&(i=h$(a[r][n].Target,t),b=b.concat(function(e,t){var n=[],r=!1,i={},a=0;return e.replace(m$,(function(s,o){var l=y$(s);switch(b$(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":i={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=i.t&&n.push(i);break;case"<text>":case"<text":a=o+s.length;break;case"</text>":i.t=e.slice(a,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s})),n}(a$(e,i,!0),l)))})),b&&b.length&&pZ(d,b,!0,l.people||[])}catch(w){if(l.WTF)throw w}var x}function i2(e){return"/"==e.charAt(0)?e.slice(1):e}function a2(e,t){if(MG(),t2(t=t||{}),r$(e,"META-INF/manifest.xml"))return _1(e,t);if(r$(e,"objectdata.xml"))return _1(e,t);if(r$(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(void 0!==Z1){if(e.FileIndex)return Z1(e);var n=OG.utils.cfb_new();return o$(e).forEach((function(t){l$(n,t,function(e,t){return n$(i$(e,t))}(e,t))})),Z1(n)}throw new Error("Unsupported NUMBERS file")}if(!r$(e,"[Content_Types].xml")){if(r$(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(r$(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var r,i,a=o$(e),s=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var n={};if((e.match(m$)||[]).forEach((function(e){var r=y$(e);switch(r[0].replace(g$,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":void 0!==t[rY[r.ContentType]]&&t[rY[r.ContentType]].push(r.PartName)}})),t.xmlns!==Q$)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}(s$(e,"[Content_Types].xml")),o=!1;if(0===s.workbooks.length&&a$(e,i="xl/workbook.xml",!0)&&s.workbooks.push(i),0===s.workbooks.length){if(!a$(e,i="xl/workbook.bin",!0))throw new Error("Could not find workbook");s.workbooks.push(i),o=!0}"bin"==s.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(dQ=[],s.sst)try{dQ=x0(a$(e,i2(s.sst)),s.sst,t)}catch(O){if(t.WTF)throw O}t.cellStyles&&s.themes.length&&(l=function(e,t,n){return sZ(e,n)}(s$(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(c=b0(a$(e,i2(s.style)),s.style,l,t))}s.links.map((function(n){try{lY(s$(e,oY(i2(n))),n);return S0(a$(e,i2(n)),0,n,t)}catch(O){}}));var u=g0(a$(e,i2(s.workbooks[0])),s.workbooks[0],t),h={},d="";s.coreprops.length&&((d=a$(e,i2(s.coreprops[0]),!0))&&(h=mY(d)),0!==s.extprops.length&&(d=a$(e,i2(s.extprops[0]),!0))&&function(e,t,n){var r={};t||(t={}),e=D$(e),yY.forEach((function(n){var i=(e.match(F$(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=_$(i));break;case"bool":t[n[1]]="true"===i;break;case"raw":var a=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));a&&a.length>0&&(r[n[1]]=a[1])}})),r.HeadingPairs&&r.TitlesOfParts&&xY(r.HeadingPairs,r.TitlesOfParts,t,n)}(d,h,t));var f={};t.bookSheets&&!t.bookProps||0!==s.custprops.length&&(d=s$(e,i2(s.custprops[0]),!0))&&(f=function(e,t){var n={},r="",i=e.match(_Y);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=y$(s);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":r=_$(o.name);break;case"</property>":r=null;break;default:if(0===s.indexOf("<vt:")){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":n[r]=_$(u);break;case"bool":n[r]=O$(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=XG(u);break;default:if("/"==c.slice(-1))break;t.WTF}}else if("</"===s.slice(0,2));else if(t.WTF)throw new Error(s)}}return n}(d,t));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?r=u.Sheets.map((function(e){return e.name})):h.Worksheets&&h.SheetNames.length>0&&(r=h.SheetNames),t.bookProps&&(p.Props=h,p.Custprops=f),t.bookSheets&&void 0!==r&&(p.SheetNames=r),t.bookSheets?p.SheetNames:t.bookProps))return p;r={};var m={};t.bookDeps&&s.calcchain&&(m=_0(a$(e,i2(s.calcchain)),s.calcchain));var g,v,y=0,b={},x=u.Sheets;h.Worksheets=x.length,h.SheetNames=[];for(var w=0;w!=x.length;++w)h.SheetNames[w]=x[w].name;var _=o?"bin":"xml",S=s.workbooks[0].lastIndexOf("/"),T=(s.workbooks[0].slice(0,S+1)+"_rels/"+s.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");r$(e,T)||(T="xl/_rels/workbook."+_+".rels");var E=lY(s$(e,T,!0),T.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=T0(a$(e,i2(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=function(e,t){var n=[],r=!1;return e.replace(m$,(function(e){var i=y$(e);switch(b$(i[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":n.push({name:i.displayname,id:i.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return e})),n}(a$(e,i2(s.people[0])),t)),E&&(E=function(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(n=e["!id"][t.id].Type,sY.WS.indexOf(n)>-1?"sheet":n==sY.CS?"chart":n==sY.DS?"dialog":n==sY.MS?"macro":n&&n.length?n:"sheet")];var n}))}catch(O){return null}return e&&0!==e.length?e:null}(E,u.Sheets));var M=a$(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var A="sheet";if(E&&E[y]?(g="xl/"+E[y][1].replace(/[\/]?xl\//,""),r$(e,g)||(g=E[y][1]),r$(e,g)||(g=T.replace(/_rels\/.*$/,"")+E[y][1]),A=E[y][2]):g=(g="xl/worksheets/sheet"+(y+1-M)+"."+_).replace(/sheet0\./,"sheet."),v=g.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var C=!1,P=0;P!=t.sheets.length;++P)"number"==typeof t.sheets[P]&&t.sheets[P]==y&&(C=1),"string"==typeof t.sheets[P]&&t.sheets[P].toLowerCase()==h.SheetNames[y].toLowerCase()&&(C=1);if(!C)continue e}}r2(e,g,v,h.SheetNames[y],y,b,r,A,t,u,l,c)}return p={Directory:s,Workbook:u,Props:h,Custprops:f,Deps:m,Sheets:r,SheetNames:h.SheetNames,Strings:dQ,Styles:c,Themes:l,SSF:YG(GW)},t&&t.bookFiles&&(e.files?(p.keys=a,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach((function(t,n){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[n]})))),t&&t.bookVBA&&(s.vba.length>0?p.vbaraw=a$(e,i2(s.vba[0]),!0):s.defaults&&"application/vnd.ms-office.vbaProject"===s.defaults.bin&&(p.vbaraw=a$(e,"xl/vbaProject.bin",!0))),p}function s2(e,t){var n,r,i=t||{},a="Workbook",s=OG.find(e,a);try{if(a="/!DataSpaces/Version",!(s=OG.find(e,a))||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(n=s.content,(r={}).id=n.read_shift(0,"lpp4"),r.R=cJ(n,4),r.U=cJ(n,4),r.W=cJ(n,4),a="/!DataSpaces/DataSpaceMap",!(s=OG.find(e,a))||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(uJ(e));return t}(s.content);if(1!==o.length||1!==o[0].comps.length||0!==o[0].comps[0].t||"StrongEncryptionDataSpace"!==o[0].name||"EncryptedPackage"!==o[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(s=OG.find(e,a))||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(s.content);if(1!=l.length||"StrongEncryptionTransform"!=l[0])throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(s=OG.find(e,a))||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);hJ(s.content)}catch(u){}if(a="/EncryptionInfo",!(s=OG.find(e,a))||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var c=function(e){var t=cJ(e);switch(t.Minor){case 2:return[t.Minor,pJ(e)];case 3:return[t.Minor,mJ()];case 4:return[t.Minor,gJ(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(s.content);if(a="/EncryptedPackage",!(s=OG.find(e,a))||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(4==c[0]&&"undefined"!=typeof decrypt_agile)return decrypt_agile(c[1],s.content,i.password||"",i);if(2==c[0]&&"undefined"!=typeof decrypt_std76)return decrypt_std76(c[1],s.content,i.password||"",i);throw new Error("File is password-protected")}function o2(e,t){return"ods"==t.bookType?M1(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length;var r=dq(n["!ref"]);r.s.r=r.s.c=0,r.e.c>9&&(r.e.c=9),r.e.r>49&&(r.e.r=49);var i=b2(n,{range:r,header:1}),a=["~Sh33tJ5~"];i.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&a.push(e)}))}));var s={},o=[],l=OG.read(t.numbers,{type:"base64"});l.FileIndex.map((function(e,t){return[e,l.FullPaths[t]]})).forEach((function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&U1(z1(t.content)).forEach((function(e){o.push(e.id),s[e.id]={deps:[],location:n,type:N1(e.messages[0].meta[1][0].data)}}))})),o.sort((function(e,t){return e-t}));var c=o.filter((function(e){return e>1})).map((function(e){return[e,I1(e)]}));l.FileIndex.map((function(e,t){return[e,l.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&U1(z1(t.content)).forEach((function(e){e.messages.forEach((function(t){c.forEach((function(t){e.messages.some((function(e){return 11006!=N1(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])}))&&s[t[0]].deps.push(e.id)}))}))}))}));for(var u,h=OG.find(l,s[1].location),d=U1(z1(h.content)),f=0;f<d.length;++f){var p=d[f];1==p.id&&(u=p)}var m=X1(D1(u.messages[0].data)[1][0].data);for(d=U1(z1((h=OG.find(l,s[m].location)).content)),f=0;f<d.length;++f)(p=d[f]).id==m&&(u=p);for(m=X1(D1(u.messages[0].data)[2][0].data),d=U1(z1((h=OG.find(l,s[m].location)).content)),f=0;f<d.length;++f)(p=d[f]).id==m&&(u=p);for(m=X1(D1(u.messages[0].data)[2][0].data),d=U1(z1((h=OG.find(l,s[m].location)).content)),f=0;f<d.length;++f)(p=d[f]).id==m&&(u=p);var g=D1(u.messages[0].data);g[6][0].data=I1(r.e.r+1),g[7][0].data=I1(r.e.c+1);for(var v=X1(g[46][0].data),y=OG.find(l,s[v].location),b=U1(z1(y.content)),x=0;x<b.length&&b[x].id!=v;++x);if(b[x].id!=v)throw"Bad ColumnRowUIDMapArchive";var w=D1(b[x].messages[0].data);w[1]=[],w[2]=[],w[3]=[];for(var _=0;_<=r.e.c;++_){var S=[];S[1]=S[2]=[{type:0,data:I1(_+420690)}],w[1].push({type:2,data:L1(S)}),w[2].push({type:0,data:I1(_)}),w[3].push({type:0,data:I1(_)})}w[4]=[],w[5]=[],w[6]=[];for(var T=0;T<=r.e.r;++T)(S=[])[1]=S[2]=[{type:0,data:I1(T+726270)}],w[4].push({type:2,data:L1(S)}),w[5].push({type:0,data:I1(T)}),w[6].push({type:0,data:I1(T)});b[x].messages[0].data=L1(w),y.content=V1(j1(b)),y.size=y.content.length,delete g[46];var E=D1(g[4][0].data);E[7][0].data=I1(r.e.r+1);var M=X1(D1(E[1][0].data)[2][0].data);if((b=U1(z1((y=OG.find(l,s[M].location)).content)))[0].id!=M)throw"Bad HeaderStorageBucket";var A=D1(b[0].messages[0].data);for(T=0;T<i.length;++T){var C=D1(A[2][0].data);C[1][0].data=I1(T),C[4][0].data=I1(i[T].length),A[2][T]={type:A[2][0].type,data:L1(C)}}b[0].messages[0].data=L1(A),y.content=V1(j1(b)),y.size=y.content.length;var P=X1(E[2][0].data);if((b=U1(z1((y=OG.find(l,s[P].location)).content)))[0].id!=P)throw"Bad HeaderStorageBucket";for(A=D1(b[0].messages[0].data),_=0;_<=r.e.c;++_)(C=D1(A[2][0].data))[1][0].data=I1(_),C[4][0].data=I1(r.e.r+1),A[2][_]={type:A[2][0].type,data:L1(C)};b[0].messages[0].data=L1(A),y.content=V1(j1(b)),y.size=y.content.length;var O=X1(E[4][0].data);!function(){for(var e,t=OG.find(l,s[O].location),n=U1(z1(t.content)),r=0;r<n.length;++r){var i=n[r];i.id==O&&(e=i)}var o=D1(e.messages[0].data);o[3]=[];var c=[];a.forEach((function(e,t){c[1]=[{type:0,data:I1(t)}],c[2]=[{type:0,data:I1(1)}],c[3]=[{type:2,data:P1(e)}],o[3].push({type:2,data:L1(c)})})),e.messages[0].data=L1(o);var u=V1(j1(n));t.content=u,t.size=t.content.length}();var k=D1(E[3][0].data),R=k[1][0];delete k[2];var I=D1(R.data),N=X1(I[2][0].data);!function(){for(var e,t=OG.find(l,s[N].location),n=U1(z1(t.content)),o=0;o<n.length;++o){var c=n[o];c.id==N&&(e=c)}var u=D1(e.messages[0].data);delete u[6],delete k[7];var h=new Uint8Array(u[5][0].data);u[5]=[];for(var d=0,f=0;f<=r.e.r;++f){var p=D1(h);d+=Q1(p,i[f],a),p[1][0].data=I1(f),u[5].push({data:L1(p),type:2})}u[1]=[{type:0,data:I1(r.e.c+1)}],u[2]=[{type:0,data:I1(r.e.r+1)}],u[3]=[{type:0,data:I1(d)}],u[4]=[{type:0,data:I1(r.e.r+1)}],e.messages[0].data=L1(u);var m=V1(j1(n));t.content=m,t.size=t.content.length}(),R.data=L1(I),E[3][0].data=L1(k),g[4][0].data=L1(E),u.messages[0].data=L1(g);var D=V1(j1(d));return h.content=D,h.size=h.content.length,l}(e,t):"xlsb"==t.bookType?function(e,t){dZ=1024,e&&!e.SSF&&(e.SSF=YG(GW));e&&e.SSF&&(MG(),EG(e.SSF),t.revssf=LG(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,pQ?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=bZ.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};n2(t=t||{});var a=c$(),s="",o=0;t.cellXfs=[],yQ(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(l$(a,s="docProps/core.xml",vY(e.Props,t)),i.coreprops.push(s),uY(t.rels,2,s,sY.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,l$(a,s,wY(e.Props)),i.extprops.push(s),uY(t.rels,3,s,sY.EXT_PROPS),e.Custprops!==e.Props&&IG(e.Custprops||{}).length>0&&(l$(a,s="docProps/custom.xml",SY(e.Custprops)),i.custprops.push(s),uY(t.rels,4,s,sY.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(l$(a,s="xl/worksheets/sheet"+o+"."+n,E0(o-1,s,t,e,u)),i.sheets.push(s),uY(t.wbrels,-1,"worksheets/sheet"+o+"."+n,sY.WS[0]),h){var d=h["!comments"],f=!1,p="";d&&d.length>0&&(l$(a,p="xl/comments"+o+"."+n,M0(d,p)),i.comments.push(p),uY(u,-1,"../comments"+o+"."+n,sY.CMNT),f=!0),h["!legacy"]&&f&&l$(a,"xl/drawings/vmlDrawing"+o+".vml",fZ(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&l$(a,oY(s),cY(u))}null!=t.Strings&&t.Strings.length>0&&(l$(a,s="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?oJ:aJ)(e,n)}(t.Strings,s,t)),i.strs.push(s),uY(t.wbrels,-1,"sharedStrings."+n,sY.SST));l$(a,s="xl/workbook."+n,function(e,t){return(".bin"===t.slice(-4)?m0:d0)(e)}(e,s)),i.workbooks.push(s),uY(t.rels,1,s,sY.WB),l$(a,s="xl/theme/theme1.xml",oZ(e.Themes,t)),i.themes.push(s),uY(t.wbrels,-1,"theme/theme1.xml",sY.THEME),l$(a,s="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?JJ:UJ)(e,n)}(e,s,t)),i.styles.push(s),uY(t.wbrels,-1,"styles."+n,sY.STY),e.vbaraw&&r&&(l$(a,s="xl/vbaProject.bin",e.vbaraw),i.vba.push(s),uY(t.wbrels,-1,"vbaProject.bin",sY.VBA));return l$(a,s="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?uZ:hZ)()}(s)),i.metadata.push(s),uY(t.wbrels,-1,"metadata."+n,sY.XLMETA),l$(a,"[Content_Types].xml",aY(i,t)),l$(a,"_rels/.rels",cY(t.rels)),l$(a,"xl/_rels/workbook."+n+".rels",cY(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t):function(e,t){dZ=1024,e&&!e.SSF&&(e.SSF=YG(GW));e&&e.SSF&&(MG(),EG(e.SSF),t.revssf=LG(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,pQ?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=bZ.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};n2(t=t||{});var a=c$(),s="",o=0;t.cellXfs=[],yQ(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(l$(a,s="docProps/core.xml",vY(e.Props,t)),i.coreprops.push(s),uY(t.rels,2,s,sY.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,l$(a,s,wY(e.Props)),i.extprops.push(s),uY(t.rels,3,s,sY.EXT_PROPS),e.Custprops!==e.Props&&IG(e.Custprops||{}).length>0&&(l$(a,s="docProps/custom.xml",SY(e.Custprops)),i.custprops.push(s),uY(t.rels,4,s,sY.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},d=e.Sheets[e.SheetNames[o-1]];(d||{})["!type"];if(l$(a,s="xl/worksheets/sheet"+o+"."+n,UQ(o-1,t,e,h)),i.sheets.push(s),uY(t.wbrels,-1,"worksheets/sheet"+o+"."+n,sY.WS[0]),d){var f=d["!comments"],p=!1,m="";if(f&&f.length>0){var g=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(g=!0)}))})),g&&(l$(a,m="xl/threadedComments/threadedComment"+o+"."+n,gZ(f,u,t)),i.threadedcomments.push(m),uY(h,-1,"../threadedComments/threadedComment"+o+"."+n,sY.TCMNT)),l$(a,m="xl/comments"+o+"."+n,mZ(f)),i.comments.push(m),uY(h,-1,"../comments"+o+"."+n,sY.CMNT),p=!0}d["!legacy"]&&p&&l$(a,"xl/drawings/vmlDrawing"+o+".vml",fZ(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&l$(a,oY(s),cY(h))}null!=t.Strings&&t.Strings.length>0&&(l$(a,s="xl/sharedStrings."+n,aJ(t.Strings,t)),i.strs.push(s),uY(t.wbrels,-1,"sharedStrings."+n,sY.SST));l$(a,s="xl/workbook."+n,d0(e)),i.workbooks.push(s),uY(t.rels,1,s,sY.WB),l$(a,s="xl/theme/theme1.xml",oZ(e.Themes,t)),i.themes.push(s),uY(t.wbrels,-1,"theme/theme1.xml",sY.THEME),l$(a,s="xl/styles."+n,UJ(e,t)),i.styles.push(s),uY(t.wbrels,-1,"styles."+n,sY.STY),e.vbaraw&&r&&(l$(a,s="xl/vbaProject.bin",e.vbaraw),i.vba.push(s),uY(t.wbrels,-1,"vbaProject.bin",sY.VBA));l$(a,s="xl/metadata."+n,hZ()),i.metadata.push(s),uY(t.wbrels,-1,"metadata."+n,sY.XLMETA),u.length>1&&(l$(a,s="xl/persons/person.xml",function(e){var t=[d$,$$("personList",null,{xmlns:tX,"xmlns:x":cX[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,n){t.push($$("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),i.people.push(s),uY(t.wbrels,-1,"persons/person.xml",sY.PEOPLE));return l$(a,"[Content_Types].xml",aY(i,t)),l$(a,"_rels/.rels",cY(t.rels)),l$(a,"xl/_rels/workbook."+n+".rels",cY(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t)}function l2(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=TW(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function c2(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return U0(e.slice(n),t);default:break e}return XK.to_workbook(e,t)}function u2(e,t,n,r){return r?(n.type="string",XK.to_workbook(e,n)):XK.to_workbook(t,n)}function h2(e,t){mW();var n=t||{};if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return h2(new Uint8Array(e),((n=YG(n)).type="array",n));"undefined"!=typeof Uint8Array&&e instanceof Uint8Array&&!n.type&&(n.type="undefined"!=typeof Deno?"buffer":"array");var r,i=e,a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),fQ={},n.dateNF&&(fQ.dateNF=n.dateNF),n.type||(n.type=EW&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==n.type&&(n.type=EW?"buffer":"binary",i=function(e){if("undefined"!=typeof Deno)return Deno.readFileSync(e);if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}(e),"undefined"==typeof Uint8Array||EW||(n.type="array")),"string"==n.type&&(a=!0,n.type="binary",n.codepage=65001,i=function(e){return e.match(/[^\x00-\x7F]/)?L$(e):e}(e)),"array"==n.type&&"undefined"!=typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!=typeof ArrayBuffer){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return(n=YG(n)).type="array",h2(RW(i),n)}switch((r=l2(i,n))[0]){case 208:if(207===r[1]&&17===r[2]&&224===r[3]&&161===r[4]&&177===r[5]&&26===r[6]&&225===r[7])return function(e,t){return OG.find(e,"EncryptedPackage")?s2(e,t):e1(e,t)}(OG.read(i,n),n);break;case 9:if(r[1]<=8)return e1(i,n);break;case 60:return U0(i,n);case 73:if(73===r[1]&&42===r[2]&&0===r[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===r[1])return function(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=WK.to_workbook(e,n);return n.WTF=r,i}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return XK.to_workbook(e,t)}}(i,n);break;case 84:if(65===r[1]&&66===r[2]&&76===r[3])return GK.to_workbook(i,n);break;case 80:return 75===r[1]&&r[2]<9&&r[3]<9?function(e,t){var n=e,r=t||{};return r.type||(r.type=EW&&Buffer.isBuffer(e)?"buffer":"base64"),a2(u$(n,r),r)}(i,n):u2(e,i,n,a);case 239:return 60===r[3]?U0(i,n):u2(e,i,n,a);case 255:if(254===r[1])return function(e,t){var n=e;return"base64"==t.type&&(n=TW(n)),n=yW.utils.decode(1200,n.slice(2),"str"),t.type="binary",c2(n,t)}(i,n);if(0===r[1]&&2===r[2]&&0===r[3])return qK.to_workbook(i,n);break;case 0:if(0===r[1]){if(r[2]>=2&&0===r[3])return qK.to_workbook(i,n);if(0===r[2]&&(8===r[3]||9===r[3]))return qK.to_workbook(i,n)}break;case 3:case 131:case 139:case 140:return HK.to_workbook(i,n);case 123:if(92===r[1]&&114===r[2]&&116===r[3])return wJ.to_workbook(i,n);break;case 10:case 13:case 32:return function(e,t){var n="",r=l2(e,t);switch(t.type){case"base64":n=TW(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=qG(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=D$(n)),t.type="binary",c2(n,t)}(i,n);case 137:if(80===r[1]&&78===r[2]&&71===r[3])throw new Error("PNG Image File is not a spreadsheet")}return VK.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?HK.to_workbook(i,n):u2(e,i,n,a)}function d2(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return RG(t.file,OG.write(e,{type:EW?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return OG.write(e,t)}function f2(e,t){var n=YG(t||{});return function(e,t){var n={},r=EW?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";t.compression&&(n.compression="DEFLATE");if(t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?OG.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!=typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(OW(i))}return t.password&&"undefined"!=typeof encrypt_agile?d2(encrypt_agile(i,t.password),t):"file"===t.type?RG(t.file,i):"string"==t.type?D$(i):i}(o2(e,n),n)}function p2(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return SW(L$(r));case"binary":return L$(r);case"string":return e;case"file":return RG(t.file,r,"utf8");case"buffer":return EW?MW(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):p2(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function m2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?SW(n):"string"==t.type?D$(n):n;case"file":return RG(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function g2(e,t){mW(),u0(e);var n=YG(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=g2(e,n);return n.type="array",OW(r)}var i=0;if(n.sheet&&(i="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return p2(W0(e,n),n);case"slk":case"sylk":return p2(WK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return p2(g1(e.Sheets[e.SheetNames[i]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return SW(e);case"binary":case"string":return e;case"file":return RG(t.file,e,"binary");case"buffer":return EW?MW(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(S2(e.Sheets[e.SheetNames[i]],n),n);case"csv":return p2(_2(e.Sheets[e.SheetNames[i]],n),n,"\ufeff");case"dif":return p2(GK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return m2(HK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return p2(XK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return p2(wJ.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return p2($K.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return p2(M1(e,n),n);case"wk1":return m2(qK.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return m2(qK.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),m2(f1(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return d2(t1(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return f2(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function v2(e,t,n){var r={type:"file"};return r.file=t,function(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(r),g2(e,r)}function y2(e,t,n,r,i,a,s,o){var l=oq(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch(g){d.__rowNum__=n}else d.__rowNum__=n;if(!s||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=s?e[n][f]:e[r[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=a[f]){if(null==m)if("e"==p.t&&null===m)d[a[f]]=null;else if(void 0!==c)d[a[f]]=c;else{if(!u||null!==m)continue;d[a[f]]=null}else d[a[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?m:gq(p,m,o);null!=m&&(h=!1)}}else{if(void 0===c)continue;null!=a[f]&&(d[a[f]]=c)}}return{row:d,isempty:h}}function b2(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=pq(u);break;case"number":(l=pq(e["!ref"])).s.r=u;break;default:l=u}r>0&&(i=0);var h=oq(l.s.r),d=[],f=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,y=0,b={};g&&!e[v]&&(e[v]=[]);var x=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(x[y]||{}).hidden)switch(d[y]=cq(y),n=g?e[v][y]:e[d[y]+h],r){case 1:a[y]=y-l.s.c;break;case 2:a[y]=d[y];break;case 3:a[y]=c.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),o=s=gq(n,null,c),m=b[s]||0){do{o=s+"_"+m++}while(b[o]);b[s]=m,b[o]=1}else b[s]=1;a[y]=o}for(v=l.s.r+i;v<=l.e.r;++v)if(!(w[v]||{}).hidden){var _=y2(e,l,v,d,r,a,g,c);(!1===_.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(f[p++]=_.row)}return f.length=p,f}var x2=/"/g;function w2(e,t,n,r,i,a,s,o){for(var l=!0,c=[],u="",h=oq(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var f=o.dense?(e[n]||[])[d]:e[r[d]+h];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(o.rawNumbers&&"n"==f.t?f.v:gq(f,null,o));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===i||m===a||34===m||o.forceQuotes){u='"'+u.replace(x2,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(x2,'""')+'"'));c.push(u)}return!1===o.blankrows&&l?null:c.join(s)}function _2(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=pq(e["!ref"]),a=void 0!==r.FS?r.FS:",",s=a.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==a?"\\|":a)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(d[p]||{}).hidden||(h[p]=cq(p));for(var m=0,g=i.s.r;g<=i.e.r;++g)(f[g]||{}).hidden||null!=(u=w2(e,i,g,h,s,l,a,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((m++?o:"")+u));return delete r.dense,n.join("")}function S2(e,t){return t||(t={}),t.FS="\t",t.RS="\n",_2(e,t)}function T2(e,t,n){var r,i=n||{},a=+!i.skipHeader,s=e||{},o=0,l=0;if(s&&null!=i.origin)if("number"==typeof i.origin)o=i.origin;else{var c="string"==typeof i.origin?uq(i.origin):i.origin;o=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var h=pq(s["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==o&&(o=h.e.r+1,u.e.r=o+t.length-1+a)}else-1==o&&(o=0,u.e.r=t.length-1+a);var d=i.header||[],f=0;t.forEach((function(e,t){IG(e).forEach((function(n){-1==(f=d.indexOf(n))&&(d[f=d.length]=n);var c=e[n],u="z",h="",p=hq({c:l+f,r:o+t+a});r=E2(s,p),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",i.cellDates||(u="n",c=UG(c)),h=i.dateNF||GW[14]):null===c&&i.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,h&&(r.z=h)):s[p]=r={t:u,v:c},h&&(r.z=h)):s[p]=c}))})),u.e.c=Math.max(u.e.c,l+d.length-1);var p=oq(o);if(a)for(f=0;f<d.length;++f)s[cq(f+l)+p]={t:"s",v:d[f]};return s["!ref"]=fq(u),s}function E2(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=uq(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return E2(e,hq("number"!=typeof t?t:{r:t,c:n||0}))}function M2(){return{SheetNames:[],Sheets:{}}}function A2(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=s+i);++i);}if(c0(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function C2(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var P2={encode_col:cq,encode_row:oq,encode_cell:hq,encode_range:fq,decode_col:lq,decode_row:sq,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:uq,decode_range:dq,format_cell:gq,sheet_add_aoa:yq,sheet_add_json:T2,sheet_add_dom:v1,aoa_to_sheet:bq,json_to_sheet:function(e,t){return T2(null,e,t)},table_to_sheet:y1,table_to_book:function(e,t){return vq(y1(e,t),t)},sheet_to_csv:_2,sheet_to_txt:S2,sheet_to_json:b2,sheet_to_html:g1,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,a=pq(e["!ref"]),s="",o=[],l=[],c=Array.isArray(e);for(i=a.s.c;i<=a.e.c;++i)o[i]=cq(i);for(var u=a.s.r;u<=a.e.r;++u)for(s=oq(u),i=a.s.c;i<=a.e.c;++i)if(n=o[i]+s,r="",void 0!==(t=c?(e[u]||[])[i]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:b2,sheet_get_cell:E2,book_new:M2,book_append_sheet:A2,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:C2,cell_set_internal_link:function(e,t,n){return C2(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var i="string"!=typeof t?t:pq(t),a="string"==typeof t?t:fq(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=E2(e,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const O2=["#3b82f6","#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444","#ec4899","#84cc16","#6366f1","#f97316","#d946ef","#22d3ee","#a3e635","#f472b6","#fbbf24"],k2=({professionals:e,onNavigate:t})=>{const[n,r]=Ie.useState([]),[i,a]=Ie.useState([]),[s,o]=Ie.useState(null),[l,c]=Ie.useState([]),[u,h]=Ie.useState(null),[d,f]=Ie.useState([]),[p,m]=Ie.useState(!1),[g,v]=Ie.useState(!0),[y,b]=Ie.useState(null);Ie.useEffect((()=>{(async()=>{v(!0),b(null);try{const{data:e,error:t}=await oW.rpc("get_skill_proficiency_distribution");if(t)throw t;if(e){const t=e;r(t);const n={};t.forEach((e=>{"Sem conhecimento"!==e.proficiency_level&&(n[e.skill_name]=(n[e.skill_name]||0)+e.professional_count)}));const i=Object.keys(n).map((e=>({name:e,total:n[e]}))).filter((e=>e.total>0)).sort(((e,t)=>t.total-e.total));a(i)}}catch(e){b(e.message||"Falha ao buscar dados dos grficos.")}finally{v(!1)}})()}),[]);const x=()=>{o(null),c([]),h(null),f([])},[w,_]=Ie.useState({cltCount:0,pjCount:0}),[S,T]=Ie.useState(!0);Ie.useEffect((()=>{(async()=>{T(!0);try{const{data:e,error:t}=await oW.rpc("get_contract_types_count");if(t)throw t;let n=0,r=0;e&&Array.isArray(e)&&e.forEach((e=>{"CLT"===e.tipo_contrato?n=Number(e.quantidade):"PJ"===e.tipo_contrato&&(r=Number(e.quantidade))})),_({cltCount:n,pjCount:r})}catch(e){_({cltCount:0,pjCount:0})}finally{T(!1)}})()}),[]);return q.jsxs(Nd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[q.jsx(Nd.div,{whileHover:{scale:1.02},className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:q.jsxs("div",{className:"flex items-center space-x-4",children:[q.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:q.jsx(sn,{className:"h-6 w-6 text-blue-400"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-slate-300 text-sm",children:"Total de Profissionais"}),q.jsx("p",{className:"text-3xl font-bold text-white",children:e.length})]})]})}),q.jsx(Nd.div,{whileHover:{scale:1.02},className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:q.jsxs("div",{className:"flex items-center space-x-4",children:[q.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:q.jsx(sn,{className:"h-6 w-6 text-purple-400"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-slate-300 text-sm",children:"CLT"}),q.jsx("p",{className:"text-3xl font-bold text-white",children:S?"...":w.cltCount})]})]})}),q.jsx(Nd.div,{whileHover:{scale:1.02},className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:q.jsxs("div",{className:"flex items-center space-x-4",children:[q.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:q.jsx(rn,{className:"h-6 w-6 text-green-400"})}),q.jsxs("div",{children:[q.jsx("p",{className:"text-slate-300 text-sm",children:"PJ"}),q.jsx("p",{className:"text-3xl font-bold text-white",children:S?"...":w.pjCount})]})]})})]}),q.jsxs(Nd.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-slate-800/40 backdrop-blur-md rounded-2xl p-6 border border-slate-700/50",children:[q.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:s?`Distribuio de Proficincia para ${s}`:"Viso Geral de Skills por Profissionais"}),g&&q.jsx("div",{className:"h-96 flex items-center justify-center",children:q.jsx("p",{className:"text-white text-xl",children:"Carregando dados do grfico..."})}),!g&&y&&q.jsx("div",{className:"h-96 flex items-center justify-center",children:q.jsxs("p",{className:"text-red-500 text-xl",children:["Erro ao carregar grfico: ",y]})}),!g&&!y&&!s&&i.length>0&&q.jsx("div",{className:"h-[800px]",children:q.jsx(TT,{width:"100%",height:"100%",children:q.jsxs(EB,{data:i,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[q.jsx(sj,{strokeDasharray:"3 3",strokeOpacity:.1,stroke:"#94a3b8"}),q.jsx(vj,{type:"number",stroke:"#94a3b8"}),q.jsx(Cj,{type:"category",dataKey:"name",stroke:"#94a3b8",width:140,interval:0,tick:{fontSize:12}}),q.jsx(YS,{cursor:{fill:"rgba(255,255,255,0.1)"},contentStyle:{backgroundColor:"rgba(30,41,59,0.9)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"0.5rem"},labelStyle:{color:"#e2e8f0",fontWeight:"bold"},itemStyle:{color:"#cbd5e1"}}),q.jsx(m_,{wrapperStyle:{color:"#fff",paddingTop:"10px"}}),q.jsx(tF,{dataKey:"total",name:"Total de Profissionais",fill:"#3b82f6",radius:[0,5,5,0],barSize:18,children:i.map(((e,t)=>q.jsx(ET,{fill:O2[t%O2.length],onClick:()=>(e=>{o(e);const t=n.filter((t=>t.skill_name===e)),r=["Jnior","Pleno","Snior","Especialista","Sem conhecimento"],i=t.map((e=>({name:e.proficiency_level,count:e.professional_count}))).sort(((e,t)=>r.indexOf(e.name)-r.indexOf(t.name)));c(i)})(e.name),style:{cursor:"pointer"}},`cell-${t}`)))})]})})}),!g&&!y&&s&&!u&&(l.length>0?q.jsxs("div",{className:"h-[450px]",children:[" ",q.jsx("button",{onClick:x,className:"mb-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 text-sm",children:" Voltar para Viso Geral"}),q.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 text-center",children:["Distribuio de Proficincia para ",s]}),q.jsx(TT,{width:"100%",height:"85%",children:q.jsxs(EB,{data:l,margin:{top:5,right:20,left:10,bottom:5},barGap:0,children:[q.jsx(sj,{strokeDasharray:"3 3",strokeOpacity:.1,stroke:"#94a3b8"}),q.jsx(vj,{dataKey:"name",tick:{fill:"#e2e8f0"},axisLine:{stroke:"#475569"}}),q.jsx(Cj,{allowDecimals:!1,tick:{fill:"#e2e8f0"},axisLine:{stroke:"#475569"}}),q.jsx(YS,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.9)",borderColor:"rgba(51, 65, 85, 0.5)",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},labelStyle:{color:"#f8fafc",fontWeight:"bold",marginBottom:"4px"},itemStyle:{color:"#cbd5e1",padding:"4px 0"},cursor:!1}),q.jsx(m_,{wrapperStyle:{color:"#fff",paddingTop:"10px"}}),q.jsx(tF,{dataKey:"count",name:"Profissionais",radius:[4,4,0,0],barSize:40,fill:"#3b82f6",children:l.map(((e,t)=>q.jsx(ET,{fill:O2[t%O2.length],onClick:()=>(async e=>{if(s){h(e),m(!0),f([]);try{const t=await lW((async t=>{const{data:n,error:r}=await t.rpc("get_professionals_by_skill_and_proficiency",{target_skill_name:s,target_proficiency_level:e});if(r)throw r;return n}));f(t||[])}catch(t){b(t.message||"Falha ao buscar lista de profissionais.")}finally{m(!1)}}})(e.name),style:{cursor:"pointer"}},`cell-${t}`)))})]})})]}):q.jsxs("div",{className:"text-center py-10",children:[q.jsx("button",{onClick:x,className:"mb-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 text-sm",children:" Voltar para Viso Geral"}),q.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 text-center",children:["Distribuio de Proficincia para ",s]}),q.jsxs("p",{className:"text-slate-400 text-lg",children:['No h dados de proficincia (Jnior, Pleno, Snior, Especialista) para a skill "',s,'".']}),q.jsx("p",{className:"text-slate-500 mt-2",children:'Isso pode significar que todos os profissionais tm "Sem conhecimento" ou nenhum nvel especificado para esta skill.'})]})),!g&&!y&&s&&u&&q.jsxs("div",{className:"mt-8",children:[q.jsxs("button",{onClick:()=>{h(null),f([])},className:"mb-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors duration-150 text-sm",children:[" Voltar para Grfico de Proficincia (",s,")"]}),q.jsxs("h3",{className:"text-xl font-semibold text-white mb-4",children:["Profissionais com ",s," - Nvel: ",u]}),p&&q.jsx("p",{className:"text-slate-300",children:"Carregando lista de profissionais..."}),!p&&0===d.length&&q.jsx("p",{className:"text-slate-400",children:"Nenhum profissional encontrado para esta skill e nvel."}),!p&&d.length>0&&q.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm p-4 rounded-lg max-h-96 overflow-y-auto",children:q.jsx("ul",{className:"space-y-3",children:d.map(((e,t)=>{return q.jsxs("li",{className:"p-3 bg-slate-700/50 rounded-md shadow",children:[q.jsx("p",{className:"font-medium text-sky-300",children:(n=e.nome_completo||"",n.toLowerCase().split(" ").map((e=>e?["de","da","do","das","dos","e"].includes(e)?e:e.charAt(0).toUpperCase()+e.slice(1):e)).join(" "))}),q.jsx("p",{className:"text-sm text-slate-400",children:e.email})]},t);var n}))})})]}),!g&&!y&&!u&&(!s&&0===i.length||s&&0===l.length)&&q.jsx("div",{className:"h-96 flex items-center justify-center",children:q.jsxs("div",{className:"text-center",children:[q.jsx(sn,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),q.jsx("p",{className:"text-slate-300 text-lg",children:"Nenhum dado encontrado para a seleo atual."}),q.jsx("p",{className:"text-slate-400",children:"Verifique os filtros ou adicione mais profissionais."})]})})]}),q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[q.jsx(Nd.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("manual"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-4 px-8 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl",children:q.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[q.jsx(an,{className:"h-6 w-6"}),q.jsx("span",{className:"text-lg",children:"Cadastrar Manualmente"})]})}),q.jsx(Nd.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("excel"),className:"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-semibold py-4 px-8 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl",children:q.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[q.jsx(rn,{className:"h-6 w-6"}),q.jsx("span",{className:"text-lg",children:"Importar do Excel"})]})}),q.jsx(Nd.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const t=e.map((e=>({"Nome Completo":e.nome_completo,Email:e.email,"rea de Atuao":e.area_atuacao,"Skill Principal":e.skill_principal,"Nvel de Experincia":e.nivel_experiencia,"Gestor da rea":e.gestor_area,"Gestor Direto":e.gestor_direto,"Disponvel para Compartilhamento":e.disponivel_compartilhamento?"Sim":"No","Percentual de Compartilhamento":e.percentual_compartilhamento,"Outras Skills/Cargos":e.outras_tecnologias,Regime:e.regime,"Local Alocao":e.local_alocacao,"Proficiencia Cargo":e.proficiencia_cargo,"Hora ltima Modificao":e.hora_ultima_modificacao,"Criado em":e.created_at}))),n=P2.json_to_sheet(t),r=P2.book_new();P2.book_append_sheet(r,n,"Colaboradores"),v2(r,"colaboradores_exportados.xlsx")},className:"bg-gradient-to-r from-yellow-500 to-green-600 hover:from-yellow-600 hover:to-green-700 text-white font-semibold py-4 px-8 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl",children:q.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[q.jsx(Jt,{className:"h-6 w-6"}),q.jsx("span",{className:"text-lg",children:"Exportar para Excel"})]})})]})]})},R2=["Desenvolvedor Frontend","Desenvolvedor Backend","Desenvolvedor Fullstack","DevOps","QA/Tester","Product Owner","Scrum Master","UI/UX Designer","Data Scientist","Mobile Developer","Gesto de Projetos","Recrutamento & Seleo","Anlise de Requisitos"],I2=["JavaScript","TypeScript","Python","Java","C#","PHP","Go","Rust","Swift","Kotlin","React","Vue.js","Angular","Node.js",".NET","Spring Boot","Gerencia de Projetos","Administrao de Projetos","Linguagem R","Linguagem C","Linguagem C++","Cobol","Android","Windows","Raspberry PI","Arduino","Skalla","Analise de Requisitos"],N2={Java:"java",JavaScript:"javascript",Python:"python",TypeScript:"typescript",PHP:"php",".NET":"dotnet",React:"react",Angular:"angular",Ionic:"ionic",Flutter:"flutter",MySQL:"mysql",PostgreSQL:"postgres",Postgres:"postgres",Oracle:"oracle_db","SQL Server":"sql_server",MongoDB:"mongodb","Mongo DB":"mongodb",AWS:"aws",Azure:"azure",GCP:"gcp",Android:"android",Cobol:"cobol","Linguagem R":"linguagem_r","Linguagen R":"linguagem_r","Linguagem C":"linguagem_c","Linguagem C++":"linguagem_cpp",Windows:"windows","Raspberry PI":"raspberry_pi","Raspiberry PI":"raspberry_pi",Arduino:"arduino","Gerencia de Projetos":"gerencia_projetos","Administrao de Projetos":"administracao_projetos","Analise de Requisitos":"analise_requisitos"};var D2=.999,L2=/[\\\/_+.#"@\[\(\{&]/,F2=/[\\\/_+.#"@\[\(\{&]/g,U2=/[\s-]/,j2=/[\s-]/g;function B2(e,t,n,r,i,a,s){if(a===t.length)return i===e.length?1:.99;var o=`${i},${a}`;if(void 0!==s[o])return s[o];for(var l,c,u,h,d=r.charAt(a),f=n.indexOf(d,i),p=0;f>=0;)(l=B2(e,t,n,r,f+1,a+1,s))>p&&(f===i?l*=1:L2.test(e.charAt(f-1))?(l*=.8,(u=e.slice(i,f-1).match(F2))&&i>0&&(l*=Math.pow(D2,u.length))):U2.test(e.charAt(f-1))?(l*=.9,(h=e.slice(i,f-1).match(j2))&&i>0&&(l*=Math.pow(D2,h.length))):(l*=.17,i>0&&(l*=Math.pow(D2,f-i))),e.charAt(f)!==t.charAt(a)&&(l*=.9999)),(l<.1&&n.charAt(f-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(f-1)!==r.charAt(a))&&(.1*(c=B2(e,t,n,r,f+1,a+2,s))>l&&(l=.1*c)),l>p&&(p=l),f=n.indexOf(d,f+1);return s[o]=p,p}function z2(e){return e.toLowerCase().replace(j2," ")}function V2(e,t,n){return B2(e=n&&n.length>0?""+(e+" "+n.join(" ")):e,t,z2(e),z2(t),0,0,{})}function H2(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function W2(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function G2(...e){return Ie.useCallback(W2(...e),e)}function $2(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return Ie.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}const X2=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?Ie.useLayoutEffect:()=>{},q2=je["useId".toString()]||(()=>{});let Y2=0;function K2(e){const[t,n]=Ie.useState(q2());return X2((()=>{e||n((e=>null!=e?e:String(Y2++)))}),[e]),e||(t?`radix-${t}`:"")}function J2(e){const t=Ie.useRef(e);return Ie.useEffect((()=>{t.current=e})),Ie.useMemo((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}function Z2({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=function({defaultProp:e,onChange:t}){const n=Ie.useState(e),[r]=n,i=Ie.useRef(r),a=J2(t);return Ie.useEffect((()=>{i.current!==r&&(a(r),i.current=r)}),[r,i,a]),n}({defaultProp:t,onChange:n}),a=void 0!==e,s=a?e:r,o=J2(n);return[s,Ie.useCallback((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&o(n)}else i(t)}),[a,e,i,o])]}const Q2=Ie.forwardRef(((e,t)=>{const{children:n,...r}=e,i=Ie.Children.toArray(n),a=i.find(n3);if(a){const e=a.props.children,n=i.map((t=>t===a?Ie.Children.count(e)>1?Ie.Children.only(null):Ie.isValidElement(e)?e.props.children:null:t));return Ie.createElement(e3,RN({},r,{ref:t}),Ie.isValidElement(e)?Ie.cloneElement(e,void 0,n):null)}return Ie.createElement(e3,RN({},r,{ref:t}),n)}));Q2.displayName="Slot";const e3=Ie.forwardRef(((e,t)=>{const{children:n,...r}=e;return Ie.isValidElement(n)?Ie.cloneElement(n,{...r3(r,n.props),ref:t?W2(t,n.ref):n.ref}):Ie.Children.count(n)>1?Ie.Children.only(null):null}));e3.displayName="SlotClone";const t3=({children:e})=>Ie.createElement(Ie.Fragment,null,e);function n3(e){return Ie.isValidElement(e)&&e.type===t3}function r3(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{a(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}const i3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=Ie.forwardRef(((e,n)=>{const{asChild:r,...i}=e,a=r?Q2:t;return Ie.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),Ie.createElement(a,RN({},i,{ref:n}))}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});const a3="dismissableLayer.update",s3="dismissableLayer.pointerDownOutside",o3="dismissableLayer.focusOutside";let l3;const c3=Ie.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),u3=Ie.forwardRef(((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=Ie.useContext(c3),[h,d]=Ie.useState(null),f=null!==(n=null==h?void 0:h.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,p]=Ie.useState({}),m=G2(t,(e=>d(e))),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=h?g.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,_=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const n=J2(e),r=Ie.useRef(!1),i=Ie.useRef((()=>{}));return Ie.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){d3(s3,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));w&&!n&&(null==a||a(e),null==o||o(e),e.defaultPrevented||null==l||l())}),f),S=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const n=J2(e),r=Ie.useRef(!1);return Ie.useEffect((()=>{const e=e=>{if(e.target&&!r.current){d3(o3,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(null==s||s(e),null==o||o(e),e.defaultPrevented||null==l||l())}),f);return function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const n=J2(e);Ie.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}),[n,t])}((e=>{b===u.layers.size-1&&(null==i||i(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),f),Ie.useEffect((()=>{if(h)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(l3=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),h3(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=l3)}}),[h,f,r,u]),Ie.useEffect((()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),h3())}),[h,u]),Ie.useEffect((()=>{const e=()=>p({});return document.addEventListener(a3,e),()=>document.removeEventListener(a3,e)}),[]),Ie.createElement(i3.div,RN({},c,{ref:m,style:{pointerEvents:x?w?"auto":"none":void 0,...e.style},onFocusCapture:H2(e.onFocusCapture,S.onFocusCapture),onBlurCapture:H2(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:H2(e.onPointerDownCapture,_.onPointerDownCapture)}))}));function h3(){const e=new CustomEvent(a3);document.dispatchEvent(e)}function d3(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&Re.flushSync((()=>e.dispatchEvent(t)))}(i,a):i.dispatchEvent(a)}const f3="focusScope.autoFocusOnMount",p3="focusScope.autoFocusOnUnmount",m3={bubbles:!1,cancelable:!0},g3=Ie.forwardRef(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[o,l]=Ie.useState(null),c=J2(i),u=J2(a),h=Ie.useRef(null),d=G2(t,(e=>l(e))),f=Ie.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Ie.useEffect((()=>{if(r){let e=function(e){if(f.paused||!o)return;const t=e.target;o.contains(t)?h.current=t:x3(h.current,{select:!0})},t=function(e){if(f.paused||!o)return;const t=e.relatedTarget;null!==t&&(o.contains(t)||x3(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&x3(o)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return o&&r.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[r,o,f.paused]),Ie.useEffect((()=>{if(o){w3.add(f);const t=document.activeElement;if(!o.contains(t)){const n=new CustomEvent(f3,m3);o.addEventListener(f3,c),o.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(x3(r,{select:t}),document.activeElement!==n)return}((e=v3(o),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&x3(o))}return()=>{o.removeEventListener(f3,c),setTimeout((()=>{const e=new CustomEvent(p3,m3);o.addEventListener(p3,u),o.dispatchEvent(e),e.defaultPrevented||x3(null!=t?t:document.body,{select:!0}),o.removeEventListener(p3,u),w3.remove(f)}),0)}}var e}),[o,c,u,f]);const p=Ie.useCallback((e=>{if(!n&&!r)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,a]=function(e){const t=v3(e),n=y3(t,e),r=y3(t.reverse(),e);return[n,r]}(t);r&&a?e.shiftKey||i!==a?e.shiftKey&&i===r&&(e.preventDefault(),n&&x3(a,{select:!0})):(e.preventDefault(),n&&x3(r,{select:!0})):i===t&&e.preventDefault()}}),[n,r,f.paused]);return Ie.createElement(i3.div,RN({tabIndex:-1},s,{ref:d,onKeyDown:p}))}));function v3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function y3(e,t){for(const n of e)if(!b3(n,{upTo:t}))return n}function b3(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function x3(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const w3=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=_3(e,t),e.unshift(t)},remove(t){var n;e=_3(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function _3(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const S3=Ie.forwardRef(((e,t)=>{var n;const{container:r=(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body),...i}=e;return r?De.createPortal(Ie.createElement(i3.div,RN({},i,{ref:t})),r):null}));const T3=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=Ie.useState(),r=Ie.useRef({}),i=Ie.useRef(e),a=Ie.useRef("none"),s=e?"mounted":"unmounted",[o,l]=function(e,t){return Ie.useReducer(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Ie.useEffect((()=>{const e=E3(r.current);a.current="mounted"===o?e:"none"}),[o]),X2((()=>{const t=r.current,n=i.current;if(n!==e){const r=a.current,s=E3(t);if(e)l("MOUNT");else if("none"===s||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==s?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,l]),X2((()=>{if(t){const e=e=>{const n=E3(r.current).includes(e.animationName);e.target===t&&n&&Re.flushSync((()=>l("ANIMATION_END")))},n=e=>{e.target===t&&(a.current=E3(r.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:Ie.useCallback((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:r.isPresent}):Ie.Children.only(n),a=G2(r.ref,i.ref);return"function"==typeof n||r.isPresent?Ie.cloneElement(i,{ref:a}):null};function E3(e){return(null==e?void 0:e.animationName)||"none"}T3.displayName="Presence";let M3=0;function A3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var C3=pe(),P3=function(){},O3=Ie.forwardRef((function(e,t){var n=Ie.useRef(null),r=Ie.useState({onScrollCapture:P3,onWheelCapture:P3,onTouchMoveCapture:P3}),i=r[0],a=r[1],s=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,d=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,v=void 0===g?"div":g,y=me(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=d,x=ge([n,t]),w=ve(ve({},y),i);return Ie.createElement(Ie.Fragment,null,u&&Ie.createElement(b,{sideCar:C3,removeScrollBar:c,shards:h,noIsolation:f,inert:p,setCallbacks:a,allowPinchZoom:!!m,lockRef:n}),s?Ie.cloneElement(Ie.Children.only(o),ve(ve({},w),{ref:x})):Ie.createElement(v,ve({},w,{className:l,ref:x}),o))}));O3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},O3.classNames={fullWidth:ye,zeroRight:be};var k3=!1;if("undefined"!=typeof window)try{var R3=Object.defineProperty({},"passive",{get:function(){return k3=!0,!0}});window.addEventListener("test",R3,R3),window.removeEventListener("test",R3,R3)}catch(she){k3=!1}var I3=!!k3&&{passive:!1},N3=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},D3=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),L3(e,n)){var r=F3(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},L3=function(e,t){return"v"===e?function(e){return N3(e,"overflowY")}(t):function(e){return N3(e,"overflowX")}(t)},F3=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},U3=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j3=function(e){return[e.deltaX,e.deltaY]},B3=function(e){return e&&"current"in e?e.current:e},z3=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},V3=0,H3=[];const W3=Se(C3,(function(e){var t=Ie.useRef([]),n=Ie.useRef([0,0]),r=Ie.useRef(),i=Ie.useState(V3++)[0],a=Ie.useState((function(){return xe()}))[0],s=Ie.useRef(e);Ie.useEffect((function(){s.current=e}),[e]),Ie.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=we([e.lockRef.current],(e.shards||[]).map(B3),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var o=Ie.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var i,a=U3(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-a[0],c="deltaY"in e?e.deltaY:o[1]-a[1],u=e.target,h=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===h&&"range"===u.type)return!1;var d=D3(h,u);if(!d)return!0;if(d?i=h:(i="v"===h?"h":"v",d=D3(h,u)),!d)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r,i){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=a*r,o=n.target,l=t.contains(o),c=!1,u=s>0,h=0,d=0;do{var f=F3(e,o),p=f[0],m=f[1]-f[2]-a*p;(p||m)&&L3(e,o)&&(h+=m,d+=p),o=o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(!u||0!==h&&i)&&(u||0!==d&&i)||(c=!0),c}(f,t,e,"h"===f?l:c,!0)}),[]),l=Ie.useCallback((function(e){var n=e;if(H3.length&&H3[H3.length-1]===a){var r="deltaY"in n?j3(n):U3(n),i=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(s.current.shards||[]).map(B3).filter(Boolean).filter((function(e){return e.contains(n.target)}));(l.length>0?o(n,l[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),c=Ie.useCallback((function(e,n,r,i){var a={name:e,delta:n,target:r,should:i};t.current.push(a),setTimeout((function(){t.current=t.current.filter((function(e){return e!==a}))}),1)}),[]),u=Ie.useCallback((function(e){n.current=U3(e),r.current=void 0}),[]),h=Ie.useCallback((function(t){c(t.type,j3(t),t.target,o(t,e.lockRef.current))}),[]),d=Ie.useCallback((function(t){c(t.type,U3(t),t.target,o(t,e.lockRef.current))}),[]);Ie.useEffect((function(){return H3.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,I3),document.addEventListener("touchmove",l,I3),document.addEventListener("touchstart",u,I3),function(){H3=H3.filter((function(e){return e!==a})),document.removeEventListener("wheel",l,I3),document.removeEventListener("touchmove",l,I3),document.removeEventListener("touchstart",u,I3)}}),[]);var f=e.removeScrollBar,p=e.inert;return Ie.createElement(Ie.Fragment,null,p?Ie.createElement(a,{styles:z3(i)}):null,f?Ie.createElement(_e,{gapMode:"margin"}):null)}));var G3=Ie.forwardRef((function(e,t){return Ie.createElement(O3,ve({},e,{ref:t,sideCar:W3}))}));G3.classNames=O3.classNames;const $3="Dialog",[X3,q3]=function(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>Ie.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return Ie.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=Ie.createContext(r),a=n.length;function s(t){const{scope:n,children:r,...s}=t,o=(null==n?void 0:n[e][a])||i,l=Ie.useMemo((()=>s),Object.values(s));return Ie.createElement(o.Provider,{value:l},r)}return n=[...n,r],s.displayName=t+"Provider",[s,function(n,s){const o=(null==s?void 0:s[e][a])||i,l=Ie.useContext(o);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},$2(r,...t)]}($3),[Y3,K3]=X3($3),J3="DialogPortal",[Z3,Q3]=X3(J3,{forceMount:void 0}),e4="DialogOverlay",t4=Ie.forwardRef(((e,t)=>{const n=Q3(e4,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=K3(e4,e.__scopeDialog);return a.modal?Ie.createElement(T3,{present:r||a.open},Ie.createElement(n4,RN({},i,{ref:t}))):null})),n4=Ie.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=K3(e4,n);return Ie.createElement(G3,{as:Q2,allowPinchZoom:!0,shards:[i.contentRef]},Ie.createElement(i3.div,RN({"data-state":l4(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))})),r4="DialogContent",i4=Ie.forwardRef(((e,t)=>{const n=Q3(r4,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=K3(r4,e.__scopeDialog);return Ie.createElement(T3,{present:r||a.open},a.modal?Ie.createElement(a4,RN({},i,{ref:t})):Ie.createElement(s4,RN({},i,{ref:t})))})),a4=Ie.forwardRef(((e,t)=>{const n=K3(r4,e.__scopeDialog),r=Ie.useRef(null),i=G2(t,n.contentRef,r);return Ie.useEffect((()=>{const e=r.current;if(e)return Te(e)}),[]),Ie.createElement(o4,RN({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H2(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:H2(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:H2(e.onFocusOutside,(e=>e.preventDefault()))}))})),s4=Ie.forwardRef(((e,t)=>{const n=K3(r4,e.__scopeDialog),r=Ie.useRef(!1),i=Ie.useRef(!1);return Ie.createElement(o4,RN({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;(null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented)||(r.current||null===(s=n.triggerRef.current)||void 0===s||s.focus(),t.preventDefault());r.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null===(s=n.triggerRef.current)||void 0===s?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))})),o4=Ie.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,o=K3(r4,n),l=G2(t,Ie.useRef(null));return Ie.useEffect((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:A3()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:A3()),M3++,()=>{1===M3&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),M3--}}),[]),Ie.createElement(Ie.Fragment,null,Ie.createElement(g3,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a},Ie.createElement(u3,RN({role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":l4(o.open)},s,{ref:l,onDismiss:()=>o.onOpenChange(!1)}))),!1)}));function l4(e){return e?"open":"closed"}const c4=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=Ie.useRef(null),l=Ie.useRef(null),[c=!1,u]=Z2({prop:r,defaultProp:i,onChange:a});return Ie.createElement(Y3,{scope:t,triggerRef:o,contentRef:l,contentId:K2(),titleId:K2(),descriptionId:K2(),open:c,onOpenChange:u,onOpenToggle:Ie.useCallback((()=>u((e=>!e))),[u]),modal:s},n)},u4=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=K3(J3,t);return Ie.createElement(Z3,{scope:t,forceMount:n},Ie.Children.map(r,(e=>Ie.createElement(T3,{present:n||a.open},Ie.createElement(S3,{asChild:!0,container:i},e)))))},h4=t4,d4=i4;var f4='[cmdk-group=""]',p4='[cmdk-group-items=""]',m4='[cmdk-item=""]',g4=`${m4}:not([aria-disabled="true"])`,v4="cmdk-item-select",y4="data-value",b4=(e,t,n)=>V2(e,t,n),x4=Ie.createContext(void 0),w4=()=>Ie.useContext(x4),_4=Ie.createContext(void 0),S4=()=>Ie.useContext(_4),T4=Ie.createContext(void 0),E4=Ie.forwardRef(((e,t)=>{let n=j4((()=>{var t,n;return{search:"",value:null!=(n=null!=(t=e.value)?t:e.defaultValue)?n:"",filtered:{count:0,items:new Map,groups:new Set}}})),r=j4((()=>new Set)),i=j4((()=>new Map)),a=j4((()=>new Map)),s=j4((()=>new Set)),o=F4(e),{label:l,children:c,value:u,onValueChange:h,filter:d,shouldFilter:f,loop:p,disablePointerSelection:m=!1,vimBindings:g=!0,...v}=e,y=Ie.useId(),b=Ie.useId(),x=Ie.useId(),w=Ie.useRef(null),_=H4();U4((()=>{if(void 0!==u){let e=u.trim();n.current.value=e,S.emit()}}),[u]),U4((()=>{_(6,P)}),[]);let S=Ie.useMemo((()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var i,a,s;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)C(),M(),_(1,A);else if("value"===e&&(r||_(5,P),void 0!==(null==(i=o.current)?void 0:i.value))){let e=null!=t?t:"";return void(null==(s=(a=o.current).onValueChange)||s.call(a,e))}S.emit()}},emit:()=>{s.current.forEach((e=>e()))}})),[]),T=Ie.useMemo((()=>({value:(e,t,r)=>{var i;t!==(null==(i=a.current.get(e))?void 0:i.value)&&(a.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,E(t,r)),_(2,(()=>{M(),S.emit()})))},item:(e,t)=>(r.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),_(3,(()=>{C(),M(),n.current.value||A(),S.emit()})),()=>{a.current.delete(e),r.current.delete(e),n.current.filtered.items.delete(e);let t=O();_(4,(()=>{C(),(null==t?void 0:t.getAttribute("id"))===e&&A(),S.emit()}))}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{a.current.delete(e),i.current.delete(e)}),filter:()=>o.current.shouldFilter,label:l||e["aria-label"],disablePointerSelection:m,listId:y,inputId:x,labelId:b,listInnerRef:w})),[]);function E(e,t){var r,i;let a=null!=(i=null==(r=o.current)?void 0:r.filter)?i:b4;return e?a(e,n.current.search,t):0}function M(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach((n=>{let r=i.current.get(n),a=0;r.forEach((t=>{let n=e.get(t);a=Math.max(n,a)})),t.push([n,a])}));let r=w.current;k().sort(((t,n)=>{var r,i;let a=t.getAttribute("id"),s=n.getAttribute("id");return(null!=(r=e.get(s))?r:0)-(null!=(i=e.get(a))?i:0)})).forEach((e=>{let t=e.closest(p4);t?t.appendChild(e.parentElement===t?e:e.closest(`${p4} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${p4} > *`))})),t.sort(((e,t)=>t[1]-e[1])).forEach((e=>{let t=w.current.querySelector(`${f4}[${y4}="${encodeURIComponent(e[0])}"]`);null==t||t.parentElement.appendChild(t)}))}function A(){let e=k().find((e=>"true"!==e.getAttribute("aria-disabled"))),t=null==e?void 0:e.getAttribute(y4);S.setState("value",t||void 0)}function C(){var e,t,s,l;if(!n.current.search||!1===o.current.shouldFilter)return void(n.current.filtered.count=r.current.size);n.current.filtered.groups=new Set;let c=0;for(let i of r.current){let r=E(null!=(t=null==(e=a.current.get(i))?void 0:e.value)?t:"",null!=(l=null==(s=a.current.get(i))?void 0:s.keywords)?l:[]);n.current.filtered.items.set(i,r),r>0&&c++}for(let[r,a]of i.current)for(let e of a)if(n.current.filtered.items.get(e)>0){n.current.filtered.groups.add(r);break}n.current.filtered.count=c}function P(){var e,t,n;let r=O();r&&((null==(e=r.parentElement)?void 0:e.firstChild)===r&&(null==(n=null==(t=r.closest(f4))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function O(){var e;return null==(e=w.current)?void 0:e.querySelector(`${m4}[aria-selected="true"]`)}function k(){var e;return Array.from(null==(e=w.current)?void 0:e.querySelectorAll(g4))}function R(e){let t=k()[e];t&&S.setState("value",t.getAttribute(y4))}function I(e){var t;let n=O(),r=k(),i=r.findIndex((e=>e===n)),a=r[i+e];null!=(t=o.current)&&t.loop&&(a=i+e<0?r[r.length-1]:i+e===r.length?r[0]:r[i+e]),a&&S.setState("value",a.getAttribute(y4))}function N(e){let t,n=O(),r=null==n?void 0:n.closest(f4);for(;r&&!t;)r=e>0?D4(r,f4):L4(r,f4),t=null==r?void 0:r.querySelector(g4);t?S.setState("value",t.getAttribute(y4)):I(e)}let D=()=>R(k().length-1),L=e=>{e.preventDefault(),e.metaKey?D():e.altKey?N(1):I(1)},F=e=>{e.preventDefault(),e.metaKey?R(0):e.altKey?N(-1):I(-1)};return Ie.createElement(i3.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=v.onKeyDown)||t.call(v,e),!e.defaultPrevented)switch(e.key){case"n":case"j":g&&e.ctrlKey&&L(e);break;case"ArrowDown":L(e);break;case"p":case"k":g&&e.ctrlKey&&F(e);break;case"ArrowUp":F(e);break;case"Home":e.preventDefault(),R(0);break;case"End":e.preventDefault(),D();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=O();if(t){let e=new Event(v4);t.dispatchEvent(e)}}}}},Ie.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:G4},l),W4(e,(e=>Ie.createElement(_4.Provider,{value:S},Ie.createElement(x4.Provider,{value:T},e)))))})),M4=Ie.forwardRef(((e,t)=>{var n,r;let i=Ie.useId(),a=Ie.useRef(null),s=Ie.useContext(T4),o=w4(),l=F4(e),c=null!=(r=null==(n=l.current)?void 0:n.forceMount)?r:null==s?void 0:s.forceMount;U4((()=>{if(!c)return o.item(i,null==s?void 0:s.id)}),[c]);let u=V4(i,a,[e.value,e.children,a],e.keywords),h=S4(),d=z4((e=>e.value&&e.value===u.current)),f=z4((e=>!(!c&&!1!==o.filter())||(!e.search||e.filtered.items.get(i)>0)));function p(){var e,t;m(),null==(t=(e=l.current).onSelect)||t.call(e,u.current)}function m(){h.setState("value",u.current,!0)}if(Ie.useEffect((()=>{let t=a.current;if(t&&!e.disabled)return t.addEventListener(v4,p),()=>t.removeEventListener(v4,p)}),[f,e.onSelect,e.disabled]),!f)return null;let{disabled:g,value:v,onSelect:y,forceMount:b,keywords:x,...w}=e;return Ie.createElement(i3.div,{ref:B4([a,t]),...w,id:i,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!d,"data-disabled":!!g,"data-selected":!!d,onPointerMove:g||o.disablePointerSelection?void 0:m,onClick:g?void 0:p},e.children)})),A4=Ie.forwardRef(((e,t)=>{let{heading:n,children:r,forceMount:i,...a}=e,s=Ie.useId(),o=Ie.useRef(null),l=Ie.useRef(null),c=Ie.useId(),u=w4(),h=z4((e=>!(!i&&!1!==u.filter())||(!e.search||e.filtered.groups.has(s))));U4((()=>u.group(s)),[]),V4(s,o,[e.value,e.heading,l]);let d=Ie.useMemo((()=>({id:s,forceMount:i})),[i]);return Ie.createElement(i3.div,{ref:B4([o,t]),...a,"cmdk-group":"",role:"presentation",hidden:!h||void 0},n&&Ie.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),W4(e,(e=>Ie.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},Ie.createElement(T4.Provider,{value:d},e)))))})),C4=Ie.forwardRef(((e,t)=>{let{alwaysRender:n,...r}=e,i=Ie.useRef(null),a=z4((e=>!e.search));return n||a?Ie.createElement(i3.div,{ref:B4([i,t]),...r,"cmdk-separator":"",role:"separator"}):null})),P4=Ie.forwardRef(((e,t)=>{let{onValueChange:n,...r}=e,i=null!=e.value,a=S4(),s=z4((e=>e.search)),o=z4((e=>e.value)),l=w4(),c=Ie.useMemo((()=>{var e;let t=null==(e=l.listInnerRef.current)?void 0:e.querySelector(`${m4}[${y4}="${encodeURIComponent(o)}"]`);return null==t?void 0:t.getAttribute("id")}),[]);return Ie.useEffect((()=>{null!=e.value&&a.setState("search",e.value)}),[e.value]),Ie.createElement(i3.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:i?e.value:s,onChange:e=>{i||a.setState("search",e.target.value),null==n||n(e.target.value)}})})),O4=Ie.forwardRef(((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,a=Ie.useRef(null),s=Ie.useRef(null),o=w4();return Ie.useEffect((()=>{if(s.current&&a.current){let e,t=s.current,n=a.current,r=new ResizeObserver((()=>{e=requestAnimationFrame((()=>{let e=t.offsetHeight;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")}))}));return r.observe(t),()=>{cancelAnimationFrame(e),r.unobserve(t)}}}),[]),Ie.createElement(i3.div,{ref:B4([a,t]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:o.listId},W4(e,(e=>Ie.createElement("div",{ref:B4([s,o.listInnerRef]),"cmdk-list-sizer":""},e))))})),k4=Ie.forwardRef(((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:a,container:s,...o}=e;return Ie.createElement(c4,{open:n,onOpenChange:r},Ie.createElement(u4,{container:s},Ie.createElement(h4,{"cmdk-overlay":"",className:i}),Ie.createElement(d4,{"aria-label":e.label,"cmdk-dialog":"",className:a},Ie.createElement(E4,{ref:t,...o}))))})),R4=Ie.forwardRef(((e,t)=>z4((e=>0===e.filtered.count))?Ie.createElement(i3.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null)),I4=Ie.forwardRef(((e,t)=>{let{progress:n,children:r,label:i="Loading...",...a}=e;return Ie.createElement(i3.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},W4(e,(e=>Ie.createElement("div",{"aria-hidden":!0},e))))})),N4=Object.assign(E4,{List:O4,Item:M4,Input:P4,Group:A4,Separator:C4,Dialog:k4,Empty:R4,Loading:I4});function D4(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function L4(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function F4(e){let t=Ie.useRef(e);return U4((()=>{t.current=e})),t}var U4="undefined"==typeof window?Ie.useEffect:Ie.useLayoutEffect;function j4(e){let t=Ie.useRef();return void 0===t.current&&(t.current=e()),t}function B4(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function z4(e){let t=S4(),n=()=>e(t.snapshot());return Ie.useSyncExternalStore(t.subscribe,n,n)}function V4(e,t,n,r=[]){let i=Ie.useRef(),a=w4();return U4((()=>{var s;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():i.current}})(),l=r.map((e=>e.trim()));a.value(e,o,l),null==(s=t.current)||s.setAttribute(y4,o),i.current=o})),i}var H4=()=>{let[e,t]=Ie.useState(),n=j4((()=>new Map));return U4((()=>{n.current.forEach((e=>e())),n.current=new Map}),[e]),(e,r)=>{n.current.set(e,r),t({})}};function W4({asChild:e,children:t},n){return e&&Ie.isValidElement(t)?Ie.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},n(t.props.children)):n(t)}var G4={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const $4=Oe,X4=Ie.forwardRef((({className:e,...t},n)=>q.jsx(Ee,{ref:n,className:er("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));X4.displayName=Ee.displayName;Ie.forwardRef((({className:e,children:t,...n},r)=>q.jsxs($4,{children:[q.jsx(X4,{}),q.jsxs(Me,{ref:r,className:er("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,q.jsxs(Ae,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[q.jsx(on,{className:"h-4 w-4"}),q.jsx("span",{className:"sr-only",children:"Close"})]})]})]}))).displayName=Me.displayName;Ie.forwardRef((({className:e,...t},n)=>q.jsx(Ce,{ref:n,className:er("text-lg font-semibold leading-none tracking-tight",e),...t}))).displayName=Ce.displayName;Ie.forwardRef((({className:e,...t},n)=>q.jsx(Pe,{ref:n,className:er("text-sm text-muted-foreground",e),...t}))).displayName=Pe.displayName;const q4=Ie.forwardRef((({className:e,...t},n)=>q.jsx(N4,{ref:n,className:er("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t})));q4.displayName=N4.displayName;const Y4=Ie.forwardRef((({className:e,...t},n)=>q.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[q.jsx(nn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),q.jsx(N4.Input,{ref:n,className:er("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})));Y4.displayName=N4.Input.displayName;const K4=Ie.forwardRef((({className:e,...t},n)=>q.jsx(N4.List,{ref:n,className:er("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t})));K4.displayName=N4.List.displayName;const J4=Ie.forwardRef(((e,t)=>q.jsx(N4.Empty,{ref:t,className:"py-6 text-center text-sm",...e})));J4.displayName=N4.Empty.displayName;Ie.forwardRef((({className:e,...t},n)=>q.jsx(N4.Group,{ref:n,className:er("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}))).displayName=N4.Group.displayName;Ie.forwardRef((({className:e,...t},n)=>q.jsx(N4.Separator,{ref:n,className:er("-mx-1 h-px bg-border",e),...t}))).displayName=N4.Separator.displayName;const Z4=Ie.forwardRef((({className:e,...t},n)=>q.jsx(N4.Item,{ref:n,className:er("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t})));Z4.displayName=N4.Item.displayName;const Q4=Gt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),e5=Ie.forwardRef((({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const s=r?ke:"button";return q.jsx(s,{className:er(Q4({variant:t,size:n,className:e})),ref:a,...i})}));e5.displayName="Button";const t5=({onSubmit:e,onBack:t})=>{const[n,r]=Ie.useState({name:"",email:"",area:"",mainSkill:"",level:"Jnior",disponivel_compartilhamento:!1,percentual_compartilhamento:null,gestor_area:"",gestor_direto:""}),[i,a]=Ie.useState(!1),[s,o]=Ie.useState([]),[l,c]=Ie.useState([]),[u,h]=Ie.useState(""),[d,f]=Ie.useState(!1),[p,m]=Ie.useState(""),[g,v]=Ie.useState("cargo");Ie.useEffect((()=>{sW.from("skills").select("*").then((({data:e})=>{e&&o(e)}))}),[]);return i?q.jsx(Nd.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"fixed inset-0 flex items-center justify-center z-50",children:q.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-2xl p-8 border border-white/20 text-center",children:[q.jsx(Nd.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:q.jsx(Zt,{className:"h-8 w-8 text-white"})}),q.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Profissional Cadastrado!"}),q.jsx("p",{className:"text-slate-300",children:"Redirecionando para o dashboard..."})]})}):q.jsx(Nd.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"max-w-2xl mx-auto",children:q.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[q.jsxs("div",{className:"flex items-center mb-8",children:[q.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors mr-4",children:q.jsx(Kt,{className:"h-6 w-6 text-white"})}),q.jsx("h2",{className:"text-3xl font-bold text-white",children:"Cadastro Manual"})]}),q.jsxs("form",{onSubmit:r=>{if(r.preventDefault(),!(n.name&&n.email&&n.mainSkill&&n.gestor_area&&n.gestor_direto))return void alert("Por favor, preencha todos os campos obrigatrios");const i={email:n.email,nome_completo:n.name,area_atuacao:n.area,skill_principal:n.mainSkill,nivel_experiencia:n.level,hora_ultima_modificacao:(new Date).toISOString(),regime:"CLT",local_alocacao:null,proficiencia_cargo:null,java:null,javascript:null,python:null,typescript:null,php:null,dotnet:null,react:null,angular:null,ionic:null,flutter:null,mysql:null,postgres:null,oracle_db:null,sql_server:null,mongodb:null,aws:null,azure:null,gcp:null,outras_tecnologias:l.map((e=>`${e.nome} (${e.tipo})`)).join(", "),android:null,cobol:null,linguagem_r:null,linguagem_c:null,linguagem_cpp:null,windows:null,raspberry_pi:null,arduino:null,disponivel_compartilhamento:n.disponivel_compartilhamento,percentual_compartilhamento:n.disponivel_compartilhamento?n.percentual_compartilhamento:null,gestor_area:n.gestor_area,gestor_direto:n.gestor_direto,gerencia_projetos:null,administracao_projetos:null,analise_requisitos:null},s=N2[n.mainSkill];s&&s in i&&(i[s]=n.level),e(i),a(!0),setTimeout((()=>{a(!1),t()}),2e3)},className:"space-y-6",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nome Completo *"}),q.jsx("input",{type:"text",value:n.name,onChange:e=>r({...n,name:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Digite o nome completo",required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"E-mail *"}),q.jsx("input",{type:"email",value:n.email,onChange:e=>r({...n,email:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"exemplo@email.com",required:!0})]}),q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{className:"flex items-center space-x-2",children:[q.jsx("input",{type:"checkbox",id:"disponivel_compartilhamento",checked:n.disponivel_compartilhamento,onChange:e=>r({...n,disponivel_compartilhamento:e.target.checked}),className:"w-4 h-4 rounded border-white/20 bg-white/5 text-blue-500 focus:ring-blue-500 focus:ring-offset-0"}),q.jsx("label",{htmlFor:"disponivel_compartilhamento",className:"text-sm font-medium text-slate-300",children:"Disponvel para Compartilhamento"})]}),n.disponivel_compartilhamento&&q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Percentual de Compartilhamento"}),q.jsxs("select",{value:n.percentual_compartilhamento||"",onChange:e=>r({...n,percentual_compartilhamento:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:n.disponivel_compartilhamento,children:[q.jsx("option",{value:"",className:"bg-slate-800",children:"Selecione o percentual"}),q.jsx("option",{value:"100",className:"bg-slate-800",children:"100%"}),q.jsx("option",{value:"75",className:"bg-slate-800",children:"75%"}),q.jsx("option",{value:"50",className:"bg-slate-800",children:"50%"}),q.jsx("option",{value:"25",className:"bg-slate-800",children:"25%"})]})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"rea de Atuao"}),q.jsxs("select",{value:n.area,onChange:e=>r({...n,area:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[q.jsx("option",{value:"",className:"bg-slate-800",children:"Selecione uma rea"}),R2.map((e=>q.jsx("option",{value:e,className:"bg-slate-800",children:e},e)))]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Gestor da rea *"}),q.jsx("input",{type:"text",value:n.gestor_area,onChange:e=>r({...n,gestor_area:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Gestor Direto *"}),q.jsx("input",{type:"text",value:n.gestor_direto,onChange:e=>r({...n,gestor_direto:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Linguagem Principal *"}),q.jsxs("select",{value:n.mainSkill,onChange:e=>r({...n,mainSkill:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[q.jsx("option",{value:"",className:"bg-slate-800",children:"Selecione a linguagem principal"}),I2.map((e=>q.jsx("option",{value:e,className:"bg-slate-800",children:e},e)))]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nvel de Experincia"}),q.jsxs("select",{value:n.level,onChange:e=>r({...n,level:e.target.value}),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[q.jsx("option",{value:"Jnior",className:"bg-slate-800",children:"Jnior"}),q.jsx("option",{value:"Pleno",className:"bg-slate-800",children:"Pleno"}),q.jsx("option",{value:"Snior",className:"bg-slate-800",children:"Snior"})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Skills/Cargos"}),q.jsxs(q4,{children:[q.jsx(Y4,{placeholder:"Buscar skill/cargo...",value:u,onValueChange:h}),q.jsxs(K4,{children:[s.filter((e=>e.nome.toLowerCase().includes(u.toLowerCase()))).map((e=>q.jsxs(Z4,{onSelect:()=>(e=>{l.find((t=>t.id===e.id))||c([...l,e])})(e),className:l.find((t=>t.id===e.id))?"bg-blue-100":"",children:[e.nome," ",q.jsxs("span",{className:"ml-2 text-xs text-slate-400",children:["(",e.tipo,")"]})]},e.id))),q.jsxs(J4,{children:["Nenhum skill/cargo encontrado.",q.jsx("br",{}),q.jsx(e5,{type:"button",size:"sm",onClick:()=>f(!0),className:"mt-2",children:"Adicionar novo"})]})]})]}),q.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map((e=>q.jsxs("span",{className:"bg-blue-600 text-white px-2 py-1 rounded flex items-center",children:[e.nome," ",q.jsxs("span",{className:"ml-1 text-xs",children:["(",e.tipo,")"]}),q.jsx("button",{type:"button",className:"ml-1",onClick:()=>{return t=e.id,void c(l.filter((e=>e.id!==t)));var t},children:q.jsx(on,{size:14})})]},e.id)))}),d&&q.jsxs("div",{className:"mt-2 bg-white/10 p-4 rounded-lg",children:[q.jsx("input",{type:"text",placeholder:"Nome do skill/cargo",value:p,onChange:e=>m(e.target.value),className:"w-full p-2 rounded mb-2"}),q.jsx("select",{value:g,onChange:e=>v(e.target.value),className:"w-full p-2 rounded mb-2",children:["cargo","linguagem","framework","cloud","banco","bi","devops","ciberseguranca","ia","blockchain"].map((e=>q.jsx("option",{value:e,children:e},e)))}),q.jsx(e5,{type:"button",onClick:async()=>{if(!p)return;const{data:e,error:t}=await sW.from("skills").insert([{nome:p,tipo:g}]).select();e&&e[0]?(o([...s,e[0]]),c([...l,e[0]]),f(!1),m(""),v("cargo")):alert("Erro ao adicionar skill")},children:"Adicionar"}),q.jsx(e5,{type:"button",variant:"ghost",onClick:()=>f(!1),className:"ml-2",children:"Cancelar"})]})]}),q.jsx(Nd.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-4 px-8 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:"Cadastrar Profissional"})]})]})})},n5=({onImport:e,onBack:t})=>{const[n,r]=Ie.useState(!1),[i,a]=Ie.useState([]),[s,o]=Ie.useState(!1),[l,c]=Ie.useState(""),[u,h]=Ie.useState(!1),d=Ie.useCallback((e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?r(!0):"dragleave"===e.type&&r(!1)}),[]),f=Ie.useCallback((e=>{e.preventDefault(),e.stopPropagation(),r(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&p(e.dataTransfer.files[0])}),[]),p=e=>{if(c(""),!e.name.endsWith(".xlsx"))return void c("Por favor, selecione um arquivo .xlsx vlido");const t=new FileReader;t.onload=e=>{var t;try{const n=h2(new Uint8Array(null==(t=e.target)?void 0:t.result),{type:"array"}),r=n.SheetNames[0],i=n.Sheets[r],s=P2.sheet_to_json(i);if(0===s.length)return void c("O arquivo Excel est vazio");const l=["Nome Completo","Email","rea de Atuao","Skill Principal","Nvel de Experincia"],u=s[0],h=Object.keys(u),d=l.filter((e=>!h.includes(e)));if(d.length>0){const e=`Colunas obrigatrias faltando: ${d.join(", ")}`;return void c(e)}a(s),o(!0)}catch(she){c("Erro ao processar o arquivo Excel: "+she.message)}},t.onerror=()=>{c("No foi possvel ler o arquivo.")},t.readAsArrayBuffer(e)},m=async()=>{const{data:n,error:r}=await sW.from("skills").select("id, nome, tipo");if(r)return void c("No foi possvel carregar as skills existentes para a importao.");const a=await Promise.all(i.map((async e=>{var t;const r=(e["Outras Skills"]||"").split(",").map((e=>e.trim())).filter(Boolean),i=[];for(const a of r){let e=null==n?void 0:n.find((e=>e.nome.toLowerCase()===a.toLowerCase()));if(!e){const{data:t,error:r}=await sW.from("skills").insert([{nome:a,tipo:"cargo"}]).select();if(r)continue;if(t&&t[0]){const r=t[0];null==n||n.push(r),e=r}}e&&i.push({nome:e.nome,tipo:e.tipo})}return{nome_completo:e["Nome Completo"]||"",email:e.Email||"",area_atuacao:e["rea de Atuao"]||null,skill_principal:e["Skill Principal"]||null,nivel_experiencia:e["Nvel de Experincia"]||null,gestor_area:e["Gestor da rea"]||"",gestor_direto:e["Gestor Direto"]||"",outras_tecnologias:i.map((e=>`${e.nome} (${e.tipo})`)).join(", "),hora_ultima_modificacao:(new Date).toISOString(),disponivel_compartilhamento:"sim"===(null==(t=e["Disponvel para Compartilhamento"])?void 0:t.toLowerCase()),percentual_compartilhamento:e["Percentual de Compartilhamento"]||null,regime:null,local_alocacao:null,proficiencia_cargo:null,java:null,javascript:null,python:null,typescript:null,php:null,dotnet:null,react:null,angular:null,ionic:null,flutter:null,mysql:null,postgres:null,oracle_db:null,sql_server:null,mongodb:null,aws:null,azure:null,gcp:null,gerencia_projetos:null,administracao_projetos:null,analise_requisitos:null,android:null,cobol:null,linguagem_r:null,linguagem_c:null,linguagem_cpp:null,windows:null,raspberry_pi:null,arduino:null}})));e(a),h(!0),setTimeout((()=>{h(!1),t()}),2e3)};return u?q.jsx(Nd.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:q.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-2xl p-8 border border-white/20 text-center",children:[q.jsx(Nd.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:q.jsx(Zt,{className:"h-8 w-8 text-white"})}),q.jsxs("h3",{className:"text-2xl font-bold text-white mb-2",children:[i.length," Profissionais Importados!"]}),q.jsx("p",{className:"text-slate-300",children:"Redirecionando para o dashboard..."})]})}):s?q.jsx(Nd.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-8",children:q.jsx("div",{className:"max-w-6xl mx-auto",children:q.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[q.jsxs("div",{className:"flex items-center justify-between mb-6",children:[q.jsxs("div",{className:"flex items-center",children:[q.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors mr-4",children:q.jsx(Kt,{className:"h-6 w-6 text-white"})}),q.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Prvia dos Dados (",i.length," profissionais)"]})]}),q.jsx(Nd.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300",children:"Confirmar Importao"})]}),q.jsx("div",{className:"overflow-auto max-h-96",children:q.jsxs("table",{className:"w-full text-sm",children:[q.jsx("thead",{className:"sticky top-0 bg-slate-800/80 backdrop-blur-sm",children:q.jsx("tr",{className:"border-b border-white/20",children:i.length>0&&Object.keys(i[0]).map((e=>q.jsx("th",{className:"text-left p-3 text-slate-300",children:e},e)))})}),q.jsx("tbody",{children:i.slice(0,100).map(((e,t)=>q.jsx("tr",{className:"border-b border-white/10 hover:bg-white/5",children:Object.keys(e).map((t=>q.jsx("td",{className:"p-3 text-white",children:String(e[t]??"")},t)))},t)))})]})}),i.length>100&&q.jsxs("p",{className:"text-slate-400 text-center mt-4",children:["...e mais ",i.length-100," profissionais"]})]})})}):q.jsx(Nd.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-8",children:q.jsxs("div",{className:"max-w-4xl mx-auto",children:[q.jsxs("button",{onClick:t,className:"flex items-center text-slate-300 hover:text-white mb-8",children:[q.jsx(Kt,{className:"h-5 w-5 mr-2"}),"Voltar"]}),q.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Importar Profissionais"}),q.jsx("p",{className:"text-slate-400 mb-8",children:"Faa o upload de um arquivo .xlsx para adicionar mltiplos profissionais de uma vez."}),q.jsxs("div",{onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,className:"border-2 border-dashed rounded-2xl p-8 text-center transition-colors duration-300 "+(n?"border-blue-500 bg-blue-500/10":"border-slate-600 hover:border-slate-500"),children:[q.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:".xlsx",onChange:e=>{e.target.files&&e.target.files[0]&&p(e.target.files[0])}}),q.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[q.jsx(tn,{className:"h-16 w-16 mx-auto text-slate-400 mb-4"}),q.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:n?"Solte o arquivo aqui":"Arraste e solte ou clique para enviar"}),q.jsx("p",{className:"text-slate-500",children:"Apenas arquivos .xlsx so permitidos"})]})]}),l&&q.jsxs(Nd.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 bg-red-500/20 border border-red-500/50 text-red-300 p-4 rounded-lg flex items-center",children:[q.jsx(Qt,{className:"h-5 w-5 mr-3"}),q.jsx("span",{children:l})]}),q.jsx("div",{className:"mt-8 text-center",children:q.jsxs("button",{onClick:()=>{const e=P2.json_to_sheet([{"Nome Completo":"Joo Silva",Email:"joao.silva@exemplo.com","rea de Atuao":"Desenvolvimento Frontend","Skill Principal":"React","Nvel de Experincia":"Pleno","Gestor da rea":"Maria Gerente","Gestor Direto":"Carlos Supervisor","Disponvel para Compartilhamento":"Sim","Percentual de Compartilhamento":"75","Outras Skills":"JavaScript, TypeScript, HTML, CSS"}]),t=P2.book_new();P2.book_append_sheet(t,e,"Profissionais"),v2(t,"modelo_importacao_profissionais.xlsx")},className:"inline-flex items-center text-blue-400 hover:text-blue-300 transition-colors",children:[q.jsx(en,{className:"h-5 w-5 mr-2"}),"Baixar modelo de planilha"]})})]})})},r5="176",i5=0,a5=1,s5=2,o5=100,l5=101,c5=102,u5=200,h5=201,d5=202,f5=203,p5=204,m5=205,g5=206,v5=207,y5=208,b5=209,x5=210,w5=211,_5=212,S5=213,T5=214,E5=0,M5=1,A5=2,C5=3,P5=4,O5=5,k5=6,R5=7,I5="attached",N5="detached",D5=300,L5=301,F5=302,U5=303,j5=304,B5=306,z5=1e3,V5=1001,H5=1002,W5=1003,G5=1004,$5=1005,X5=1006,q5=1007,Y5=1008,K5=1009,J5=1010,Z5=1011,Q5=1012,e6=1013,t6=1014,n6=1015,r6=1016,i6=1017,a6=1018,s6=1020,o6=35902,l6=1021,c6=1022,u6=1023,h6=1026,d6=1027,f6=1028,p6=1029,m6=1030,g6=1031,v6=1033,y6=33776,b6=33777,x6=33778,w6=33779,_6=35840,S6=35841,T6=35842,E6=35843,M6=36196,A6=37492,C6=37496,P6=37808,O6=37809,k6=37810,R6=37811,I6=37812,N6=37813,D6=37814,L6=37815,F6=37816,U6=37817,j6=37818,B6=37819,z6=37820,V6=37821,H6=36492,W6=36494,G6=36495,$6=36283,X6=36284,q6=36285,Y6=36286,K6=2300,J6=2301,Z6=2302,Q6=2400,e8=2401,t8=2402,n8=2500,r8=2501,i8="",a8="srgb",s8="srgb-linear",o8="linear",l8="srgb",c8=7680,u8=512,h8=513,d8=514,f8=515,p8=516,m8=517,g8=518,v8=519,y8=35044,b8=35048,x8="300 es",w8=2e3,_8=2001;class S8{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&(void 0!==n[e]&&-1!==n[e].indexOf(t))}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const T8=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let E8=1234567;const M8=Math.PI/180,A8=180/Math.PI;function C8(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(T8[255&e]+T8[e>>8&255]+T8[e>>16&255]+T8[e>>24&255]+"-"+T8[255&t]+T8[t>>8&255]+"-"+T8[t>>16&15|64]+T8[t>>24&255]+"-"+T8[63&n|128]+T8[n>>8&255]+"-"+T8[n>>16&255]+T8[n>>24&255]+T8[255&r]+T8[r>>8&255]+T8[r>>16&255]+T8[r>>24&255]).toLowerCase()}function P8(e,t,n){return Math.max(t,Math.min(n,e))}function O8(e,t){return(e%t+t)%t}function k8(e,t,n){return(1-n)*e+n*t}function R8(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function I8(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const N8={DEG2RAD:M8,RAD2DEG:A8,generateUUID:C8,clamp:P8,euclideanModulo:O8,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:k8,damp:function(e,t,n,r){return k8(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(O8(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(E8=e);let t=E8+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*M8},radToDeg:function(e){return e*A8},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),c=a((t+r)/2),u=s((t+r)/2),h=a((t-r)/2),d=s((t-r)/2),f=a((r-t)/2),p=s((r-t)/2);switch(i){case"XYX":e.set(o*u,l*h,l*d,o*c);break;case"YZY":e.set(l*d,o*u,l*h,o*c);break;case"ZXZ":e.set(l*h,l*d,o*u,o*c);break;case"XZX":e.set(o*u,l*p,l*f,o*c);break;case"YXY":e.set(l*f,o*u,l*p,o*c);break;case"ZYZ":e.set(l*p,l*f,o*u,o*c)}},normalize:I8,denormalize:R8};class D8{constructor(e=0,t=0){D8.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=P8(this.x,e.x,t.x),this.y=P8(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=P8(this.x,e,t),this.y=P8(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(P8(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(P8(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class L8{constructor(e,t,n,r,i,a,s,o,l){L8.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,s,o,l)}set(e,t,n,r,i,a,s,o,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=s,c[3]=t,c[4]=i,c[5]=o,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],s=n[3],o=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],w=r[5],_=r[8];return i[0]=a*p+s*v+o*x,i[3]=a*m+s*y+o*w,i[6]=a*g+s*b+o*_,i[1]=l*p+c*v+u*x,i[4]=l*m+c*y+u*w,i[7]=l*g+c*b+u*_,i[2]=h*p+d*v+f*x,i[5]=h*m+d*y+f*w,i[8]=h*g+d*b+f*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],l=e[7],c=e[8];return t*a*c-t*s*l-n*i*c+n*s*o+r*i*l-r*a*o}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],l=e[7],c=e[8],u=c*a-s*l,h=s*o-c*i,d=l*i-a*o,f=t*u+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(s*n-r*a)*p,e[3]=h*p,e[4]=(c*t-r*o)*p,e[5]=(r*i-s*t)*p,e[6]=d*p,e[7]=(n*o-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,s){const o=Math.cos(i),l=Math.sin(i);return this.set(n*o,n*l,-n*(o*a+l*s)+a+e,-r*l,r*o,-r*(-l*a+o*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(F8.makeScale(e,t)),this}rotate(e){return this.premultiply(F8.makeRotation(-e)),this}translate(e,t){return this.premultiply(F8.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const F8=new L8;function U8(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const j8={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function B8(e,t){return new j8[e](t)}function z8(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function V8(){const e=z8("canvas");return e.style.display="block",e}const H8={};function W8(e){e in H8||(H8[e]=!0)}const G8=(new L8).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),$8=(new L8).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function X8(){const e={enabled:!0,workingColorSpace:s8,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===l8&&(e.r=Y8(e.r),e.g=Y8(e.g),e.b=Y8(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===l8&&(e.r=K8(e.r),e.g=K8(e.g),e.b=K8(e.b)),e):e},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===i8?o8:this.spaces[e].transfer},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[s8]:{primaries:t,whitePoint:r,transfer:o8,toXYZ:G8,fromXYZ:$8,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:a8},outputColorSpaceConfig:{drawingBufferColorSpace:a8}},[a8]:{primaries:t,whitePoint:r,transfer:l8,toXYZ:G8,fromXYZ:$8,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:a8}}}),e}const q8=X8();function Y8(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function K8(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let J8;class Z8{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{void 0===J8&&(J8=z8("canvas")),J8.width=e.width,J8.height=e.height;const t=J8.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),n=J8}return n.toDataURL(t)}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=z8("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Y8(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Y8(t[e]/255)):t[e]=Y8(t[e]);return{data:t,width:e.width,height:e.height}}return e}}let Q8=0;class e7{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Q8++}),this.uuid=C8(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(t7(r[t].image)):e.push(t7(r[t]))}else e=t7(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function t7(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Z8.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}let n7=0;class r7 extends S8{constructor(e=r7.DEFAULT_IMAGE,t=r7.DEFAULT_MAPPING,n=1001,r=1001,i=1006,a=1008,s=1023,o=1009,l=r7.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:n7++}),this.uuid=C8(),this.name="",this.source=new e7(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=o,this.offset=new D8(0,0),this.repeat=new D8(1,1),this.center=new D8(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new L8,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==D5)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case z5:e.x=e.x-Math.floor(e.x);break;case V5:e.x=e.x<0?0:1;break;case H5:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case z5:e.y=e.y-Math.floor(e.y);break;case V5:e.y=e.y<0?0:1;break;case H5:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}r7.DEFAULT_IMAGE=null,r7.DEFAULT_MAPPING=D5,r7.DEFAULT_ANISOTROPY=1;class i7{constructor(e=0,t=0,n=0,r=1){i7.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,s=.1,o=e.elements,l=o[0],c=o[4],u=o[8],h=o[1],d=o[5],f=o[9],p=o[2],m=o[6],g=o[10];if(Math.abs(c-h)<a&&Math.abs(u-p)<a&&Math.abs(f-m)<a){if(Math.abs(c+h)<s&&Math.abs(u+p)<s&&Math.abs(f+m)<s&&Math.abs(l+d+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,o=(d+1)/2,v=(g+1)/2,y=(c+h)/4,b=(u+p)/4,x=(f+m)/4;return e>o&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):o>v?o<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=y/r,i=x/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=P8(this.x,e.x,t.x),this.y=P8(this.y,e.y,t.y),this.z=P8(this.z,e.z,t.z),this.w=P8(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=P8(this.x,e,t),this.y=P8(this.y,e,t),this.z=P8(this.z,e,t),this.w=P8(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(P8(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class a7 extends S8{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth?n.depth:1,this.scissor=new i7(0,0,e,t),this.scissorTest=!1,this.viewport=new i7(0,0,e,t);const r={width:e,height:t,depth:this.depth};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:X5,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},n);const i=new r7(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let s=0;s<a;s++)this.textures[s]=i.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new e7(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class s7 extends a7{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class o7 extends r7{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=W5,this.minFilter=W5,this.wrapR=V5,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class l7 extends r7{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=W5,this.minFilter=W5,this.wrapR=V5,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class c7{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,s){let o=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===s)return e[t+0]=o,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===s)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(u!==p||o!==h||l!==d||c!==f){let e=1-s;const t=o*h+l*d+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,s=Math.sin(s*a)/i}const i=s*n;if(o=o*e+h*i,l=l*e+d*i,c=c*e+f*i,u=u*e+p*i,e===1-s){const e=1/Math.sqrt(o*o+l*l+c*c+u*u);o*=e,l*=e,c*=e,u*=e}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){const s=n[r],o=n[r+1],l=n[r+2],c=n[r+3],u=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=s*f+c*u+o*d-l*h,e[t+1]=o*f+c*h+l*u-s*d,e[t+2]=l*f+c*d+s*h-o*u,e[t+3]=c*f-s*u-o*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,i=e._z,a=e._order,s=Math.cos,o=Math.sin,l=s(n/2),c=s(r/2),u=s(i/2),h=o(n/2),d=o(r/2),f=o(i/2);switch(a){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],s=t[5],o=t[9],l=t[2],c=t[6],u=t[10],h=n+s+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-o)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>s&&n>u){const e=2*Math.sqrt(1+n-s-u);this._w=(c-o)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(s>u){const e=2*Math.sqrt(1+s-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(o+c)/e}else{const e=2*Math.sqrt(1+u-n-s);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(o+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(P8(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,s=t._x,o=t._y,l=t._z,c=t._w;return this._x=n*c+a*s+r*l-i*o,this._y=r*c+a*o+i*s-n*l,this._z=i*c+a*l+n*o-r*s,this._w=a*c-n*s-r*o-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let s=a*e._w+n*e._x+r*e._y+i*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const o=1-s*s;if(o<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(o),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class u7{constructor(e=0,t=0,n=0){u7.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(d7.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(d7.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,s=e.z,o=e.w,l=2*(a*r-s*n),c=2*(s*t-i*r),u=2*(i*n-a*t);return this.x=t+o*l+a*u-s*c,this.y=n+o*c+s*l-i*u,this.z=r+o*u+i*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=P8(this.x,e.x,t.x),this.y=P8(this.y,e.y,t.y),this.z=P8(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=P8(this.x,e,t),this.y=P8(this.y,e,t),this.z=P8(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(P8(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,s=t.y,o=t.z;return this.x=r*o-i*s,this.y=i*a-n*o,this.z=n*s-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return h7.copy(this).projectOnVector(e),this.sub(h7)}reflect(e){return this.sub(h7.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(P8(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const h7=new u7,d7=new c7;class f7{constructor(e=new u7(1/0,1/0,1/0),t=new u7(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(m7.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(m7.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=m7.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,m7):m7.fromBufferAttribute(r,t),m7.applyMatrix4(e.matrixWorld),this.expandByPoint(m7);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),g7.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),g7.copy(n.boundingBox)),g7.applyMatrix4(e.matrixWorld),this.union(g7)}const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,m7),m7.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(S7),T7.subVectors(this.max,S7),v7.subVectors(e.a,S7),y7.subVectors(e.b,S7),b7.subVectors(e.c,S7),x7.subVectors(y7,v7),w7.subVectors(b7,y7),_7.subVectors(v7,b7);let t=[0,-x7.z,x7.y,0,-w7.z,w7.y,0,-_7.z,_7.y,x7.z,0,-x7.x,w7.z,0,-w7.x,_7.z,0,-_7.x,-x7.y,x7.x,0,-w7.y,w7.x,0,-_7.y,_7.x,0];return!!A7(t,v7,y7,b7,T7)&&(t=[1,0,0,0,1,0,0,0,1],!!A7(t,v7,y7,b7,T7)&&(E7.crossVectors(x7,w7),t=[E7.x,E7.y,E7.z],A7(t,v7,y7,b7,T7)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,m7).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(m7).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(p7[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),p7[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),p7[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),p7[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),p7[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),p7[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),p7[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),p7[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(p7)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const p7=[new u7,new u7,new u7,new u7,new u7,new u7,new u7,new u7],m7=new u7,g7=new f7,v7=new u7,y7=new u7,b7=new u7,x7=new u7,w7=new u7,_7=new u7,S7=new u7,T7=new u7,E7=new u7,M7=new u7;function A7(e,t,n,r,i){for(let a=0,s=e.length-3;a<=s;a+=3){M7.fromArray(e,a);const s=i.x*Math.abs(M7.x)+i.y*Math.abs(M7.y)+i.z*Math.abs(M7.z),o=t.dot(M7),l=n.dot(M7),c=r.dot(M7);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>s)return!1}return!0}const C7=new f7,P7=new u7,O7=new u7;class k7{constructor(e=new u7,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):C7.setFromPoints(e).getCenter(n);let r=0;for(let i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;P7.subVectors(e,this.center);const t=P7.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(P7,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(O7.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(P7.copy(e.center).add(O7)),this.expandByPoint(P7.copy(e.center).sub(O7))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const R7=new u7,I7=new u7,N7=new u7,D7=new u7,L7=new u7,F7=new u7,U7=new u7;class j7{constructor(e=new u7,t=new u7(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,R7)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=R7.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(R7.copy(this.origin).addScaledVector(this.direction,t),R7.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){I7.copy(e).add(t).multiplyScalar(.5),N7.copy(t).sub(e).normalize(),D7.copy(this.origin).sub(I7);const i=.5*e.distanceTo(t),a=-this.direction.dot(N7),s=D7.dot(this.direction),o=-D7.dot(N7),l=D7.lengthSq(),c=Math.abs(1-a*a);let u,h,d,f;if(c>0)if(u=a*o-s,h=a*s-o,f=i*c,u>=0)if(h>=-f)if(h<=f){const e=1/c;u*=e,h*=e,d=u*(u+a*h+2*s)+h*(a*u+h+2*o)+l}else h=i,u=Math.max(0,-(a*h+s)),d=-u*u+h*(h+2*o)+l;else h=-i,u=Math.max(0,-(a*h+s)),d=-u*u+h*(h+2*o)+l;else h<=-f?(u=Math.max(0,-(-a*i+s)),h=u>0?-i:Math.min(Math.max(-i,-o),i),d=-u*u+h*(h+2*o)+l):h<=f?(u=0,h=Math.min(Math.max(-i,-o),i),d=h*(h+2*o)+l):(u=Math.max(0,-(a*i+s)),h=u>0?i:Math.min(Math.max(-i,-o),i),d=-u*u+h*(h+2*o)+l);else h=a>0?-i:i,u=Math.max(0,-(a*h+s)),d=-u*u+h*(h+2*o)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(I7).addScaledVector(N7,h),d}intersectSphere(e,t){R7.subVectors(e.center,this.origin);const n=R7.dot(this.direction),r=R7.dot(R7)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),s=n-a,o=n+a;return o<0?null:s<0?this.at(o,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,s,o;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,a=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,a=(e.min.y-h.y)*c),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(s=(e.min.z-h.z)*u,o=(e.max.z-h.z)*u):(s=(e.max.z-h.z)*u,o=(e.min.z-h.z)*u),n>o||s>r?null:((s>n||n!=n)&&(n=s),(o<r||r!=r)&&(r=o),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,R7)}intersectTriangle(e,t,n,r,i){L7.subVectors(t,e),F7.subVectors(n,e),U7.crossVectors(L7,F7);let a,s=this.direction.dot(U7);if(s>0){if(r)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}D7.subVectors(this.origin,e);const o=a*this.direction.dot(F7.crossVectors(D7,F7));if(o<0)return null;const l=a*this.direction.dot(L7.cross(D7));if(l<0)return null;if(o+l>s)return null;const c=-a*D7.dot(U7);return c<0?null:this.at(c/s,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class B7{constructor(e,t,n,r,i,a,s,o,l,c,u,h,d,f,p,m){B7.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,s,o,l,c,u,h,d,f,p,m)}set(e,t,n,r,i,a,s,o,l,c,u,h,d,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=s,g[13]=o,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new B7).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/z7.setFromMatrixColumn(e,0).length(),i=1/z7.setFromMatrixColumn(e,1).length(),a=1/z7.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),s=Math.sin(n),o=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=a*c,n=a*u,r=s*c,i=s*u;t[0]=o*c,t[4]=-o*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-s*o,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*o}else if("YXZ"===e.order){const e=o*c,n=o*u,r=l*c,i=l*u;t[0]=e+i*s,t[4]=r*s-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-s,t[2]=n*s-r,t[6]=i+e*s,t[10]=a*o}else if("ZXY"===e.order){const e=o*c,n=o*u,r=l*c,i=l*u;t[0]=e-i*s,t[4]=-a*u,t[8]=r+n*s,t[1]=n+r*s,t[5]=a*c,t[9]=i-e*s,t[2]=-a*l,t[6]=s,t[10]=a*o}else if("ZYX"===e.order){const e=a*c,n=a*u,r=s*c,i=s*u;t[0]=o*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=o*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=s*o,t[10]=a*o}else if("YZX"===e.order){const e=a*o,n=a*l,r=s*o,i=s*l;t[0]=o*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-s*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=a*o,n=a*l,r=s*o,i=s*l;t[0]=o*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=s*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(H7,e,W7)}lookAt(e,t,n){const r=this.elements;return X7.subVectors(e,t),0===X7.lengthSq()&&(X7.z=1),X7.normalize(),G7.crossVectors(n,X7),0===G7.lengthSq()&&(1===Math.abs(n.z)?X7.x+=1e-4:X7.z+=1e-4,X7.normalize(),G7.crossVectors(n,X7)),G7.normalize(),$7.crossVectors(X7,G7),r[0]=G7.x,r[4]=$7.x,r[8]=X7.x,r[1]=G7.y,r[5]=$7.y,r[9]=X7.y,r[2]=G7.z,r[6]=$7.z,r[10]=X7.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],s=n[4],o=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],w=r[0],_=r[4],S=r[8],T=r[12],E=r[1],M=r[5],A=r[9],C=r[13],P=r[2],O=r[6],k=r[10],R=r[14],I=r[3],N=r[7],D=r[11],L=r[15];return i[0]=a*w+s*E+o*P+l*I,i[4]=a*_+s*M+o*O+l*N,i[8]=a*S+s*A+o*k+l*D,i[12]=a*T+s*C+o*R+l*L,i[1]=c*w+u*E+h*P+d*I,i[5]=c*_+u*M+h*O+d*N,i[9]=c*S+u*A+h*k+d*D,i[13]=c*T+u*C+h*R+d*L,i[2]=f*w+p*E+m*P+g*I,i[6]=f*_+p*M+m*O+g*N,i[10]=f*S+p*A+m*k+g*D,i[14]=f*T+p*C+m*R+g*L,i[3]=v*w+y*E+b*P+x*I,i[7]=v*_+y*M+b*O+x*N,i[11]=v*S+y*A+b*k+x*D,i[15]=v*T+y*C+b*R+x*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],s=e[5],o=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*o*u-r*l*u-i*s*h+n*l*h+r*s*d-n*o*d)+e[7]*(+t*o*d-t*l*h+i*a*h-r*a*d+r*l*c-i*o*c)+e[11]*(+t*l*u-t*s*d-i*a*u+n*a*d+i*s*c-n*l*c)+e[15]*(-r*s*c-t*o*u+t*s*h+r*a*u-n*a*h+n*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*h*l+p*o*d-s*m*d-u*o*g+s*h*g,y=f*h*l-c*m*l-f*o*d+a*m*d+c*o*g-a*h*g,b=c*p*l-f*u*l+f*s*d-a*p*d-c*s*g+a*u*g,x=f*u*o-c*p*o-f*s*h+a*p*h+c*s*m-a*u*m,w=t*v+n*y+r*b+i*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/w;return e[0]=v*_,e[1]=(p*h*i-u*m*i-p*r*d+n*m*d+u*r*g-n*h*g)*_,e[2]=(s*m*i-p*o*i+p*r*l-n*m*l-s*r*g+n*o*g)*_,e[3]=(u*o*i-s*h*i-u*r*l+n*h*l+s*r*d-n*o*d)*_,e[4]=y*_,e[5]=(c*m*i-f*h*i+f*r*d-t*m*d-c*r*g+t*h*g)*_,e[6]=(f*o*i-a*m*i-f*r*l+t*m*l+a*r*g-t*o*g)*_,e[7]=(a*h*i-c*o*i+c*r*l-t*h*l-a*r*d+t*o*d)*_,e[8]=b*_,e[9]=(f*u*i-c*p*i-f*n*d+t*p*d+c*n*g-t*u*g)*_,e[10]=(a*p*i-f*s*i+f*n*l-t*p*l-a*n*g+t*s*g)*_,e[11]=(c*s*i-a*u*i-c*n*l+t*u*l+a*n*d-t*s*d)*_,e[12]=x*_,e[13]=(c*p*r-f*u*r+f*n*h-t*p*h-c*n*m+t*u*m)*_,e[14]=(f*s*r-a*p*r-f*n*o+t*p*o+a*n*m-t*s*m)*_,e[15]=(a*u*r-c*s*r+c*n*o-t*u*o-a*n*h+t*s*h)*_,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,s=e.y,o=e.z,l=i*a,c=i*s;return this.set(l*a+n,l*s-r*o,l*o+r*s,0,l*s+r*o,c*s+n,c*o-r*a,0,l*o-r*s,c*o+r*a,i*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,s=t._z,o=t._w,l=i+i,c=a+a,u=s+s,h=i*l,d=i*c,f=i*u,p=a*c,m=a*u,g=s*u,v=o*l,y=o*c,b=o*u,x=n.x,w=n.y,_=n.z;return r[0]=(1-(p+g))*x,r[1]=(d+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(d-b)*w,r[5]=(1-(h+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(f+y)*_,r[9]=(m-v)*_,r[10]=(1-(h+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=z7.set(r[0],r[1],r[2]).length();const a=z7.set(r[4],r[5],r[6]).length(),s=z7.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],V7.copy(this);const o=1/i,l=1/a,c=1/s;return V7.elements[0]*=o,V7.elements[1]*=o,V7.elements[2]*=o,V7.elements[4]*=l,V7.elements[5]*=l,V7.elements[6]*=l,V7.elements[8]*=c,V7.elements[9]*=c,V7.elements[10]*=c,t.setFromRotationMatrix(V7),n.x=i,n.y=a,n.z=s,this}makePerspective(e,t,n,r,i,a,s=2e3){const o=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r);let d,f;if(s===w8)d=-(a+i)/(a-i),f=-2*a*i/(a-i);else{if(s!==_8)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);d=-a/(a-i),f=-a*i/(a-i)}return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,a,s=2e3){const o=this.elements,l=1/(t-e),c=1/(n-r),u=1/(a-i),h=(t+e)*l,d=(n+r)*c;let f,p;if(s===w8)f=(a+i)*u,p=-2*u;else{if(s!==_8)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);f=i*u,p=-1*u}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=p,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const z7=new u7,V7=new B7,H7=new u7(0,0,0),W7=new u7(1,1,1),G7=new u7,$7=new u7,X7=new u7,q7=new B7,Y7=new c7;class K7{constructor(e=0,t=0,n=0,r=K7.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],a=r[4],s=r[8],o=r[1],l=r[5],c=r[9],u=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(P8(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-P8(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(P8(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-P8(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(P8(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-P8(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-c,d),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return q7.makeRotationFromQuaternion(e),this.setFromRotationMatrix(q7,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Y7.setFromEuler(this),this.setFromQuaternion(Y7,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}K7.DEFAULT_ORDER="XYZ";class J7{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Z7=0;const Q7=new u7,e9=new c7,t9=new B7,n9=new u7,r9=new u7,i9=new u7,a9=new c7,s9=new u7(1,0,0),o9=new u7(0,1,0),l9=new u7(0,0,1),c9={type:"added"},u9={type:"removed"},h9={type:"childadded",child:null},d9={type:"childremoved",child:null};class f9 extends S8{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Z7++}),this.uuid=C8(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=f9.DEFAULT_UP.clone();const e=new u7,t=new K7,n=new c7,r=new u7(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new B7},normalMatrix:{value:new L8}}),this.matrix=new B7,this.matrixWorld=new B7,this.matrixAutoUpdate=f9.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=f9.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new J7,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return e9.setFromAxisAngle(e,t),this.quaternion.multiply(e9),this}rotateOnWorldAxis(e,t){return e9.setFromAxisAngle(e,t),this.quaternion.premultiply(e9),this}rotateX(e){return this.rotateOnAxis(s9,e)}rotateY(e){return this.rotateOnAxis(o9,e)}rotateZ(e){return this.rotateOnAxis(l9,e)}translateOnAxis(e,t){return Q7.copy(e).applyQuaternion(this.quaternion),this.position.add(Q7.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(s9,e)}translateY(e){return this.translateOnAxis(o9,e)}translateZ(e){return this.translateOnAxis(l9,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(t9.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?n9.copy(e):n9.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),r9.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t9.lookAt(r9,n9,this.up):t9.lookAt(n9,r9,this.up),this.quaternion.setFromRotationMatrix(t9),r&&(t9.extractRotation(r.matrixWorld),e9.setFromRotationMatrix(t9),this.quaternion.premultiply(e9.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this||e&&e.isObject3D&&(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(c9),h9.child=e,this.dispatchEvent(h9),h9.child=null),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(u9),d9.child=e,this.dispatchEvent(d9),d9.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),t9.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),t9.multiply(e.parent.matrixWorld)),e.applyMatrix4(t9),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(c9),h9.child=e,this.dispatchEvent(h9),h9.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r9,e,i9),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r9,a9,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map((e=>({...e,boundingBox:e.boundingBox?{min:e.boundingBox.min.toArray(),max:e.boundingBox.max.toArray()}:void 0,boundingSphere:e.boundingSphere?{radius:e.boundingSphere.radius,center:e.boundingSphere.center.toArray()}:void 0}))),r.instanceInfo=this._instanceInfo.map((e=>({...e}))),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),s=a(e.images),o=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),s.length>0&&(n.images=s),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}f9.DEFAULT_UP=new u7(0,1,0),f9.DEFAULT_MATRIX_AUTO_UPDATE=!0,f9.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const p9=new u7,m9=new u7,g9=new u7,v9=new u7,y9=new u7,b9=new u7,x9=new u7,w9=new u7,_9=new u7,S9=new u7,T9=new i7,E9=new i7,M9=new i7;class A9{constructor(e=new u7,t=new u7,n=new u7){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),p9.subVectors(e,t),r.cross(p9);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){p9.subVectors(r,t),m9.subVectors(n,t),g9.subVectors(e,t);const a=p9.dot(p9),s=p9.dot(m9),o=p9.dot(g9),l=m9.dot(m9),c=m9.dot(g9),u=a*l-s*s;if(0===u)return i.set(0,0,0),null;const h=1/u,d=(l*o-s*c)*h,f=(a*c-s*o)*h;return i.set(1-d-f,f,d)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,v9)&&(v9.x>=0&&v9.y>=0&&v9.x+v9.y<=1)}static getInterpolation(e,t,n,r,i,a,s,o){return null===this.getBarycoord(e,t,n,r,v9)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(i,v9.x),o.addScaledVector(a,v9.y),o.addScaledVector(s,v9.z),o)}static getInterpolatedAttribute(e,t,n,r,i,a){return T9.setScalar(0),E9.setScalar(0),M9.setScalar(0),T9.fromBufferAttribute(e,t),E9.fromBufferAttribute(e,n),M9.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(T9,i.x),a.addScaledVector(E9,i.y),a.addScaledVector(M9,i.z),a}static isFrontFacing(e,t,n,r){return p9.subVectors(n,t),m9.subVectors(e,t),p9.cross(m9).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return p9.subVectors(this.c,this.b),m9.subVectors(this.a,this.b),.5*p9.cross(m9).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return A9.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return A9.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return A9.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return A9.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return A9.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,s;y9.subVectors(r,n),b9.subVectors(i,n),w9.subVectors(e,n);const o=y9.dot(w9),l=b9.dot(w9);if(o<=0&&l<=0)return t.copy(n);_9.subVectors(e,r);const c=y9.dot(_9),u=b9.dot(_9);if(c>=0&&u<=c)return t.copy(r);const h=o*u-c*l;if(h<=0&&o>=0&&c<=0)return a=o/(o-c),t.copy(n).addScaledVector(y9,a);S9.subVectors(e,i);const d=y9.dot(S9),f=b9.dot(S9);if(f>=0&&d<=f)return t.copy(i);const p=d*l-o*f;if(p<=0&&l>=0&&f<=0)return s=l/(l-f),t.copy(n).addScaledVector(b9,s);const m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return x9.subVectors(i,r),s=(u-c)/(u-c+(d-f)),t.copy(r).addScaledVector(x9,s);const g=1/(m+p+h);return a=p*g,s=h*g,t.copy(n).addScaledVector(y9,a).addScaledVector(b9,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const C9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},P9={h:0,s:0,l:0},O9={h:0,s:0,l:0};function k9(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class R9{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=a8){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,q8.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=q8.workingColorSpace){return this.r=e,this.g=t,this.b=n,q8.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=q8.workingColorSpace){if(e=O8(e,1),t=P8(t,0,1),n=P8(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=k9(i,r,e+1/3),this.g=k9(i,r,e),this.b=k9(i,r,e-1/3)}return q8.toWorkingColorSpace(this,r),this}setStyle(e,t=a8){function n(e){void 0!==e&&parseFloat(e)}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(e[4]),this.setRGB(Math.min(255,parseInt(e[1],10))/255,Math.min(255,parseInt(e[2],10))/255,Math.min(255,parseInt(e[3],10))/255,t);if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(e[4]),this.setRGB(Math.min(100,parseInt(e[1],10))/100,Math.min(100,parseInt(e[2],10))/100,Math.min(100,parseInt(e[3],10))/100,t);break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(e[4]),this.setHSL(parseFloat(e[1])/360,parseFloat(e[2])/100,parseFloat(e[3])/100,t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.setRGB(parseInt(e.charAt(0),16)/15,parseInt(e.charAt(1),16)/15,parseInt(e.charAt(2),16)/15,t);if(6===n)return this.setHex(parseInt(e,16),t)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=a8){const n=C9[e.toLowerCase()];return void 0!==n&&this.setHex(n,t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Y8(e.r),this.g=Y8(e.g),this.b=Y8(e.b),this}copyLinearToSRGB(e){return this.r=K8(e.r),this.g=K8(e.g),this.b=K8(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=a8){return q8.fromWorkingColorSpace(I9.copy(this),e),65536*Math.round(P8(255*I9.r,0,255))+256*Math.round(P8(255*I9.g,0,255))+Math.round(P8(255*I9.b,0,255))}getHexString(e=a8){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=q8.workingColorSpace){q8.fromWorkingColorSpace(I9.copy(this),t);const n=I9.r,r=I9.g,i=I9.b,a=Math.max(n,r,i),s=Math.min(n,r,i);let o,l;const c=(s+a)/2;if(s===a)o=0,l=0;else{const e=a-s;switch(l=c<=.5?e/(a+s):e/(2-a-s),a){case n:o=(r-i)/e+(r<i?6:0);break;case r:o=(i-n)/e+2;break;case i:o=(n-r)/e+4}o/=6}return e.h=o,e.s=l,e.l=c,e}getRGB(e,t=q8.workingColorSpace){return q8.fromWorkingColorSpace(I9.copy(this),t),e.r=I9.r,e.g=I9.g,e.b=I9.b,e}getStyle(e=a8){q8.fromWorkingColorSpace(I9.copy(this),e);const t=I9.r,n=I9.g,r=I9.b;return e!==a8?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(P9),this.setHSL(P9.h+e,P9.s+t,P9.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(P9),e.getHSL(O9);const n=k8(P9.h,O9.h,t),r=k8(P9.s,O9.s,t),i=k8(P9.l,O9.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const I9=new R9;R9.NAMES=C9;let N9=0;class D9 extends S8{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:N9++}),this.uuid=C8(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=p5,this.blendDst=m5,this.blendEquation=o5,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new R9(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=c8,this.stencilZFail=c8,this.stencilZPass=c8,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n)continue;const r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==p5&&(n.blendSrc=this.blendSrc),this.blendDst!==m5&&(n.blendDst=this.blendDst),this.blendEquation!==o5&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==c8&&(n.stencilFail=this.stencilFail),this.stencilZFail!==c8&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==c8&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class L9 extends D9{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new R9(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new K7,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const F9=U9();function U9(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;!(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(o[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function j9(e){Math.abs(e),e=P8(e,-65504,65504),F9.floatView[0]=e;const t=F9.uint32View[0],n=t>>23&511;return F9.baseTable[n]+((8388607&t)>>F9.shiftTable[n])}function B9(e){const t=e>>10;return F9.uint32View[0]=F9.mantissaTable[F9.offsetTable[t]+(1023&e)]+F9.exponentTable[t],F9.floatView[0]}const z9=new u7,V9=new D8;let H9=0;class W9{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:H9++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=y8,this.updateRanges=[],this.gpuType=n6,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)V9.fromBufferAttribute(this,t),V9.applyMatrix3(e),this.setXY(t,V9.x,V9.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)z9.fromBufferAttribute(this,t),z9.applyMatrix3(e),this.setXYZ(t,z9.x,z9.y,z9.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)z9.fromBufferAttribute(this,t),z9.applyMatrix4(e),this.setXYZ(t,z9.x,z9.y,z9.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)z9.fromBufferAttribute(this,t),z9.applyNormalMatrix(e),this.setXYZ(t,z9.x,z9.y,z9.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)z9.fromBufferAttribute(this,t),z9.transformDirection(e),this.setXYZ(t,z9.x,z9.y,z9.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=R8(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=I8(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=R8(t,this.array)),t}setX(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=R8(t,this.array)),t}setY(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=R8(t,this.array)),t}setZ(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=R8(t,this.array)),t}setW(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array),r=I8(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array),r=I8(r,this.array),i=I8(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==y8&&(e.usage=this.usage),e}}class G9 extends W9{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class $9 extends W9{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class X9 extends W9{constructor(e,t,n){super(new Float32Array(e),t,n)}}let q9=0;const Y9=new B7,K9=new f9,J9=new u7,Z9=new f7,Q9=new f7,eee=new u7;class tee extends S8{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:q9++}),this.uuid=C8(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(U8(e)?$9:G9)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new L8).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Y9.makeRotationFromQuaternion(e),this.applyMatrix4(Y9),this}rotateX(e){return Y9.makeRotationX(e),this.applyMatrix4(Y9),this}rotateY(e){return Y9.makeRotationY(e),this.applyMatrix4(Y9),this}rotateZ(e){return Y9.makeRotationZ(e),this.applyMatrix4(Y9),this}translate(e,t,n){return Y9.makeTranslation(e,t,n),this.applyMatrix4(Y9),this}scale(e,t,n){return Y9.makeScale(e,t,n),this.applyMatrix4(Y9),this}lookAt(e){return K9.lookAt(e),K9.updateMatrix(),this.applyMatrix4(K9.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(J9).negate(),this.translate(J9.x,J9.y,J9.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute("position",new X9(t,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length,t.count,t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new f7);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new u7(-1/0,-1/0,-1/0),new u7(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Z9.setFromBufferAttribute(n),this.morphTargetsRelative?(eee.addVectors(this.boundingBox.min,Z9.min),this.boundingBox.expandByPoint(eee),eee.addVectors(this.boundingBox.max,Z9.max),this.boundingBox.expandByPoint(eee)):(this.boundingBox.expandByPoint(Z9.min),this.boundingBox.expandByPoint(Z9.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new k7);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new u7,1/0);else if(e){const n=this.boundingSphere.center;if(Z9.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];Q9.setFromBufferAttribute(n),this.morphTargetsRelative?(eee.addVectors(Z9.min,Q9.min),Z9.expandByPoint(eee),eee.addVectors(Z9.max,Q9.max),Z9.expandByPoint(eee)):(Z9.expandByPoint(Q9.min),Z9.expandByPoint(Q9.max))}Z9.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)eee.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(eee));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],s=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)eee.fromBufferAttribute(a,t),s&&(J9.fromBufferAttribute(e,t),eee.add(J9)),r=Math.max(r,n.distanceToSquared(eee))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return;const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new W9(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),s=[],o=[];for(let S=0;S<n.count;S++)s[S]=new u7,o[S]=new u7;const l=new u7,c=new u7,u=new u7,h=new D8,d=new D8,f=new D8,p=new u7,m=new u7;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),h.fromBufferAttribute(i,e),d.fromBufferAttribute(i,t),f.fromBufferAttribute(i,r),c.sub(l),u.sub(l),d.sub(h),f.sub(h);const a=1/(d.x*f.y-f.x*d.y);isFinite(a)&&(p.copy(c).multiplyScalar(f.y).addScaledVector(u,-d.y).multiplyScalar(a),m.copy(u).multiplyScalar(d.x).addScaledVector(c,-f.x).multiplyScalar(a),s[e].add(p),s[t].add(p),s[r].add(p),o[e].add(m),o[t].add(m),o[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let S=0,T=v.length;S<T;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new u7,b=new u7,x=new u7,w=new u7;function _(e){x.fromBufferAttribute(r,e),w.copy(x);const t=s[e];y.copy(t),y.sub(x.multiplyScalar(x.dot(t))).normalize(),b.crossVectors(w,t);const n=b.dot(o[e])<0?-1:1;a.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,T=v.length;S<T;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)_(e.getX(r+0)),_(e.getX(r+1)),_(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new W9(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new u7,i=new u7,a=new u7,s=new u7,o=new u7,l=new u7,c=new u7,u=new u7;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),s.fromBufferAttribute(n,d),o.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),s.add(c),o.add(c),l.add(c),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(f,o.x,o.y,o.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)eee.fromBufferAttribute(e,t),eee.normalize(),e.setXYZ(t,eee.x,eee.y,eee.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let s=0,o=0;for(let l=0,c=t.length;l<c;l++){s=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)a[o++]=n[s++]}return new W9(a,r,i)}if(null===this.index)return this;const t=new tee,n=this.index.array,r=this.attributes;for(const s in r){const i=e(r[s],n);t.setAttribute(s,i)}const i=this.morphAttributes;for(const s in i){const r=[],a=i[s];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);r.push(i)}t.morphAttributes[s]=r}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,o=a.length;s<o;s++){const e=a[s];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const o in n){const t=n[o];e.data.attributes[o]=t.toJSON(e.data)}const r={};let i=!1;for(const o in this.morphAttributes){const t=this.morphAttributes[o],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[o]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone());const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const nee=new B7,ree=new j7,iee=new k7,aee=new u7,see=new u7,oee=new u7,lee=new u7,cee=new u7,uee=new u7,hee=new u7,dee=new u7;class fee extends f9{constructor(e=new tee,t=new L9){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(i&&s){uee.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=s[n],o=i[n];0!==r&&(cee.fromBufferAttribute(o,e),a?uee.addScaledVector(cee,r):uee.addScaledVector(cee.sub(t),r))}t.add(uee)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),iee.copy(n.boundingSphere),iee.applyMatrix4(i),ree.copy(e.ray).recast(e.near),!1===iee.containsPoint(ree.origin)){if(null===ree.intersectSphere(iee,aee))return;if(ree.origin.distanceToSquared(aee)>(e.far-e.near)**2)return}nee.copy(i).invert(),ree.copy(e.ray).applyMatrix4(nee),null!==n.boundingBox&&!1===ree.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,ree)}}_computeIntersections(e,t,n){let r;const i=this.geometry,a=this.material,s=i.index,o=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,h=i.groups,d=i.drawRange;if(null!==s)if(Array.isArray(a))for(let f=0,p=h.length;f<p;f++){const i=h[f],o=a[i.materialIndex];for(let a=Math.max(i.start,d.start),h=Math.min(s.count,Math.min(i.start+i.count,d.start+d.count));a<h;a+=3){r=pee(this,o,e,n,l,c,u,s.getX(a),s.getX(a+1),s.getX(a+2)),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,d.start),o=Math.min(s.count,d.start+d.count);i<o;i+=3){r=pee(this,a,e,n,l,c,u,s.getX(i),s.getX(i+1),s.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==o)if(Array.isArray(a))for(let f=0,p=h.length;f<p;f++){const i=h[f],s=a[i.materialIndex];for(let a=Math.max(i.start,d.start),h=Math.min(o.count,Math.min(i.start+i.count,d.start+d.count));a<h;a+=3){r=pee(this,s,e,n,l,c,u,a,a+1,a+2),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,d.start),s=Math.min(o.count,d.start+d.count);i<s;i+=3){r=pee(this,a,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function pee(e,t,n,r,i,a,s,o,l,c){e.getVertexPosition(o,see),e.getVertexPosition(l,oee),e.getVertexPosition(c,lee);const u=function(e,t,n,r,i,a,s,o){let l;if(l=1===t.side?r.intersectTriangle(s,a,i,!0,o):r.intersectTriangle(i,a,s,0===t.side,o),null===l)return null;dee.copy(o),dee.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(dee);return c<n.near||c>n.far?null:{distance:c,point:dee.clone(),object:e}}(e,t,n,r,see,oee,lee,hee);if(u){const e=new u7;A9.getBarycoord(hee,see,oee,lee,e),i&&(u.uv=A9.getInterpolatedAttribute(i,o,l,c,e,new D8)),a&&(u.uv1=A9.getInterpolatedAttribute(a,o,l,c,e,new D8)),s&&(u.normal=A9.getInterpolatedAttribute(s,o,l,c,e,new u7),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:o,b:l,c:c,normal:new u7,materialIndex:0};A9.getNormal(see,oee,lee,t.normal),u.face=t,u.barycoord=e}return u}class mee extends tee{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const s=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const o=[],l=[],c=[],u=[];let h=0,d=0;function f(e,t,n,r,i,a,f,p,m,g,v){const y=a/m,b=f/g,x=a/2,w=f/2,_=p/2,S=m+1,T=g+1;let E=0,M=0;const A=new u7;for(let s=0;s<T;s++){const a=s*b-w;for(let o=0;o<S;o++){const h=o*y-x;A[e]=h*r,A[t]=a*i,A[n]=_,l.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=p>0?1:-1,c.push(A.x,A.y,A.z),u.push(o/m),u.push(1-s/g),E+=1}}for(let s=0;s<g;s++)for(let e=0;e<m;e++){const t=h+e+S*s,n=h+e+S*(s+1),r=h+(e+1)+S*(s+1),i=h+(e+1)+S*s;o.push(t,n,i),o.push(n,r,i),M+=6}s.addGroup(d,M,v),d+=M,h+=E}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(o),this.setAttribute("position",new X9(l,3)),this.setAttribute("normal",new X9(c,3)),this.setAttribute("uv",new X9(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mee(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gee(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?t[n][r]=null:t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function vee(e){const t={};for(let n=0;n<e.length;n++){const r=gee(e[n]);for(const e in r)t[e]=r[e]}return t}function yee(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:q8.workingColorSpace}const bee={clone:gee,merge:vee};class xee extends D9{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gee(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class wee extends f9{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new B7,this.projectionMatrix=new B7,this.projectionMatrixInverse=new B7,this.coordinateSystem=w8}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const _ee=new u7,See=new D8,Tee=new D8;class Eee extends wee{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*A8*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*M8*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*A8*Math.atan(Math.tan(.5*M8*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){_ee.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(_ee.x,_ee.y).multiplyScalar(-e/_ee.z),_ee.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(_ee.x,_ee.y).multiplyScalar(-e/_ee.z)}getViewSize(e,t){return this.getViewBounds(e,See,Tee),t.subVectors(Tee,See)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*M8*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/s,r*=a.width/e,n*=a.height/s}const s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Mee=-90;class Aee extends f9{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Eee(Mee,1,e,t);r.layers=this.layers,this.add(r);const i=new Eee(Mee,1,e,t);i.layers=this.layers,this.add(i);const a=new Eee(Mee,1,e,t);a.layers=this.layers,this.add(a);const s=new Eee(Mee,1,e,t);s.layers=this.layers,this.add(s);const o=new Eee(Mee,1,e,t);o.layers=this.layers,this.add(o);const l=new Eee(Mee,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,s,o]=t;for(const l of t)this.remove(l);if(e===w8)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(e!==_8)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,s,o,l,c]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,s),e.setRenderTarget(n,3,r),e.render(t,o),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,h,d),e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class Cee extends r7{constructor(e=[],t=301,n,r,i,a,s,o,l,c){super(e,t,n,r,i,a,s,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Pee extends s7{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Cee(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:X5}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new mee(5,5,5),i=new xee({name:"CubemapFromEquirect",uniforms:gee(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;const a=new fee(r,i),s=t.minFilter;t.minFilter===Y5&&(t.minFilter=X5);return new Aee(1,10,this).update(e,a),t.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}class Oee extends f9{constructor(){super(),this.isGroup=!0,this.type="Group"}}const kee={type:"move"};class Ree{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Oee,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Oee,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new u7,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new u7),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Oee,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new u7,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new u7),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const s=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),r=this._getHandJoint(l,a);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],s=r.position.distanceTo(i.position),o=.02,c=.005;l.inputState.pinching&&s>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&s<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1));null!==s&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(kee)))}return null!==s&&(s.visible=null!==r),null!==o&&(o.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Oee;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Iee{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new R9(e),this.density=t}clone(){return new Iee(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Nee{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new R9(e),this.near=t,this.far=n}clone(){return new Nee(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Dee extends f9{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new K7,this.environmentIntensity=1,this.environmentRotation=new K7,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Lee{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=y8,this.updateRanges=[],this.version=0,this.uuid=C8()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C8()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C8()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fee=new u7;class Uee{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Fee.fromBufferAttribute(this,t),Fee.applyMatrix4(e),this.setXYZ(t,Fee.x,Fee.y,Fee.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Fee.fromBufferAttribute(this,t),Fee.applyNormalMatrix(e),this.setXYZ(t,Fee.x,Fee.y,Fee.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Fee.fromBufferAttribute(this,t),Fee.transformDirection(e),this.setXYZ(t,Fee.x,Fee.y,Fee.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=R8(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=I8(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=I8(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=I8(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=I8(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=I8(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=R8(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=R8(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=R8(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=R8(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array),r=I8(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array),r=I8(r,this.array),i=I8(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new W9(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Uee(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class jee extends D9{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new R9(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Bee;const zee=new u7,Vee=new u7,Hee=new u7,Wee=new D8,Gee=new D8,$ee=new B7,Xee=new u7,qee=new u7,Yee=new u7,Kee=new D8,Jee=new D8,Zee=new D8;class Qee extends f9{constructor(e=new jee){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Bee){Bee=new tee;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Lee(e,5);Bee.setIndex([0,1,2,0,2,3]),Bee.setAttribute("position",new Uee(t,3,0,!1)),Bee.setAttribute("uv",new Uee(t,2,3,!1))}this.geometry=Bee,this.material=e,this.center=new D8(.5,.5)}raycast(e,t){e.camera,Vee.setFromMatrixScale(this.matrixWorld),$ee.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hee.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Vee.multiplyScalar(-Hee.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;ete(Xee.set(-.5,-.5,0),Hee,a,Vee,r,i),ete(qee.set(.5,-.5,0),Hee,a,Vee,r,i),ete(Yee.set(.5,.5,0),Hee,a,Vee,r,i),Kee.set(0,0),Jee.set(1,0),Zee.set(1,1);let s=e.ray.intersectTriangle(Xee,qee,Yee,!1,zee);if(null===s&&(ete(qee.set(-.5,.5,0),Hee,a,Vee,r,i),Jee.set(0,1),s=e.ray.intersectTriangle(Xee,Yee,qee,!1,zee),null===s))return;const o=e.ray.origin.distanceTo(zee);o<e.near||o>e.far||t.push({distance:o,point:zee.clone(),uv:A9.getInterpolation(zee,Xee,qee,Yee,Kee,Jee,Zee,new D8),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function ete(e,t,n,r,i,a){Wee.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Gee.x=a*Wee.x-i*Wee.y,Gee.y=i*Wee.x+a*Wee.y):Gee.copy(Wee),e.copy(t),e.x+=Gee.x,e.y+=Gee.y,e.applyMatrix4($ee)}const tte=new u7,nte=new u7;class rte extends f9{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){tte.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(tte);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){tte.setFromMatrixPosition(e.matrixWorld),nte.setFromMatrixPosition(this.matrixWorld);const n=tte.distanceTo(nte)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const ite=new u7,ate=new i7,ste=new i7,ote=new u7,lte=new B7,cte=new u7,ute=new k7,hte=new B7,dte=new j7;class fte extends fee{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=I5,this.bindMatrix=new B7,this.bindMatrixInverse=new B7,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new f7),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,cte),this.boundingBox.expandByPoint(cte)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new k7),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,cte),this.boundingSphere.expandByPoint(cte)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),ute.copy(this.boundingSphere),ute.applyMatrix4(r),!1!==e.ray.intersectsSphere(ute)&&(hte.copy(r).invert(),dte.copy(e.ray).applyMatrix4(hte),null!==this.boundingBox&&!1===dte.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,dte)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new i7,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===I5?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===N5&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;ate.fromBufferAttribute(r.attributes.skinIndex,e),ste.fromBufferAttribute(r.attributes.skinWeight,e),ite.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=ste.getComponent(i);if(0!==e){const r=ate.getComponent(i);lte.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(ote.copy(ite).applyMatrix4(lte),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class pte extends f9{constructor(){super(),this.isBone=!0,this.type="Bone"}}class mte extends r7{constructor(e=null,t=1,n=1,r,i,a,s,o,l=1003,c=1003,u,h){super(null,a,s,o,l,c,r,i,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const gte=new B7,vte=new B7;class yte{constructor(e=[],t=[]){this.uuid=C8(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new B7)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new B7;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,a=e.length;i<a;i++){const r=e[i]?e[i].matrixWorld:vte;gte.multiplyMatrices(r,t[i]),gte.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new yte(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new mte(t,e,e,u6,n6);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=t[e.bones[n]];void 0===r&&(r=new pte),this.bones.push(r),this.boneInverses.push((new B7).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class bte extends W9{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const xte=new B7,wte=new B7,_te=[],Ste=new f7,Tte=new B7,Ete=new fee,Mte=new k7;class Ate extends fee{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new bte(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Tte)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new f7),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,xte),Ste.copy(e.boundingBox).applyMatrix4(xte),this.boundingBox.union(Ste)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new k7),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,xte),Mte.copy(e.boundingSphere).applyMatrix4(xte),this.boundingSphere.union(Mte)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let a=0;a<n.length;a++)n[a]=r[i+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Ete.geometry=this.geometry,Ete.material=this.material,void 0!==Ete.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Mte.copy(this.boundingSphere),Mte.applyMatrix4(n),!1!==e.ray.intersectsSphere(Mte)))for(let i=0;i<r;i++){this.getMatrixAt(i,xte),wte.multiplyMatrices(n,xte),Ete.matrixWorld=wte,Ete.raycast(e,_te);for(let e=0,n=_te.length;e<n;e++){const n=_te[e];n.instanceId=i,n.object=this,t.push(n)}_te.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new bte(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new mte(new Float32Array(r*this.count),r,this.count,f6,n6));const i=this.morphTexture.source.data.data;let a=0;for(let l=0;l<n.length;l++)a+=n[l];const s=this.geometry.morphTargetsRelative?1:1-a,o=r*e;i[o]=s,i.set(n,o+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Cte=new u7,Pte=new u7,Ote=new L8;class kte{constructor(e=new u7(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Cte.subVectors(n,t).cross(Pte.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Cte),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Ote.getNormalMatrix(e),r=this.coplanarPoint(Cte).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Rte=new k7,Ite=new u7;class Nte{constructor(e=new kte,t=new kte,n=new kte,r=new kte,i=new kte,a=new kte){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){const n=this.planes,r=e.elements,i=r[0],a=r[1],s=r[2],o=r[3],l=r[4],c=r[5],u=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(o-i,h-l,m-d,b-g).normalize(),n[1].setComponents(o+i,h+l,m+d,b+g).normalize(),n[2].setComponents(o+a,h+c,m+f,b+v).normalize(),n[3].setComponents(o-a,h-c,m-f,b-v).normalize(),n[4].setComponents(o-s,h-u,m-p,b-y).normalize(),t===w8)n[5].setComponents(o+s,h+u,m+p,b+y).normalize();else{if(t!==_8)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(s,u,p,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Rte.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Rte.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rte)}intersectsSprite(e){return Rte.center.set(0,0,0),Rte.radius=.7071067811865476,Rte.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rte)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Ite.x=r.normal.x>0?e.max.x:e.min.x,Ite.y=r.normal.y>0?e.max.y:e.min.y,Ite.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ite)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}const Dte=new B7,Lte=new Nte;class Fte{constructor(){this.coordinateSystem=w8}intersectsObject(e,t){if(!t.isArrayCamera||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Dte.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lte.setFromProjectionMatrix(Dte,this.coordinateSystem),Lte.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Dte.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lte.setFromProjectionMatrix(Dte,this.coordinateSystem),Lte.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Dte.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lte.setFromProjectionMatrix(Dte,this.coordinateSystem),Lte.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Dte.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lte.setFromProjectionMatrix(Dte,this.coordinateSystem),Lte.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(Dte.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Lte.setFromProjectionMatrix(Dte,this.coordinateSystem),Lte.containsPoint(e))return!0}return!1}clone(){return new Fte}}function Ute(e,t){return e-t}function jte(e,t){return e.z-t.z}function Bte(e,t){return t.z-e.z}class zte{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const i=this.pool,a=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const s=i[this.index];a.push(s),this.index++,s.start=e,s.count=t,s.z=n,s.index=r}reset(){this.list.length=0,this.index=0}}const Vte=new B7,Hte=new R9(1,1,1),Wte=new Nte,Gte=new Fte,$te=new f7,Xte=new k7,qte=new u7,Yte=new u7,Kte=new u7,Jte=new zte,Zte=new fee,Qte=[];function ene(e,t,n=0){const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let a=0;a<i;a++)for(let i=0;i<r;i++)t.setComponent(a+n,i,e.getComponent(a,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}function tne(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)t[r]=e[r]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class nne extends fee{constructor(e,t,n=2*t,r){super(new tee,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new mte(t,e,e,u6,n6);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new mte(t,e,e,p6,t6);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new mte(t,e,e,u6,n6);n.colorSpace=q8.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:a,itemSize:s,normalized:o}=i,l=new a.constructor(n*s),c=new W9(l,s,o);t.setAttribute(r,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new W9(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new f7);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Vte),this.getBoundingBoxAt(r,$te).applyMatrix4(Vte),e.union($te)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new k7);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Vte),this.getBoundingSphereAt(r,Xte).applyMatrix4(Vte),e.union(Xte)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Ute),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const r=this._matricesTexture;Vte.identity().toArray(r.image.data,16*n),r.needsUpdate=!0;const i=this._colorsTexture;return i&&(Hte.toArray(i.image.data,4*n),i.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const a=e.getIndex();if(null!==a&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===n?a.count:n),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let s;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Ute),s=this._availableGeometryIds.shift(),i[s]=r):(s=this._geometryCount,this._geometryCount++,i.push(r)),this.setGeometryAt(s,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,s}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),a=t.getIndex(),s=this._geometryInfo[e];if(r&&a.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const o=s.vertexStart,l=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const c in n.attributes){const e=t.getAttribute(c),r=n.getAttribute(c);ene(e,r,o);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=o+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(o*i,l*i)}if(r){const e=s.indexStart,n=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let t=0;t<a.count;t++)i.setX(e+t,o+a.getX(t));for(let t=a.count,r=n;t<r;t++)i.setX(e+t,o);i.needsUpdate=!0,i.addUpdateRange(e,s.reservedIndexCount)}return s.start=r?s.indexStart:s.vertexStart,s.count=r?s.indexCount:s.vertexCount,s.boundingBox=null,null!==t.boundingBox&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,null!==t.boundingSphere&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let r=0,i=n.length;r<i;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map(((e,t)=>t)).sort(((e,t)=>n[e].vertexStart-n[t].vertexStart)),i=this.geometry;for(let a=0,s=n.length;a<s;a++){const s=r[a],o=n[s];if(!1!==o.active){if(null!==i.index){if(o.indexStart!==t){const{indexStart:n,vertexStart:r,reservedIndexCount:a}=o,s=i.index,l=s.array,c=e-r;for(let e=n;e<n+a;e++)l[e]=l[e]+c;s.array.copyWithin(t,n,n+a),s.addUpdateRange(t,a),o.indexStart=t}t+=o.reservedIndexCount}if(o.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=o,r=i.attributes;for(const i in r){const a=r[i],{array:s,itemSize:o}=a;s.copyWithin(e*o,t*o,(t+n)*o),a.addUpdateRange(e*o,n*o)}o.vertexStart=e}e+=o.reservedVertexCount,o.start=i.index?o.indexStart:o.vertexStart,this._nextIndexStart=i.index?o.indexStart+o.reservedIndexCount:0,this._nextVertexStart=o.vertexStart+o.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingBox){const e=new f7,t=n.index,i=n.attributes.position;for(let n=r.start,a=r.start+r.count;n<a;n++){let r=n;t&&(r=t.getX(r)),e.expandByPoint(qte.fromBufferAttribute(i,r))}r.boundingBox=e}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingSphere){const t=new k7;this.getBoundingBoxAt(e,$te),$te.getCenter(t.center);const i=n.index,a=n.attributes.position;let s=0;for(let e=r.start,n=r.start+r.count;e<n;e++){let n=e;i&&(n=i.getX(n)),qte.fromBufferAttribute(a,n),s=Math.max(s,t.center.distanceToSquared(qte))}t.radius=Math.sqrt(s),r.boundingSphere=t}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(Ute);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),i=new Int32Array(e);tne(this._multiDrawCounts,r),tne(this._multiDrawStarts,i),this._multiDrawCounts=r,this._multiDrawStarts=i,this._maxInstanceCount=e;const a=this._indirectTexture,s=this._matricesTexture,o=this._colorsTexture;a.dispose(),this._initIndirectTexture(),tne(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),tne(s.image.data,this._matricesTexture.image.data),o&&(o.dispose(),this._initColorsTexture(),tne(o.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter((e=>e.active));if(Math.max(...n.map((e=>e.vertexStart+e.reservedVertexCount)))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index){if(Math.max(...n.map((e=>e.indexStart+e.reservedIndexCount)))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`)}const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tee,this._initializeGeometry(r));const i=this.geometry;r.index&&tne(r.index.array,i.index.array);for(const a in r.attributes)tne(r.attributes[a].array,i.attributes[a].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,i=this.matrixWorld,a=this.geometry;Zte.material=this.material,Zte.geometry.index=a.index,Zte.geometry.attributes=a.attributes,null===Zte.geometry.boundingBox&&(Zte.geometry.boundingBox=new f7),null===Zte.geometry.boundingSphere&&(Zte.geometry.boundingSphere=new k7);for(let s=0,o=n.length;s<o;s++){if(!n[s].visible||!n[s].active)continue;const a=n[s].geometryIndex,o=r[a];Zte.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(s,Zte.matrixWorld).premultiply(i),this.getBoundingBoxAt(a,Zte.geometry.boundingBox),this.getBoundingSphereAt(a,Zte.geometry.boundingSphere),Zte.raycast(e,Qte);for(let e=0,n=Qte.length;e<n;e++){const n=Qte[e];n.object=this,n.batchId=s,t.push(n)}Qte.length=0}Zte.material=null,Zte.geometry.index=null,Zte.geometry.attributes={},Zte.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map((e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null}))),this._instanceInfo=e._instanceInfo.map((e=>({...e}))),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),s=null===a?1:a.array.BYTES_PER_ELEMENT,o=this._instanceInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,f=d.image.data,p=n.isArrayCamera?Gte:Wte;h&&!n.isArrayCamera&&(Vte.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Wte.setFromProjectionMatrix(Vte,e.coordinateSystem));let m=0;if(this.sortObjects){Vte.copy(this.matrixWorld).invert(),qte.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Vte),Yte.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Vte);for(let r=0,i=o.length;r<i;r++)if(o[r].visible&&o[r].active){const e=o[r].geometryIndex;this.getMatrixAt(r,Vte),this.getBoundingSphereAt(e,Xte).applyMatrix4(Vte);let t=!1;if(h&&(t=!p.intersectsSphere(Xte,n)),!t){const t=u[e],n=Kte.subVectors(Xte.center,qte).dot(Yte);Jte.push(t.start,t.count,n,r)}}const e=Jte.list,t=this.customSort;null===t?e.sort(i.transparent?Bte:jte):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];l[m]=t.start*s,c[m]=t.count,f[m]=t.index,m++}Jte.reset()}else for(let g=0,v=o.length;g<v;g++)if(o[g].visible&&o[g].active){const e=o[g].geometryIndex;let t=!1;if(h&&(this.getMatrixAt(g,Vte),this.getBoundingSphereAt(e,Xte).applyMatrix4(Vte),t=!p.intersectsSphere(Xte,n)),!t){const t=u[e];l[m]=t.start*s,c[m]=t.count,f[m]=g,m++}}d.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,a){this.onBeforeRender(e,null,r,i,a)}}class rne extends D9{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new R9(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ine=new u7,ane=new u7,sne=new B7,one=new j7,lne=new k7,cne=new u7,une=new u7;class hne extends f9{constructor(e=new tee,t=new rne){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)ine.fromBufferAttribute(t,e-1),ane.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=ine.distanceTo(ane);e.setAttribute("lineDistance",new X9(n,1))}return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),lne.copy(n.boundingSphere),lne.applyMatrix4(r),lne.radius+=i,!1===e.ray.intersectsSphere(lne))return;sne.copy(r).invert(),one.copy(e.ray).applyMatrix4(sne);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,a.start),r=Math.min(c.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=c.getX(i),r=c.getX(i+1),a=dne(this,e,one,o,n,r,i);a&&t.push(a)}if(this.isLineLoop){const i=c.getX(r-1),a=c.getX(n),s=dne(this,e,one,o,i,a,r-1);s&&t.push(s)}}else{const n=Math.max(0,a.start),r=Math.min(u.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=dne(this,e,one,o,i,i+1,i);n&&t.push(n)}if(this.isLineLoop){const i=dne(this,e,one,o,r-1,n,r-1);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function dne(e,t,n,r,i,a,s){const o=e.geometry.attributes.position;ine.fromBufferAttribute(o,i),ane.fromBufferAttribute(o,a);if(n.distanceSqToSegment(ine,ane,cne,une)>r)return;cne.applyMatrix4(e.matrixWorld);const l=t.ray.origin.distanceTo(cne);return l<t.near||l>t.far?void 0:{distance:l,point:une.clone().applyMatrix4(e.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:e}}const fne=new u7,pne=new u7;class mne extends hne{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)fne.fromBufferAttribute(t,e),pne.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+fne.distanceTo(pne);e.setAttribute("lineDistance",new X9(n,1))}return this}}class gne extends hne{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class vne extends D9{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new R9(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const yne=new B7,bne=new j7,xne=new k7,wne=new u7;let _ne=class extends f9{constructor(e=new tee,t=new vne){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),xne.copy(n.boundingSphere),xne.applyMatrix4(r),xne.radius+=i,!1===e.ray.intersectsSphere(xne))return;yne.copy(r).invert(),bne.copy(e.ray).applyMatrix4(yne);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);n<i;n++){const i=l.getX(n);wne.fromBufferAttribute(c,i),Sne(wne,i,o,r,e,t,this)}}else{for(let n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);n<i;n++)wne.fromBufferAttribute(c,n),Sne(wne,n,o,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}};function Sne(e,t,n,r,i,a,s){const o=bne.distanceSqToPoint(e);if(o<n){const n=new u7;bne.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(o),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:s})}}class Tne extends r7{constructor(e,t,n,r,i=1006,a=1006,s,o,l){super(e,t,n,r,i,a,s,o,l),this.isVideoTexture=!0,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ene extends r7{constructor(e,t,n,r,i,a,s,o,l,c,u,h){super(null,a,s,o,l,c,r,i,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Mne extends r7{constructor(e,t,n=1014,r,i,a,s=1003,o=1003,l,c=1026){if(c!==h6&&c!==d6)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,i,a,s,o,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new e7(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Ane extends tee{constructor(e=1,t=1,n=4,r=8,i=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:i},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),i=Math.max(1,Math.floor(i));const a=[],s=[],o=[],l=[],c=t/2,u=Math.PI/2*e,h=t,d=2*u+h,f=2*n+i,p=r+1,m=new u7,g=new u7;for(let v=0;v<=f;v++){let y=0,b=0,x=0,w=0;if(v<=n){const t=v/n,r=t*Math.PI/2;b=-c-e*Math.cos(r),x=e*Math.sin(r),w=-e*Math.cos(r),y=t*u}else if(v<=n+i){const r=(v-n)/i;b=r*t-c,x=e,w=0,y=u+r*h}else{const t=(v-n-i)/n,r=t*Math.PI/2;b=c+e*Math.sin(r),x=e*Math.cos(r),w=e*Math.sin(r),y=u+h+t*u}const _=Math.max(0,Math.min(1,y/d));let S=0;0===v?S=.5/r:v===f&&(S=-.5/r);for(let e=0;e<=r;e++){const t=e/r,n=t*Math.PI*2,i=Math.sin(n),a=Math.cos(n);g.x=-x*a,g.y=b,g.z=x*i,s.push(g.x,g.y,g.z),m.set(-x*a,w,x*i),m.normalize(),o.push(m.x,m.y,m.z),l.push(t+S,_)}if(v>0){const e=(v-1)*p;for(let t=0;t<r;t++){const n=e+t,r=e+t+1,i=v*p+t,s=v*p+t+1;a.push(n,r,i),a.push(r,s,i)}}}this.setIndex(a),this.setAttribute("position",new X9(s,3)),this.setAttribute("normal",new X9(o,3)),this.setAttribute("uv",new X9(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ane(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Cne extends tee{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],s=[],o=[],l=new u7,c=new D8;a.push(0,0,0),s.push(0,0,1),o.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),a.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(a[h]/e+1)/2,c.y=(a[h+1]/e+1)/2,o.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new X9(a,3)),this.setAttribute("normal",new X9(s,3)),this.setAttribute("uv",new X9(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cne(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pne extends tee{constructor(e=1,t=1,n=1,r=32,i=1,a=!1,s=0,o=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,a=new D8,p=new u7;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),h.push(0,b,0),d.push(.5,.5),f++;const x=f;for(let e=0;e<=r;e++){const t=e/r*o+s,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),h.push(0,b,0),a.x=.5*n+.5,a.y=.5*i*b+.5,d.push(a.x,a.y),f++}for(let e=0;e<r;e++){const t=i+e,r=x+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new u7,v=new u7;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*o+s,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),a.set(l,b,p).normalize(),h.push(a.x,a.y,a.z),d.push(t,1-g),c.push(f++)}p.push(c)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){const a=p[r][n],s=p[r+1][n],o=p[r+1][n+1],l=p[r][n+1];(e>0||0!==r)&&(c.push(a,s,l),y+=3),(t>0||r!==i-1)&&(c.push(s,o,l),y+=3)}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new X9(u,3)),this.setAttribute("normal",new X9(h,3)),this.setAttribute("uv",new X9(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pne(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class One extends Pne{constructor(e=1,t=1,n=32,r=1,i=!1,a=0,s=2*Math.PI){super(0,e,t,n,r,i,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:s}}static fromJSON(e){return new One(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kne extends tee{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function s(e,t,n,r){const i=r+1,a=[];for(let s=0;s<=i;s++){a[s]=[];const r=e.clone().lerp(n,s/i),o=t.clone().lerp(n,s/i),l=i-s;for(let e=0;e<=l;e++)a[s][e]=0===e&&s===i?r:r.clone().lerp(o,e/l)}for(let s=0;s<i;s++)for(let e=0;e<2*(i-s)-1;e++){const t=Math.floor(e/2);e%2==0?(o(a[s][t+1]),o(a[s+1][t]),o(a[s][t])):(o(a[s][t+1]),o(a[s+1][t+1]),o(a[s+1][t]))}}function o(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new u7,r=new u7,i=new u7;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),s(n,r,i,e)}(r),function(e){const t=new u7;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new u7;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=u(e)/2/Math.PI+.5,s=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);a.push(r,1-s)}var t;(function(){const e=new u7,t=new u7,n=new u7,r=new u7,s=new D8,o=new D8,l=new D8;for(let h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),s.set(a[d+0],a[d+1]),o.set(a[d+2],a[d+3]),l.set(a[d+4],a[d+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=u(r);c(s,d+0,e,f),c(o,d+2,t,f),c(l,d+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),s=Math.min(t,n,r);i>.9&&s<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new X9(i,3)),this.setAttribute("normal",new X9(i.slice(),3)),this.setAttribute("uv",new X9(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kne(e.vertices,e.indices,e.radius,e.details)}}class Rne extends kne{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Rne(e.radius,e.detail)}}const Ine=new u7,Nne=new u7,Dne=new u7,Lne=new A9;class Fne extends tee{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(M8*t),a=e.getIndex(),s=e.getAttribute("position"),o=a?a.count:s.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},d=[];for(let e=0;e<o;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:o}=Lne;if(t.fromBufferAttribute(s,l[0]),n.fromBufferAttribute(s,l[1]),o.fromBufferAttribute(s,l[2]),Lne.getNormal(Dne),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(o.x*r)},${Math.round(o.y*r)},${Math.round(o.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],a=Lne[c[e]],s=Lne[c[t]],o=`${n}_${r}`,f=`${r}_${n}`;f in h&&h[f]?(Dne.dot(h[f].normal)<=i&&(d.push(a.x,a.y,a.z),d.push(s.x,s.y,s.z)),h[f]=null):o in h||(h[o]={index0:l[e],index1:l[t],normal:Dne.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];Ine.fromBufferAttribute(s,t),Nne.fromBufferAttribute(s,n),d.push(Ine.x,Ine.y,Ine.z),d.push(Nne.x,Nne.y,Nne.z)}this.setAttribute("position",new X9(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Une{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let s,o=0,l=i-1;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),s=n[r]-a,s<0)o=r+1;else{if(!(s>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const c=n[r];return(r+(a-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),s=this.getPoint(i),o=t||(a.isVector2?new D8:new u7);return o.copy(s).sub(a).normalize(),o}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new u7,r=[],i=[],a=[],s=new u7,o=new B7;for(let d=0;d<=e;d++){const t=d/e;r[d]=this.getTangentAt(t,new u7)}i[0]=new u7,a[0]=new u7;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],s),a[0].crossVectors(r[0],i[0]);for(let d=1;d<=e;d++){if(i[d]=i[d-1].clone(),a[d]=a[d-1].clone(),s.crossVectors(r[d-1],r[d]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(P8(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(o.makeRotationAxis(s,e))}a[d].crossVectors(r[d],i[d])}if(!0===t){let t=Math.acos(P8(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(s.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(o.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class jne extends Une{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,s=!1,o=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=s,this.aRotation=o}getPoint(e,t=new D8){const n=t,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);const s=this.aStartAngle+e*i;let o=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=o-this.aX,r=l-this.aY;o=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Bne extends jne{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function zne(){let e=0,t=0,n=0,r=0;function i(i,a,s,o){e=i,t=s,n=-3*i+3*a-2*s-o,r=2*i-2*a+s+o}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,s,o){let l=(t-e)/a-(n-e)/(a+s)+(n-t)/s,c=(n-t)/s-(r-t)/(s+o)+(r-n)/o;l*=s,c*=s,i(t,n,l,c)},calc:function(i){const a=i*i;return e+t*i+n*a+r*(a*i)}}}const Vne=new u7,Hne=new zne,Wne=new zne,Gne=new zne;class $ne extends Une{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new u7){const n=t,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e;let s,o,l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?s=r[(l-1)%i]:(Vne.subVectors(r[0],r[1]).add(r[0]),s=Vne);const u=r[l%i],h=r[(l+1)%i];if(this.closed||l+2<i?o=r[(l+2)%i]:(Vne.subVectors(r[i-1],r[i-2]).add(r[i-1]),o=Vne),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(s.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(o),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Hne.initNonuniformCatmullRom(s.x,u.x,h.x,o.x,t,n,r),Wne.initNonuniformCatmullRom(s.y,u.y,h.y,o.y,t,n,r),Gne.initNonuniformCatmullRom(s.z,u.z,h.z,o.z,t,n,r)}else"catmullrom"===this.curveType&&(Hne.initCatmullRom(s.x,u.x,h.x,o.x,this.tension),Wne.initCatmullRom(s.y,u.y,h.y,o.y,this.tension),Gne.initCatmullRom(s.z,u.z,h.z,o.z,this.tension));return n.set(Hne.calc(c),Wne.calc(c),Gne.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new u7).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Xne(e,t,n,r,i){const a=.5*(r-t),s=.5*(i-n),o=e*e;return(2*n-2*r+a+s)*(e*o)+(-3*n+3*r-2*a-s)*o+a*e+n}function qne(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Yne(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class Kne extends Une{constructor(e=new D8,t=new D8,n=new D8,r=new D8){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new D8){const n=t,r=this.v0,i=this.v1,a=this.v2,s=this.v3;return n.set(Yne(e,r.x,i.x,a.x,s.x),Yne(e,r.y,i.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Jne extends Une{constructor(e=new u7,t=new u7,n=new u7,r=new u7){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new u7){const n=t,r=this.v0,i=this.v1,a=this.v2,s=this.v3;return n.set(Yne(e,r.x,i.x,a.x,s.x),Yne(e,r.y,i.y,a.y,s.y),Yne(e,r.z,i.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Zne extends Une{constructor(e=new D8,t=new D8){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new D8){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new D8){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qne extends Une{constructor(e=new u7,t=new u7){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new u7){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new u7){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ere extends Une{constructor(e=new D8,t=new D8,n=new D8){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new D8){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(qne(e,r.x,i.x,a.x),qne(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tre extends Une{constructor(e=new u7,t=new u7,n=new u7){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new u7){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(qne(e,r.x,i.x,a.x),qne(e,r.y,i.y,a.y),qne(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nre extends Une{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new D8){const n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),s=i-a,o=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(Xne(s,o.x,l.x,c.x,u.x),Xne(s,o.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new D8).fromArray(n))}return this}}var rre=Object.freeze({__proto__:null,ArcCurve:Bne,CatmullRomCurve3:$ne,CubicBezierCurve:Kne,CubicBezierCurve3:Jne,EllipseCurve:jne,LineCurve:Zne,LineCurve3:Qne,QuadraticBezierCurve:ere,QuadraticBezierCurve3:tre,SplineCurve:nre});class ire extends Une{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new rre[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],s=a.getLength(),o=0===s?0:1-e/s;return a.getPointAt(o,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],s=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,o=a.getPoints(s);for(let e=0;e<o.length;e++){const r=o[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new rre[n.type]).fromJSON(n))}return this}}class are extends ire{constructor(e){super(),this.type="Path",this.currentPoint=new D8,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Zne(this.currentPoint.clone(),new D8(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new ere(this.currentPoint.clone(),new D8(e,t),new D8(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const s=new Kne(this.currentPoint.clone(),new D8(e,t),new D8(n,r),new D8(i,a));return this.curves.push(s),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new nre(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){const s=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+s,t+o,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,s,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,s,o),this}absellipse(e,t,n,r,i,a,s,o){const l=new jne(e,t,n,r,i,a,s,o);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class sre extends are{constructor(e){super(e),this.uuid=C8(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new are).fromJSON(n))}return this}}function ore(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let a=lre(e,0,i,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c;if(r&&(a=function(e,t,n,r){const i=[];for(let a=0,s=t.length;a<s;a++){const n=lre(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r,!1);n===n.next&&(n.steiner=!0),i.push(bre(n))}i.sort(mre);for(let a=0;a<i.length;a++)n=gre(i[a],n);return n}(e,t,a,n)),e.length>80*n){o=1/0,l=1/0;let t=-1/0,r=-1/0;for(let a=n;a<i;a+=n){const n=e[a],i=e[a+1];n<o&&(o=n),i<l&&(l=i),n>t&&(t=n),i>r&&(r=i)}c=Math.max(t-o,r-l),c=0!==c?32767/c:0}return ure(a,s,n,o,l,c,0),s}function lre(e,t,n,r,i){let a;if(i===function(e,t,n,r){let i=0;for(let a=t,s=n-r;a<n;a+=r)i+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return i}(e,t,n,r)>0)for(let s=t;s<n;s+=r)a=Ore(s/r|0,e[s],e[s+1],a);else for(let s=n-r;s>=t;s-=r)a=Ore(s/r|0,e[s],e[s+1],a);return a&&Tre(a,a.next)&&(kre(a),a=a.next),a}function cre(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Tre(r,r.next)&&0!==Sre(r.prev,r,r.next))r=r.next;else{if(kre(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function ure(e,t,n,r,i,a,s){if(!e)return;!s&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=yre(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n=1;do{let r,i=e;e=null;let a=null;for(t=0;i;){t++;let s=i,o=0;for(let e=0;e<n&&(o++,s=s.nextZ,s);e++);let l=n;for(;o>0||l>0&&s;)0!==o&&(0===l||!s||i.z<=s.z)?(r=i,i=i.nextZ,o--):(r=s,s=s.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;i=s}a.nextZ=null,n*=2}while(t>1)}(i)}(e,r,i,a);let o=e;for(;e.prev!==e.next;){const l=e.prev,c=e.next;if(a?dre(e,r,i,a):hre(e))t.push(l.i,e.i,c.i),kre(e),e=c.next,o=c.next;else if((e=c)===o){s?1===s?ure(e=fre(cre(e),t),t,n,r,i,a,2):2===s&&pre(e,t,n,r,i,a):ure(cre(e),t,n,r,i,a,1);break}}}function hre(e){const t=e.prev,n=e,r=e.next;if(Sre(t,n,r)>=0)return!1;const i=t.x,a=n.x,s=r.x,o=t.y,l=n.y,c=r.y,u=Math.min(i,a,s),h=Math.min(o,l,c),d=Math.max(i,a,s),f=Math.max(o,l,c);let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=d&&p.y>=h&&p.y<=f&&wre(i,o,a,l,s,c,p.x,p.y)&&Sre(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function dre(e,t,n,r){const i=e.prev,a=e,s=e.next;if(Sre(i,a,s)>=0)return!1;const o=i.x,l=a.x,c=s.x,u=i.y,h=a.y,d=s.y,f=Math.min(o,l,c),p=Math.min(u,h,d),m=Math.max(o,l,c),g=Math.max(u,h,d),v=yre(f,p,t,n,r),y=yre(m,g,t,n,r);let b=e.prevZ,x=e.nextZ;for(;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&wre(o,u,l,h,c,d,b.x,b.y)&&Sre(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==s&&wre(o,u,l,h,c,d,x.x,x.y)&&Sre(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&wre(o,u,l,h,c,d,b.x,b.y)&&Sre(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==s&&wre(o,u,l,h,c,d,x.x,x.y)&&Sre(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function fre(e,t){let n=e;do{const r=n.prev,i=n.next.next;!Tre(r,i)&&Ere(r,n,n.next,i)&&Cre(r,i)&&Cre(i,r)&&(t.push(r.i,n.i,i.i),kre(n),kre(n.next),n=e=i),n=n.next}while(n!==e);return cre(n)}function pre(e,t,n,r,i,a){let s=e;do{let e=s.next.next;for(;e!==s.prev;){if(s.i!==e.i&&_re(s,e)){let o=Pre(s,e);return s=cre(s,s.next),o=cre(o,o.next),ure(s,t,n,r,i,a,0),void ure(o,t,n,r,i,a,0)}e=e.next}s=s.next}while(s!==e)}function mre(e,t){let n=e.x-t.x;if(0===n&&(n=e.y-t.y,0===n)){n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)}return n}function gre(e,t){const n=function(e,t){let n=t;const r=e.x,i=e.y;let a,s=-1/0;if(Tre(e,n))return n;do{if(Tre(e,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>s&&(s=e,a=n.x<n.next.x?n:n.next,e===r))return a}n=n.next}while(n!==t);if(!a)return null;const o=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&xre(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const t=Math.abs(i-n.y)/(r-n.x);Cre(n,e)&&(t<u||t===u&&(n.x>a.x||n.x===a.x&&vre(a,n)))&&(a=n,u=t)}n=n.next}while(n!==o);return a}(e,t);if(!n)return t;const r=Pre(n,e);return cre(r,r.next),cre(n,n.next)}function vre(e,t){return Sre(e.prev,e,t.prev)<0&&Sre(t.next,e,e.next)<0}function yre(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function bre(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function xre(e,t,n,r,i,a,s,o){return(i-s)*(t-o)>=(e-s)*(a-o)&&(e-s)*(r-o)>=(n-s)*(t-o)&&(n-s)*(a-o)>=(i-s)*(r-o)}function wre(e,t,n,r,i,a,s,o){return!(e===s&&t===o)&&xre(e,t,n,r,i,a,s,o)}function _re(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ere(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Cre(e,t)&&Cre(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Sre(e.prev,e,t.prev)||Sre(e,t.prev,t))||Tre(e,t)&&Sre(e.prev,e,e.next)>0&&Sre(t.prev,t,t.next)>0)}function Sre(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Tre(e,t){return e.x===t.x&&e.y===t.y}function Ere(e,t,n,r){const i=Are(Sre(e,t,n)),a=Are(Sre(e,t,r)),s=Are(Sre(n,r,e)),o=Are(Sre(n,r,t));return i!==a&&s!==o||(!(0!==i||!Mre(e,n,t))||(!(0!==a||!Mre(e,r,t))||(!(0!==s||!Mre(n,e,r))||!(0!==o||!Mre(n,t,r)))))}function Mre(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Are(e){return e>0?1:e<0?-1:0}function Cre(e,t){return Sre(e.prev,e,e.next)<0?Sre(e,t,e.next)>=0&&Sre(e,e.prev,t)>=0:Sre(e,t,e.prev)<0||Sre(e,e.next,t)<0}function Pre(e,t){const n=Rre(e.i,e.x,e.y),r=Rre(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Ore(e,t,n,r){const i=Rre(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function kre(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Rre(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Ire{static triangulate(e,t,n=2){return ore(e,t,n)}}class Nre{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Nre.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Dre(e),Lre(n,e);let a=e.length;t.forEach(Dre);for(let o=0;o<t.length;o++)r.push(a),a+=t[o].length,Lre(n,t[o]);const s=Ire.triangulate(n,r);for(let o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}}function Dre(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Lre(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Fre extends tee{constructor(e=new sre([new D8(.5,.5),new D8(-.5,.5),new D8(-.5,-.5),new D8(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let s=0,o=e.length;s<o;s++){a(e[s])}function a(e){const a=[],s=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Ure;let g,v,y,b,x,w=!1;p&&(g=p.getSpacedPoints(o),w=!0,c=!1,v=p.computeFrenetFrames(o,!1),y=new u7,b=new u7,x=new u7),c||(f=0,u=0,h=0,d=0);const _=e.extractPoints(s);let S=_.shape;const T=_.holes;if(!Nre.isClockWise(S)){S=S.reverse();for(let e=0,t=T.length;e<t;e++){const t=T[e];Nre.isClockWise(t)&&(T[e]=t.reverse())}}function E(e){const t=1e-10*1e-10;let n=e[0];for(let r=1;r<=e.length;r++){const i=r%e.length,a=e[i],s=a.x-n.x,o=a.y-n.y,l=s*s+o*o,c=Math.max(Math.abs(a.x),Math.abs(a.y),Math.abs(n.x),Math.abs(n.y));l<=t*c*c?(e.splice(i,1),r--):n=a}}E(S),T.forEach(E);const M=T.length,A=S;for(let t=0;t<M;t++){const e=T[t];S=S.concat(e)}function C(e,t,n){return e.clone().addScaledVector(t,n)}const P=S.length;function O(e,t,n){let r,i,a;const s=e.x-t.x,o=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=s*s+o*o,h=s*c-o*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=t.x-o/h,p=t.y+s/h,m=((n.x-c/d-f)*c-(n.y+l/d-p)*l)/(s*c-o*l);r=f+s*m-e.x,i=p+o*m-e.y;const g=r*r+i*i;if(g<=2)return new D8(r,i);a=Math.sqrt(g/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(c)&&(e=!0),e?(r=-o,i=s,a=Math.sqrt(u)):(r=s,i=o,a=Math.sqrt(u/2))}return new D8(r/a,i/a)}const k=[];for(let t=0,n=A.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),k[t]=O(A[t],A[r],A[i]);const R=[];let I,N,D=k.concat();for(let t=0,n=M;t<n;t++){const e=T[t];I=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=O(e[t],e[r],e[i]);R.push(I),D=D.concat(I)}if(0===f)N=Nre.triangulateShape(A,T);else{const e=[],t=[];for(let n=0;n<f;n++){const r=n/f,i=u*Math.cos(r*Math.PI/2),a=h*Math.sin(r*Math.PI/2)+d;for(let t=0,n=A.length;t<n;t++){const n=C(A[t],k[t],a);j(n.x,n.y,-i),0===r&&e.push(n)}for(let e=0,n=M;e<n;e++){const n=T[e];I=R[e];const s=[];for(let e=0,t=n.length;e<t;e++){const t=C(n[e],I[e],a);j(t.x,t.y,-i),0===r&&s.push(t)}0===r&&t.push(s)}}N=Nre.triangulateShape(e,t)}const L=N.length,F=h+d;for(let t=0;t<P;t++){const e=c?C(S[t],D[t],F):S[t];w?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),x.copy(g[0]).add(b).add(y),j(x.x,x.y,x.z)):j(e.x,e.y,0)}for(let t=1;t<=o;t++)for(let e=0;e<P;e++){const n=c?C(S[e],D[e],F):S[e];w?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),x.copy(g[t]).add(b).add(y),j(x.x,x.y,x.z)):j(n.x,n.y,l/o*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=A.length;t<i;t++){const e=C(A[t],k[t],r);j(e.x,e.y,l+n)}for(let t=0,i=T.length;t<i;t++){const e=T[t];I=R[t];for(let t=0,i=e.length;t<i;t++){const i=C(e[t],I[t],r);w?j(i.x,i.y+g[o-1].y,g[o-1].x+n):j(i.x,i.y,l+n)}}}function U(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=o+2*f;e<n;e++){const n=P*e,a=P*(e+1);z(t+r+n,t+i+n,t+i+a,t+r+a)}}}function j(e,t,n){a.push(e),a.push(t),a.push(n)}function B(e,t,i){V(e),V(t),V(i);const a=r.length/3,s=m.generateTopUV(n,r,a-3,a-2,a-1);H(s[0]),H(s[1]),H(s[2])}function z(e,t,i,a){V(e),V(t),V(a),V(t),V(i),V(a);const s=r.length/3,o=m.generateSideWallUV(n,r,s-6,s-3,s-2,s-1);H(o[0]),H(o[1]),H(o[3]),H(o[1]),H(o[2]),H(o[3])}function V(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function H(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=P*e;for(let n=0;n<L;n++){const e=N[n];B(e[2]+t,e[1]+t,e[0]+t)}e=o+2*f,t=P*e;for(let n=0;n<L;n++){const e=N[n];B(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<L;e++){const t=N[e];B(t[2],t[1],t[0])}for(let e=0;e<L;e++){const t=N[e];B(t[0]+P*o,t[1]+P*o,t[2]+P*o)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;U(A,t),t+=A.length;for(let n=0,r=T.length;n<r;n++){const e=T[n];U(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new X9(r,3)),this.setAttribute("uv",new X9(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new rre[r.type]).fromJSON(r)),new Fre(n,e.options)}}const Ure={generateTopUV:function(e,t,n,r,i){const a=t[3*n],s=t[3*n+1],o=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new D8(a,s),new D8(o,l),new D8(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){const s=t[3*n],o=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(o-u)<Math.abs(s-c)?[new D8(s,1-l),new D8(c,1-h),new D8(d,1-p),new D8(m,1-v)]:[new D8(o,1-l),new D8(u,1-h),new D8(f,1-p),new D8(g,1-v)]}};class jre extends kne{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jre(e.radius,e.detail)}}class Bre extends tee{constructor(e=[new D8(0,-.5),new D8(.5,0),new D8(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=P8(r,0,2*Math.PI);const i=[],a=[],s=[],o=[],l=[],c=1/t,u=new u7,h=new D8,d=new u7,f=new u7,p=new u7;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,d.x=1*g,d.y=-m,d.z=0*g,p.copy(d),d.normalize(),o.push(d.x,d.y,d.z);break;case e.length-1:o.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,d.x=1*g,d.y=-m,d.z=0*g,f.copy(d),d.x+=p.x,d.y+=p.y,d.z+=p.z,d.normalize(),o.push(d.x,d.y,d.z),p.copy(f)}for(let v=0;v<=t;v++){const i=n+v*c*r,d=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*d,u.y=e[n].y,u.z=e[n].x*f,a.push(u.x,u.y,u.z),h.x=v/t,h.y=n/(e.length-1),s.push(h.x,h.y);const r=o[3*n+0]*d,i=o[3*n+1],c=o[3*n+0]*f;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,a=n+e.length,s=n+e.length+1,o=n+1;i.push(r,a,o),i.push(s,o,a)}this.setIndex(i),this.setAttribute("position",new X9(a,3)),this.setAttribute("uv",new X9(s,2)),this.setAttribute("normal",new X9(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bre(e.points,e.segments,e.phiStart,e.phiLength)}}class zre extends kne{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zre(e.radius,e.detail)}}class Vre extends tee{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,s=Math.floor(n),o=Math.floor(r),l=s+1,c=o+1,u=e/s,h=t/o,d=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*h-a;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/s),m.push(1-g/o)}}for(let g=0;g<o;g++)for(let e=0;e<s;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;d.push(t,n,i),d.push(n,r,i)}this.setIndex(d),this.setAttribute("position",new X9(f,3)),this.setAttribute("normal",new X9(p,3)),this.setAttribute("uv",new X9(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vre(e.width,e.height,e.widthSegments,e.heightSegments)}}class Hre extends tee{constructor(e=.5,t=1,n=32,r=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n);const s=[],o=[],l=[],c=[];let u=e;const h=(t-e)/(r=Math.max(1,r)),d=new u7,f=new D8;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*a;d.x=u*Math.cos(r),d.y=u*Math.sin(r),o.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(d.x/t+1)/2,f.y=(d.y/t+1)/2,c.push(f.x,f.y)}u+=h}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,a=r+n+1,o=r+n+2,l=r+1;s.push(i,a,l),s.push(a,o,l)}}this.setIndex(s),this.setAttribute("position",new X9(o,3)),this.setAttribute("normal",new X9(l,3)),this.setAttribute("uv",new X9(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hre(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Wre extends tee{constructor(e=new sre([new D8(0,.5),new D8(-.5,-.5),new D8(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let s=0,o=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,o,c),s+=o,o=0;function l(e){const s=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Nre.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Nre.isClockWise(e)&&(u[t]=e.reverse())}const h=Nre.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),a.push(e.x,e.y)}for(let t=0,r=h.length;t<r;t++){const e=h[t],r=e[0]+s,i=e[1]+s,a=e[2]+s;n.push(r,i,a),o+=3}}this.setIndex(n),this.setAttribute("position",new X9(r,3)),this.setAttribute("normal",new X9(i,3)),this.setAttribute("uv",new X9(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Wre(n,e.curveSegments)}}class Gre extends tee{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const o=Math.min(a+s,Math.PI);let l=0;const c=[],u=new u7,h=new u7,d=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const d=[],v=g/n;let y=0;0===g&&0===a?y=.5/t:g===n&&o===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const o=n/t;u.x=-e*Math.cos(r+o*i)*Math.sin(a+v*s),u.y=e*Math.cos(a+v*s),u.z=e*Math.sin(r+o*i)*Math.sin(a+v*s),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(o+y,1-v),d.push(l++)}c.push(d)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],s=c[g+1][e+1];(0!==g||a>0)&&d.push(t,r,s),(g!==n-1||o<Math.PI)&&d.push(r,i,s)}this.setIndex(d),this.setAttribute("position",new X9(f,3)),this.setAttribute("normal",new X9(p,3)),this.setAttribute("uv",new X9(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gre(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $re extends kne{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $re(e.radius,e.detail)}}class Xre extends tee{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],o=[],l=[],c=new u7,u=new u7,h=new u7;for(let d=0;d<=n;d++)for(let a=0;a<=r;a++){const f=a/r*i,p=d/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),s.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),h.subVectors(u,c).normalize(),o.push(h.x,h.y,h.z),l.push(a/r),l.push(d/n)}for(let d=1;d<=n;d++)for(let e=1;e<=r;e++){const t=(r+1)*d+e-1,n=(r+1)*(d-1)+e-1,i=(r+1)*(d-1)+e,s=(r+1)*d+e;a.push(t,n,s),a.push(n,i,s)}this.setIndex(a),this.setAttribute("position",new X9(s,3)),this.setAttribute("normal",new X9(o,3)),this.setAttribute("uv",new X9(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xre(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class qre extends tee{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const s=[],o=[],l=[],c=[],u=new u7,h=new u7,d=new u7,f=new u7,p=new u7,m=new u7,g=new u7;for(let y=0;y<=n;++y){const s=y/n*i*Math.PI*2;v(s,i,a,e,d),v(s+.01,i,a,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),s=t*Math.sin(i);u.x=d.x+(a*g.x+s*p.x),u.y=d.y+(a*g.y+s*p.y),u.z=d.z+(a*g.z+s*p.z),o.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,a=(r+1)*(y-1)+e;s.push(t,n,a),s.push(n,i,a)}function v(e,t,n,r,i){const a=Math.cos(e),s=Math.sin(e),o=n/t*e,l=Math.cos(o);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*s*.5,i.z=r*Math.sin(o)*.5}this.setIndex(s),this.setAttribute("position",new X9(o,3)),this.setAttribute("normal",new X9(l,3)),this.setAttribute("uv",new X9(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qre(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Yre extends tee{constructor(e=new tre(new u7(-1,-1,0),new u7(-1,1,0),new u7(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new u7,o=new u7,l=new D8;let c=new u7;const u=[],h=[],d=[],f=[];function p(i){c=e.getPointAt(i/t,c);const l=a.normals[i],d=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);o.x=a*l.x+i*d.x,o.y=a*l.y+i*d.y,o.z=a*l.z+i*d.z,o.normalize(),h.push(o.x,o.y,o.z),s.x=c.x+n*o.x,s.y=c.y+n*o.y,s.z=c.z+n*o.z,u.push(s.x,s.y,s.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,s=(r+1)*(e-1)+t;f.push(n,i,s),f.push(i,a,s)}}()}(),this.setIndex(f),this.setAttribute("position",new X9(u,3)),this.setAttribute("normal",new X9(h,3)),this.setAttribute("uv",new X9(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Yre((new rre[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Kre extends tee{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new u7,i=new u7;if(null!==e.index){const a=e.attributes.position,s=e.index;let o=e.groups;0===o.length&&(o=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,l=o.length;e<l;++e){const l=o[e],c=l.start;for(let e=c,o=c+l.count;e<o;e+=3)for(let l=0;l<3;l++){const o=s.getX(e+l),c=s.getX(e+(l+1)%3);r.fromBufferAttribute(a,o),i.fromBufferAttribute(a,c),!0===Jre(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,s=a.count/3;e<s;e++)for(let o=0;o<3;o++){const s=3*e+o,l=3*e+(o+1)%3;r.fromBufferAttribute(a,s),i.fromBufferAttribute(a,l),!0===Jre(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new X9(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Jre(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Zre=Object.freeze({__proto__:null,BoxGeometry:mee,CapsuleGeometry:Ane,CircleGeometry:Cne,ConeGeometry:One,CylinderGeometry:Pne,DodecahedronGeometry:Rne,EdgesGeometry:Fne,ExtrudeGeometry:Fre,IcosahedronGeometry:jre,LatheGeometry:Bre,OctahedronGeometry:zre,PlaneGeometry:Vre,PolyhedronGeometry:kne,RingGeometry:Hre,ShapeGeometry:Wre,SphereGeometry:Gre,TetrahedronGeometry:$re,TorusGeometry:Xre,TorusKnotGeometry:qre,TubeGeometry:Yre,WireframeGeometry:Kre});class Qre extends D9{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new R9(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class eie extends xee{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class tie extends D9{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new R9(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new R9(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new D8(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new K7,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nie extends tie{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new D8(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return P8(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new R9(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new R9(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new R9(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class rie extends D9{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new R9(16777215),this.specular=new R9(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new R9(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new D8(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new K7,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iie extends D9{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new R9(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new R9(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new D8(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class aie extends D9{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new D8(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class sie extends D9{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new R9(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new R9(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new D8(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new K7,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oie extends D9{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lie extends D9{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class cie extends D9{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new R9(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new D8(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uie extends rne{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hie(e,t){return e&&e.constructor!==t?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function die(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fie(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function pie(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,s=0;s!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[s++]=e[r+n]}return i}function mie(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let s=a[r];if(void 0!==s)if(Array.isArray(s))do{s=a[r],void 0!==s&&(t.push(a.time),n.push(...s)),a=e[i++]}while(void 0!==a);else if(void 0!==s.toArray)do{s=a[r],void 0!==s&&(t.push(a.time),s.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{s=a[r],void 0!==s&&(t.push(a.time),n.push(s)),a=e[i++]}while(void 0!==a)}class gie{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;{const s=t[1];e<s&&(n=2,i=s);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let a=0;a!==r;++a)t[a]=n[i+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vie extends gie{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Q6,endingEnd:Q6}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,s=r[i],o=r[a];if(void 0===s)switch(this.getSettings_().endingStart){case e8:i=e,s=2*t-n;break;case t8:i=r.length-2,s=t+r[i]-r[i+1];break;default:i=e,s=n}if(void 0===o)switch(this.getSettings_().endingEnd){case e8:a=e,o=2*n-t;break;case t8:a=1,o=n+r[1]-r[0];break;default:a=e-1,o=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(o-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p;for(let x=0;x!==s;++x)i[x]=g*a[c+x]+v*a[l+x]+y*a[o+x]+b*a[u+x];return i}}class yie extends gie{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,c=(n-t)/(r-t),u=1-c;for(let h=0;h!==s;++h)i[h]=a[l+h]*u+a[o+h]*c;return i}}class bie extends gie{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class xie{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hie(t,this.TimeBufferType),this.values=hie(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:hie(e.times,Array),values:hie(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new bie(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new yie(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vie(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case K6:t=this.InterpolantFactoryMethodDiscrete;break;case J6:t=this.InterpolantFactoryMethodLinear;break;case Z6:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return K6;case this.InterpolantFactoryMethodLinear:return J6;case this.InterpolantFactoryMethodSmooth:return Z6}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(e=!1);let a=null;for(let s=0;s!==i;s++){const t=n[s];if("number"==typeof t&&isNaN(t)){e=!1;break}if(null!==a&&a>t){e=!1;break}a=t}if(void 0!==r&&die(r))for(let s=0,o=r.length;s!==o;++s){const t=r[s];if(isNaN(t)){e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Z6,i=e.length-1;let a=1;for(let s=1;s<i;++s){let i=!1;const o=e[s];if(o!==e[s+1]&&(1!==s||o!==e[0]))if(r)i=!0;else{const e=s*n,r=e-n,a=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[r+s]||n!==t[a+s]){i=!0;break}}}if(i){if(s!==a){e[a]=e[s];const r=s*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,s=0;s!==n;++s)t[r+s]=t[e+s];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}xie.prototype.ValueTypeName="",xie.prototype.TimeBufferType=Float32Array,xie.prototype.ValueBufferType=Float32Array,xie.prototype.DefaultInterpolation=J6;class wie extends xie{constructor(e,t,n){super(e,t,n)}}wie.prototype.ValueTypeName="bool",wie.prototype.ValueBufferType=Array,wie.prototype.DefaultInterpolation=K6,wie.prototype.InterpolantFactoryMethodLinear=void 0,wie.prototype.InterpolantFactoryMethodSmooth=void 0;class _ie extends xie{constructor(e,t,n,r){super(e,t,n,r)}}_ie.prototype.ValueTypeName="color";class Sie extends xie{constructor(e,t,n,r){super(e,t,n,r)}}Sie.prototype.ValueTypeName="number";class Tie extends gie{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=(n-t)/(r-t);let l=e*s;for(let c=l+s;l!==c;l+=4)c7.slerpFlat(i,0,a,l-s,a,l,o);return i}}class Eie extends xie{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new Tie(this.times,this.values,this.getValueSize(),e)}}Eie.prototype.ValueTypeName="quaternion",Eie.prototype.InterpolantFactoryMethodSmooth=void 0;class Mie extends xie{constructor(e,t,n){super(e,t,n)}}Mie.prototype.ValueTypeName="string",Mie.prototype.ValueBufferType=Array,Mie.prototype.DefaultInterpolation=K6,Mie.prototype.InterpolantFactoryMethodLinear=void 0,Mie.prototype.InterpolantFactoryMethodSmooth=void 0;class Aie extends xie{constructor(e,t,n,r){super(e,t,n,r)}}Aie.prototype.ValueTypeName="vector";class Cie{constructor(e="",t=-1,n=[],r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=C8(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,s=n.length;a!==s;++a)t.push(Pie(n[a]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,a=n.length;i!==a;++i)t.push(xie.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let s=0;s<i;s++){let e=[],o=[];e.push((s+i-1)%i,s,(s+1)%i),o.push(0,1,0);const l=fie(e);e=pie(e,1,l),o=pie(o,1,l),r||0!==e[0]||(e.push(i),o.push(o[0])),a.push(new Sie(".morphTargetInfluences["+t[s].name+"]",e,o).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let s=0,o=e.length;s<o;s++){const t=e[s],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const a=[];for(const s in r)a.push(this.CreateFromMorphTargetSequence(s,r[s],t,n));return a}static parseAnimation(e,t){if(!e)return null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],s=[];mie(n,a,s,r),0!==a.length&&i.push(new e(t,a,s))}},r=[],i=e.name||"default",a=e.fps||30,s=e.blendMode;let o=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],a=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),a.push(r.morphTarget===i?1:0)}r.push(new Sie(".morphTargetInfluence["+i+"]",t,a))}o=t.length*a}else{const i=".bones["+t[c].name+"]";n(Aie,i+".position",e,"pos",r),n(Eie,i+".quaternion",e,"rot",r),n(Aie,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,o,r,s)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Pie(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sie;case"vector":case"vector2":case"vector3":case"vector4":return Aie;case"color":return _ie;case"quaternion":return Eie;case"bool":case"boolean":return wie;case"string":return Mie}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];mie(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const Oie={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class kie{constructor(e,t,n){const r=this;let i,a=!1,s=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===a&&void 0!==r.onStart&&r.onStart(e,s,o),a=!0},this.itemEnd=function(e){s++,void 0!==r.onProgress&&r.onProgress(e,s,o),s===o&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Rie=new kie;class Iie{constructor(e){this.manager=void 0!==e?e:Rie,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Iie.DEFAULT_MATERIAL_NAME="__DEFAULT";const Nie={};class Die extends Error{constructor(e,t){super(e),this.response=t}}class Lie extends Iie{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=Oie.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==Nie[e])return void Nie[e].push({onLoad:t,onProgress:n,onError:r});Nie[e]=[],Nie[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,o=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(t.status,"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Nie[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=i?parseInt(i):0,s=0!==a;let o=0;const l=new ReadableStream({start(e){!function t(){r.read().then((({done:r,value:i})=>{if(r)e.close();else{o+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:s,loaded:o,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}}),(t=>{e.error(t)}))}()}});return new Response(l)}throw new Die(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,s)));case"json":return e.json();default:if(""===s)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{Oie.add(e,t);const n=Nie[e];delete Nie[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=Nie[e];if(void 0===n)throw this.manager.itemError(e),t;delete Nie[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Fie extends Iie{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Oie.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;const s=z8("img");function o(){c(),Oie.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){s.removeEventListener("load",o,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",o,!1),s.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(e),s.src=e,s}}class Uie extends f9{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new R9(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class jie extends Uie{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(f9.DEFAULT_UP),this.updateMatrix(),this.groundColor=new R9(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Bie=new B7,zie=new u7,Vie=new u7;class Hie{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new D8(512,512),this.mapType=K5,this.map=null,this.mapPass=null,this.matrix=new B7,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Nte,this._frameExtents=new D8(1,1),this._viewportCount=1,this._viewports=[new i7(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;zie.setFromMatrixPosition(e.matrixWorld),t.position.copy(zie),Vie.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Vie),t.updateMatrixWorld(),Bie.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bie),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Bie)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Wie extends Hie{constructor(){super(new Eee(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*A8*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Gie extends Uie{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(f9.DEFAULT_UP),this.updateMatrix(),this.target=new f9,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new Wie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $ie=new B7,Xie=new u7,qie=new u7;class Yie extends Hie{constructor(){super(new Eee(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new D8(4,2),this._viewportCount=6,this._viewports=[new i7(2,1,1,1),new i7(0,1,1,1),new i7(3,1,1,1),new i7(1,1,1,1),new i7(3,0,1,1),new i7(1,0,1,1)],this._cubeDirections=[new u7(1,0,0),new u7(-1,0,0),new u7(0,0,1),new u7(0,0,-1),new u7(0,1,0),new u7(0,-1,0)],this._cubeUps=[new u7(0,1,0),new u7(0,1,0),new u7(0,1,0),new u7(0,1,0),new u7(0,0,1),new u7(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Xie.setFromMatrixPosition(e.matrixWorld),n.position.copy(Xie),qie.copy(n.position),qie.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(qie),n.updateMatrixWorld(),r.makeTranslation(-Xie.x,-Xie.y,-Xie.z),$ie.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix($ie)}}class Kie extends Uie{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Yie}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Jie extends wee{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,s=r+t,o=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,s-=t*this.view.offsetY,o=s-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,s,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class Zie extends Hie{constructor(){super(new Jie(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Qie extends Uie{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(f9.DEFAULT_UP),this.updateMatrix(),this.target=new f9,this.shadow=new Zie}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class eae extends Uie{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class tae extends Uie{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class nae{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new u7)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class rae extends Uie{constructor(e=new nae,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class iae extends Iie{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new Lie(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r&&r(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return t[e],t[e]}const r=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new R9).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new R9).setHex(t.value);break;case"v2":r.uniforms[i].value=(new D8).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new u7).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new i7).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new L8).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new B7).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new D8).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new D8).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return iae.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:Qre,SpriteMaterial:jee,RawShaderMaterial:eie,ShaderMaterial:xee,PointsMaterial:vne,MeshPhysicalMaterial:nie,MeshStandardMaterial:tie,MeshPhongMaterial:rie,MeshToonMaterial:iie,MeshNormalMaterial:aie,MeshLambertMaterial:sie,MeshDepthMaterial:oie,MeshDistanceMaterial:lie,MeshBasicMaterial:L9,MeshMatcapMaterial:cie,LineDashedMaterial:uie,LineBasicMaterial:rne,Material:D9}[e]}}class aae{static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class sae extends tee{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class oae extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Lie(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r&&r(a),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),s=B8(i.type,a),o=new Lee(s,i.stride);return o.uuid=i.uuid,t[r]=o,o}const i=e.isInstancedBufferGeometry?new sae:new tee,a=e.data.index;if(void 0!==a){const e=B8(a.type,a.array);i.setIndex(new W9(e,1))}const s=e.data.attributes;for(const u in s){const t=s[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Uee(i,t.itemSize,t.offset,t.normalized)}else{const e=B8(t.type,t.array);n=new(t.isInstancedBufferAttribute?bte:W9)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(u,n)}const o=e.data.morphAttributes;if(o)for(const u in o){const t=o[u],n=[];for(let i=0,a=t.length;i<a;i++){const a=t[i];let s;if(a.isInterleavedBufferAttribute){const t=r(e.data,a.data);s=new Uee(t,a.itemSize,a.offset,a.normalized)}else{const e=B8(a.type,a.array);s=new W9(e,a.itemSize,a.normalized)}void 0!==a.name&&(s.name=a.name),n.push(s)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new u7;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new k7(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}const lae={UVMapping:D5,CubeReflectionMapping:L5,CubeRefractionMapping:F5,EquirectangularReflectionMapping:U5,EquirectangularRefractionMapping:j5,CubeUVReflectionMapping:B5},cae={RepeatWrapping:z5,ClampToEdgeWrapping:V5,MirroredRepeatWrapping:H5},uae={NearestFilter:W5,NearestMipmapNearestFilter:G5,NearestMipmapLinearFilter:$5,LinearFilter:X5,LinearMipmapNearestFilter:q5,LinearMipmapLinearFilter:Y5};let hae;class dae{static getContext(){return void 0===hae&&(hae=new(window.AudioContext||window.webkitAudioContext)),hae}static setContext(e){hae=e}}const fae=new B7,pae=new B7,mae=new B7;class gae extends Eee{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class vae{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yae(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=yae();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function yae(){return performance.now()}const bae=new u7,xae=new c7,wae=new u7,_ae=new u7;class Sae extends f9{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType||(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice()),this}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Tae=new u7,Eae=new c7,Mae=new u7,Aae=new u7;class Cae{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let o=t,l=t+t;o!==l;++o)if(n[o]!==n[o+t]){s.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let a=0;a!==i;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){c7.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;c7.multiplyQuaternionsFlat(e,a,e,t,e,n),c7.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let s=0;s!==i;++s){const i=t+s;e[i]=e[i]*a+e[n+s]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const Pae="\\[\\]\\.:\\/",Oae=new RegExp("["+Pae+"]","g"),kae="[^"+Pae+"]",Rae="[^"+Pae.replace("\\.","")+"]",Iae=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",kae)+/(WCOD+)?/.source.replace("WCOD",Rae)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kae)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kae)+"$"),Nae=["material","materials","bones","map"];class Dae{constructor(e,t,n){this.path=t,this.parsedPath=n||Dae.parseTrackName(t),this.node=Dae.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Dae.Composite(e,t,n):new Dae(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Oae,"")}static parseTrackName(e){const t=Iae.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Nae.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Dae.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return;if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return;if(!e.material.map)return;e=e.material.map;break;default:if(void 0===e[n])return;e=e[n]}if(void 0!==r){if(void 0===e[r])return;e=e[r]}}const a=e[r];if(void 0===a){t.nodeName;return}let s=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?s=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(s=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.morphAttributes)return;void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}o=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(o=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Dae.Composite=class{constructor(e,t,n){const r=n||Dae.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Dae.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Dae.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Dae.prototype.GetterByBindingType=[Dae.prototype._getValue_direct,Dae.prototype._getValue_array,Dae.prototype._getValue_arrayElement,Dae.prototype._getValue_toArray],Dae.prototype.SetterByBindingTypeAndVersioning=[[Dae.prototype._setValue_direct,Dae.prototype._setValue_direct_setNeedsUpdate,Dae.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Dae.prototype._setValue_array,Dae.prototype._setValue_array_setNeedsUpdate,Dae.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Dae.prototype._setValue_arrayElement,Dae.prototype._setValue_arrayElement_setNeedsUpdate,Dae.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Dae.prototype._setValue_fromArray,Dae.prototype._setValue_fromArray_setNeedsUpdate,Dae.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Lae{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,s=new Array(a),o={endingStart:Q6,endingEnd:Q6};for(let l=0;l!==a;++l){const e=i[l].createInterpolant(null);s[l]=e,e.settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),!0===n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=i,o[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===r8)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(s);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=2202===n;if(0===e)return-1===i||!a||1&~i?r:t-r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&!(1&~i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=e8,r.endingEnd=e8):(r.endingStart=e?this.zeroSlopeAtStart?e8:Q6:t8,r.endingEnd=t?this.zeroSlopeAtEnd?e8:Q6:t8)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,o=a.sampleValues;return s[0]=i,o[0]=t,s[1]=i+e,o[1]=n,this}}const Fae=new Float32Array(1);class Uae{constructor(e){this.value=e}clone(){return new Uae(void 0===this.value.clone?this.value:this.value.clone())}}let jae=0;const Bae=new B7;class zae{constructor(e,t,n=0,r=1/0){this.ray=new j7(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new J7,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}setFromXRController(e){return Bae.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Bae),this}intersectObject(e,t=!0,n=[]){return Hae(e,this,n,t),n.sort(Vae),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)Hae(e[r],this,n,t);return n.sort(Vae),n}}function Vae(e,t){return e.distance-t.distance}function Hae(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Hae(r[e],t,n,!0)}}class Wae{constructor(e,t,n,r){Wae.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}const Gae=new D8;const $ae=new u7,Xae=new u7;const qae=new u7;const Yae=new u7,Kae=new B7,Jae=new B7;function Zae(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push(...Zae(e.children[n]));return t}const Qae=new u7,ese=new R9,tse=new R9;const nse=new u7,rse=new u7,ise=new u7;const ase=new u7,sse=new wee;function ose(e,t,n,r,i,a,s){ase.set(i,a,s).unproject(r);const o=t[e];if(void 0!==o){const e=n.getAttribute("position");for(let t=0,n=o.length;t<n;t++)e.setXYZ(o[t],ase.x,ase.y,ase.z)}}const lse=new f7;const cse=new u7;let use,hse;function dse(e,t,n,r){const i=function(e){switch(e){case K5:case J5:return{byteLength:1,components:1};case Q5:case Z5:case r6:return{byteLength:2,components:1};case i6:case a6:return{byteLength:2,components:4};case t6:case e6:case n6:return{byteLength:4,components:1};case o6:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(r);switch(n){case l6:return e*t;case f6:case p6:return e*t/i.components*i.byteLength;case m6:case g6:return e*t*2/i.components*i.byteLength;case c6:return e*t*3/i.components*i.byteLength;case u6:case v6:return e*t*4/i.components*i.byteLength;case y6:case b6:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case x6:case w6:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case S6:case E6:return Math.max(e,16)*Math.max(t,8)/4;case _6:case T6:return Math.max(e,8)*Math.max(t,8)/2;case M6:case A6:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case C6:case P6:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case O6:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case k6:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case R6:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case I6:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case N6:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case D6:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case L6:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case F6:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case U6:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case j6:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case B6:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case z6:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case V6:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case H6:case W6:case G6:return Math.ceil(e/4)*Math.ceil(t/4)*16;case $6:case X6:return Math.ceil(e/4)*Math.ceil(t/4)*8;case q6:case Y6:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}
/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
function fse(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function pse(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,a=r.byteLength,s=e.createBuffer();let o;if(e.bindBuffer(n,s),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)o=e.FLOAT;else if(r instanceof Uint16Array)o=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)o=e.SHORT;else if(r instanceof Uint32Array)o=e.UNSIGNED_INT;else if(r instanceof Int32Array)o=e.INT;else if(r instanceof Int8Array)o=e.BYTE;else if(r instanceof Uint8Array)o=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);o=e.UNSIGNED_BYTE}return{buffer:s,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort(((e,t)=>e.start-t.start));let t=0;for(let e=1;e<a.length;e++){const n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let n=0,s=a.length;n<s;n++){const t=a[n];e.bufferSubData(r,t.start*i.BYTES_PER_ELEMENT,i,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r5}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__=r5));const mse={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},gse={common:{diffuse:{value:new R9(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new L8},alphaMap:{value:null},alphaMapTransform:{value:new L8},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new L8}},envmap:{envMap:{value:null},envMapRotation:{value:new L8},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new L8}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new L8}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new L8},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new L8},normalScale:{value:new D8(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new L8},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new L8}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new L8}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new L8}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new R9(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new R9(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new L8},alphaTest:{value:0},uvTransform:{value:new L8}},sprite:{diffuse:{value:new R9(16777215)},opacity:{value:1},center:{value:new D8(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new L8},alphaMap:{value:null},alphaMapTransform:{value:new L8},alphaTest:{value:0}}},vse={basic:{uniforms:vee([gse.common,gse.specularmap,gse.envmap,gse.aomap,gse.lightmap,gse.fog]),vertexShader:mse.meshbasic_vert,fragmentShader:mse.meshbasic_frag},lambert:{uniforms:vee([gse.common,gse.specularmap,gse.envmap,gse.aomap,gse.lightmap,gse.emissivemap,gse.bumpmap,gse.normalmap,gse.displacementmap,gse.fog,gse.lights,{emissive:{value:new R9(0)}}]),vertexShader:mse.meshlambert_vert,fragmentShader:mse.meshlambert_frag},phong:{uniforms:vee([gse.common,gse.specularmap,gse.envmap,gse.aomap,gse.lightmap,gse.emissivemap,gse.bumpmap,gse.normalmap,gse.displacementmap,gse.fog,gse.lights,{emissive:{value:new R9(0)},specular:{value:new R9(1118481)},shininess:{value:30}}]),vertexShader:mse.meshphong_vert,fragmentShader:mse.meshphong_frag},standard:{uniforms:vee([gse.common,gse.envmap,gse.aomap,gse.lightmap,gse.emissivemap,gse.bumpmap,gse.normalmap,gse.displacementmap,gse.roughnessmap,gse.metalnessmap,gse.fog,gse.lights,{emissive:{value:new R9(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mse.meshphysical_vert,fragmentShader:mse.meshphysical_frag},toon:{uniforms:vee([gse.common,gse.aomap,gse.lightmap,gse.emissivemap,gse.bumpmap,gse.normalmap,gse.displacementmap,gse.gradientmap,gse.fog,gse.lights,{emissive:{value:new R9(0)}}]),vertexShader:mse.meshtoon_vert,fragmentShader:mse.meshtoon_frag},matcap:{uniforms:vee([gse.common,gse.bumpmap,gse.normalmap,gse.displacementmap,gse.fog,{matcap:{value:null}}]),vertexShader:mse.meshmatcap_vert,fragmentShader:mse.meshmatcap_frag},points:{uniforms:vee([gse.points,gse.fog]),vertexShader:mse.points_vert,fragmentShader:mse.points_frag},dashed:{uniforms:vee([gse.common,gse.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mse.linedashed_vert,fragmentShader:mse.linedashed_frag},depth:{uniforms:vee([gse.common,gse.displacementmap]),vertexShader:mse.depth_vert,fragmentShader:mse.depth_frag},normal:{uniforms:vee([gse.common,gse.bumpmap,gse.normalmap,gse.displacementmap,{opacity:{value:1}}]),vertexShader:mse.meshnormal_vert,fragmentShader:mse.meshnormal_frag},sprite:{uniforms:vee([gse.sprite,gse.fog]),vertexShader:mse.sprite_vert,fragmentShader:mse.sprite_frag},background:{uniforms:{uvTransform:{value:new L8},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mse.background_vert,fragmentShader:mse.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new L8}},vertexShader:mse.backgroundCube_vert,fragmentShader:mse.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mse.cube_vert,fragmentShader:mse.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mse.equirect_vert,fragmentShader:mse.equirect_frag},distanceRGBA:{uniforms:vee([gse.common,gse.displacementmap,{referencePosition:{value:new u7},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mse.distanceRGBA_vert,fragmentShader:mse.distanceRGBA_frag},shadow:{uniforms:vee([gse.lights,gse.fog,{color:{value:new R9(0)},opacity:{value:1}}]),vertexShader:mse.shadow_vert,fragmentShader:mse.shadow_frag}};vse.physical={uniforms:vee([vse.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new L8},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new L8},clearcoatNormalScale:{value:new D8(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new L8},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new L8},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new L8},sheen:{value:0},sheenColor:{value:new R9(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new L8},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new L8},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new L8},transmissionSamplerSize:{value:new D8},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new L8},attenuationDistance:{value:0},attenuationColor:{value:new R9(0)},specularColor:{value:new R9(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new L8},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new L8},anisotropyVector:{value:new D8},anisotropyMap:{value:null},anisotropyMapTransform:{value:new L8}}]),vertexShader:mse.meshphysical_vert,fragmentShader:mse.meshphysical_frag};const yse={r:0,b:0,g:0},bse=new K7,xse=new B7;function wse(e,t,n,r,i,a,s){const o=new R9(0);let l,c,u=!0===a?0:1,h=null,d=0,f=null;function p(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function m(t,n){t.getRGB(yse,yee(e)),r.buffers.color.setClear(yse.r,yse.g,yse.b,n,s)}return{getClearColor:function(){return o},setClearColor:function(e,t=1){o.set(e),u=t,m(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(o,u)},render:function(t){let n=!1;const i=p(t);null===i?m(o,u):i&&i.isColor&&(m(i,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,s),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===B5)?(void 0===c&&(c=new fee(new mee(1,1,1),new xee({name:"BackgroundCubeMaterial",uniforms:gee(vse.backgroundCube.uniforms),vertexShader:vse.backgroundCube.vertexShader,fragmentShader:vse.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),bse.copy(n.backgroundRotation),bse.x*=-1,bse.y*=-1,bse.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(bse.y*=-1,bse.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(xse.makeRotationFromEuler(bse)),c.material.toneMapped=q8.getTransfer(r.colorSpace)!==l8,h===r&&d===r.version&&f===e.toneMapping||(c.material.needsUpdate=!0,h=r,d=r.version,f=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new fee(new Vre(2,2),new xee({name:"BackgroundMaterial",uniforms:gee(vse.background.uniforms),vertexShader:vse.background.vertexShader,fragmentShader:vse.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=q8.getTransfer(r.colorSpace)!==l8,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),h===r&&d===r.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=r,d=r.version,f=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function _se(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=c(null);let a=i,s=!1;function o(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],i=[];for(let a=0;a<n;a++)t[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function u(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function h(e){d(e,0)}function d(t,n){const r=a.newAttributes,i=a.enabledAttributes,s=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),s[t]!==n&&(e.vertexAttribDivisor(t,n),s[t]=n)}function f(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,s,o){!0===o?e.vertexAttribIPointer(t,n,r,a,s):e.vertexAttribPointer(t,n,r,i,a,s)}function m(){g(),s=!0,a!==i&&(a=i,o(a.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(t,n,i){const a=!0===i.wireframe;let s=r[t.id];void 0===s&&(s={},r[t.id]=s);let o=s[n.id];void 0===o&&(o={},s[n.id]=o);let l=o[a];void 0===l&&(l=c(e.createVertexArray()),o[a]=l);return l}(m,l,i);a!==y&&(a=y,o(a.object)),v=function(e,t,n,r){const i=a.attributes,s=t.attributes;let o=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){const t=i[a];let n=s[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;o++}}return a.attributesNum!==o||a.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},s=t.attributes;let o=0;const l=n.getAttributes();for(const a in l){if(l[a].location>=0){let t=s[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[a]=n,o++}}a.attributes=i,a.attributesNum=o,a.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||s)&&(s=!1,function(n,r,i,a){u();const s=a.attributes,o=i.getAttributes(),l=r.defaultAttributeValues;for(const c in o){const r=o[c];if(r.location>=0){let i=s[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const s=i.normalized,o=i.itemSize,l=t.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,f=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||i.gpuType===e6;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)d(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,o/r.locationSize,u,s,l*f,(g+o/r.locationSize*e)*f,m)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)d(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,o/r.locationSize,u,s,o*f,o/r.locationSize*e*f,m)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}f()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:u,enableAttribute:h,disableUnusedAttributes:f}}function Sse(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,a);let s=0;for(let t=0;t<a;t++)s+=i[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,a,s,o){if(0===s)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],o[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,o,0,s);let t=0;for(let e=0;e<s;e++)t+=a[e]*o[e];n.update(t,r,1)}}}function Tse(e,t,n,r){let i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=void 0!==n.precision?n.precision:"highp";const o=a(s);o!==s&&(s=o);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===u6||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===r6&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==K5&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==n6&&!i)},precision:s,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:h>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function Ese(e){const t=this;let n=null,r=0,i=!1,a=!1;const s=new kte,o=new L8,l={value:null,needsUpdate:!1};function c(e,n,r,i){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const t=r+4*a,i=n.matrixWorldInverse;o.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==a;++n,l+=4)s.copy(e[n]).applyMatrix4(i,o),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(s,o,u){const h=s.clippingPlanes,d=s.clipIntersection,f=s.clipShadows,p=e.get(s);if(!i||null===h||0===h.length||a&&!f)a?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(h,o,t,u);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function Mse(e){let t=new WeakMap;function n(e,t){return t===U5?e.mapping=L5:t===j5&&(e.mapping=F5),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping;if(a===U5||a===j5){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const s=new Pee(a.height);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}const Ase=[.125,.215,.35,.446,.526,.582],Cse=20,Pse=new Jie,Ose=new R9;let kse=null,Rse=0,Ise=0,Nse=!1;const Dse=(1+Math.sqrt(5))/2,Lse=1/Dse,Fse=[new u7(-Dse,Lse,0),new u7(Dse,Lse,0),new u7(-Lse,0,Dse),new u7(Lse,0,Dse),new u7(0,Dse,-Lse),new u7(0,Dse,Lse),new u7(-1,1,-1),new u7(1,1,-1),new u7(-1,1,1),new u7(1,1,1)],Use=new u7;class jse{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100,i={}){const{size:a=256,position:s=Use}=i;kse=this._renderer.getRenderTarget(),Rse=this._renderer.getActiveCubeFace(),Ise=this._renderer.getActiveMipmapLevel(),Nse=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,r,o,s),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Hse(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Vse(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(kse,Rse,Ise),this._renderer.xr.enabled=Nse,e.scissorTest=!1,zse(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===L5||e.mapping===F5?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),kse=this._renderer.getRenderTarget(),Rse=this._renderer.getActiveCubeFace(),Ise=this._renderer.getActiveMipmapLevel(),Nse=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:X5,minFilter:X5,generateMipmaps:!1,type:r6,format:u6,colorSpace:s8,depthBuffer:!1},r=Bse(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Bse(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+Ase.length;for(let s=0;s<a;s++){const a=Math.pow(2,i);n.push(a);let o=1/a;s>e-4?o=Ase[s-e+4-1]:0===s&&(o=0),r.push(o);const l=1/(a-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*d),y=new Float32Array(m*f*d),b=new Float32Array(g*f*d);for(let e=0;e<d;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),y.set(h,m*f*e);const i=[e,e,e,e,e,e];b.set(i,g*f*e)}const x=new tee;x.setAttribute("position",new W9(v,p)),x.setAttribute("uv",new W9(y,m)),x.setAttribute("faceIndex",new W9(b,g)),t.push(x),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(Cse),i=new u7(0,1,0),a=new xee({name:"SphericalGaussianBlur",defines:{n:Cse,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Wse(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(r,e,t)}return r}_compileMaterial(e){const t=new fee(this._lodPlanes[0],e);this._renderer.compile(t,Pse)}_sceneToCubeUV(e,t,n,r,i){const a=new Eee(90,1,t,n),s=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(Ose),l.toneMapping=0,l.autoClear=!1;const h=new L9({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new fee(new mee,h);let f=!1;const p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,f=!0):(h.color.copy(Ose),f=!0);for(let m=0;m<6;m++){const t=m%3;0===t?(a.up.set(0,s[m],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+o[m],i.y,i.z)):1===t?(a.up.set(0,0,s[m]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+o[m],i.z)):(a.up.set(0,s[m],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+o[m]));const n=this._cubeSize;zse(r,t*n,m>2?n:0,n,n),l.setRenderTarget(r),f&&l.render(d,a),l.render(e,a)}d.geometry.dispose(),d.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===L5||e.mapping===F5;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Hse()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Vse());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new fee(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const s=this._cubeSize;zse(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(a,Pse)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Fse[(r-i-1)%Fse.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,s){const o=this._renderer,l=this._blurMaterial,c=new fee(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):Cse,m=[];let g=0;for(let b=0;b<Cse;++b){const e=b/f,t=Math.exp(-e*e/2);m.push(t),0===b?g+=t:b<p&&(g+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===a,s&&(u.poleAxis.value=s);const{_lodMax:v}=this;u.dTheta.value=d,u.mipInt.value=v-n;const y=this._sizeLods[r];zse(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),o.setRenderTarget(t),o.render(c,Pse)}}function Bse(e,t,n){const r=new s7(e,t,n);return r.texture.mapping=B5,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function zse(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Vse(){return new xee({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Wse(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Hse(){return new xee({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Wse(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Wse(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Gse(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,s=a===U5||a===j5,o=a===L5||a===F5;if(s||o){let a=t.get(i);const l=void 0!==a?a.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new jse(e)),a=s?n.fromEquirectangular(i,a):n.fromCubemap(i,a),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),a.texture;if(void 0!==a)return a.texture;{const l=i.image;return s&&l&&l.height>0||o&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new jse(e)),a=s?n.fromEquirectangular(i):n.fromCubemap(i),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),i.addEventListener("dispose",r),a.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function $se(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&W8("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Xse(e,t,n,r){const i={},a=new WeakMap;function s(e){const o=e.target;null!==o.index&&t.remove(o.index);for(const n in o.attributes)t.remove(o.attributes[n]);o.removeEventListener("dispose",s),delete i[o.id];const l=a.get(o);l&&(t.remove(l),a.delete(o)),r.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(e){const n=[],r=e.index,i=e.attributes.position;let s=0;if(null!==r){const e=r.array;s=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const e=i.array;s=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const o=new(U8(n)?$9:G9)(n,1);o.version=s;const l=a.get(e);l&&t.remove(l),a.set(e,o)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",s),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const i in r)t.update(r[i],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return a.get(e)}}}function qse(e,t,n){let r,i,a;function s(t,s,o){0!==o&&(e.drawElementsInstanced(r,s,i,t*a,o),n.update(s,r,o))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,s){e.drawElements(r,s,i,t*a),n.update(s,r,1)},this.renderInstances=s,this.renderMultiDraw=function(e,a,s){if(0===s)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,a,0,i,e,0,s);let o=0;for(let t=0;t<s;t++)o+=a[t];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,o,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)s(e[t]/a,o[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,o,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=o[e]*c[e];n.update(t,r,1)}}}function Yse(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n}}}}function Kse(e,t,n){const r=new WeakMap,i=new i7;return{update:function(a,s,o){const l=a.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=void 0!==c?c.length:0;let h=r.get(s);if(void 0===h||h.count!==u){let e=function(){v.dispose(),r.delete(s),s.removeEventListener("dispose",e)};void 0!==h&&h.texture.dispose();const n=void 0!==s.morphAttributes.position,a=void 0!==s.morphAttributes.normal,o=void 0!==s.morphAttributes.color,l=s.morphAttributes.position||[],c=s.morphAttributes.normal||[],d=s.morphAttributes.color||[];let f=0;!0===n&&(f=1),!0===a&&(f=2),!0===o&&(f=3);let p=s.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const g=new Float32Array(p*m*4*u),v=new o7(g,p,m,u);v.type=n6,v.needsUpdate=!0;const y=4*f;for(let t=0;t<u;t++){const e=l[t],r=c[t],s=d[t],u=p*m*4*t;for(let t=0;t<e.count;t++){const l=t*y;!0===n&&(i.fromBufferAttribute(e,t),g[u+l+0]=i.x,g[u+l+1]=i.y,g[u+l+2]=i.z,g[u+l+3]=0),!0===a&&(i.fromBufferAttribute(r,t),g[u+l+4]=i.x,g[u+l+5]=i.y,g[u+l+6]=i.z,g[u+l+7]=0),!0===o&&(i.fromBufferAttribute(s,t),g[u+l+8]=i.x,g[u+l+9]=i.y,g[u+l+10]=i.z,g[u+l+11]=4===s.itemSize?i.w:1)}}h={count:u,texture:v,size:new D8(p,m)},r.set(s,h),s.addEventListener("dispose",e)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)o.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let t=0;for(let e=0;e<l.length;e++)t+=l[e];const n=s.morphTargetsRelative?1:1-t;o.getUniforms().setValue(e,"morphTargetBaseInfluence",n),o.getUniforms().setValue(e,"morphTargetInfluences",l)}o.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),o.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}}}function Jse(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(s){const o=r.render.frame,l=s.geometry,c=t.get(s,l);if(i.get(c)!==o&&(t.update(c),i.set(c,o)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",a)&&s.addEventListener("dispose",a),i.get(s)!==o&&(n.update(s.instanceMatrix,e.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,e.ARRAY_BUFFER),i.set(s,o))),s.isSkinnedMesh){const e=s.skeleton;i.get(e)!==o&&(e.update(),i.set(e,o))}return c},dispose:function(){i=new WeakMap}}}const Zse=new r7,Qse=new Mne(1,1),eoe=new o7,toe=new l7,noe=new Cee,roe=[],ioe=[],aoe=new Float32Array(16),soe=new Float32Array(9),ooe=new Float32Array(4);function loe(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=roe[i];if(void 0===a&&(a=new Float32Array(i),roe[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function coe(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function uoe(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function hoe(e,t){let n=ioe[t];void 0===n&&(n=new Int32Array(t),ioe[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function doe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function foe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(coe(n,t))return;e.uniform2fv(this.addr,t),uoe(n,t)}}function poe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(coe(n,t))return;e.uniform3fv(this.addr,t),uoe(n,t)}}function moe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(coe(n,t))return;e.uniform4fv(this.addr,t),uoe(n,t)}}function goe(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(coe(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),uoe(n,t)}else{if(coe(n,r))return;ooe.set(r),e.uniformMatrix2fv(this.addr,!1,ooe),uoe(n,r)}}function voe(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(coe(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),uoe(n,t)}else{if(coe(n,r))return;soe.set(r),e.uniformMatrix3fv(this.addr,!1,soe),uoe(n,r)}}function yoe(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(coe(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),uoe(n,t)}else{if(coe(n,r))return;aoe.set(r),e.uniformMatrix4fv(this.addr,!1,aoe),uoe(n,r)}}function boe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function xoe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(coe(n,t))return;e.uniform2iv(this.addr,t),uoe(n,t)}}function woe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(coe(n,t))return;e.uniform3iv(this.addr,t),uoe(n,t)}}function _oe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(coe(n,t))return;e.uniform4iv(this.addr,t),uoe(n,t)}}function Soe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Toe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(coe(n,t))return;e.uniform2uiv(this.addr,t),uoe(n,t)}}function Eoe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(coe(n,t))return;e.uniform3uiv(this.addr,t),uoe(n,t)}}function Moe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(coe(n,t))return;e.uniform4uiv(this.addr,t),uoe(n,t)}}function Aoe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(Qse.compareFunction=515,a=Qse):a=Zse,n.setTexture2D(t||a,i)}function Coe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||toe,i)}function Poe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||noe,i)}function Ooe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||eoe,i)}function koe(e,t){e.uniform1fv(this.addr,t)}function Roe(e,t){const n=loe(t,this.size,2);e.uniform2fv(this.addr,n)}function Ioe(e,t){const n=loe(t,this.size,3);e.uniform3fv(this.addr,n)}function Noe(e,t){const n=loe(t,this.size,4);e.uniform4fv(this.addr,n)}function Doe(e,t){const n=loe(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Loe(e,t){const n=loe(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Foe(e,t){const n=loe(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Uoe(e,t){e.uniform1iv(this.addr,t)}function joe(e,t){e.uniform2iv(this.addr,t)}function Boe(e,t){e.uniform3iv(this.addr,t)}function zoe(e,t){e.uniform4iv(this.addr,t)}function Voe(e,t){e.uniform1uiv(this.addr,t)}function Hoe(e,t){e.uniform2uiv(this.addr,t)}function Woe(e,t){e.uniform3uiv(this.addr,t)}function Goe(e,t){e.uniform4uiv(this.addr,t)}function $oe(e,t,n){const r=this.cache,i=t.length,a=hoe(n,i);coe(r,a)||(e.uniform1iv(this.addr,a),uoe(r,a));for(let s=0;s!==i;++s)n.setTexture2D(t[s]||Zse,a[s])}function Xoe(e,t,n){const r=this.cache,i=t.length,a=hoe(n,i);coe(r,a)||(e.uniform1iv(this.addr,a),uoe(r,a));for(let s=0;s!==i;++s)n.setTexture3D(t[s]||toe,a[s])}function qoe(e,t,n){const r=this.cache,i=t.length,a=hoe(n,i);coe(r,a)||(e.uniform1iv(this.addr,a),uoe(r,a));for(let s=0;s!==i;++s)n.setTextureCube(t[s]||noe,a[s])}function Yoe(e,t,n){const r=this.cache,i=t.length,a=hoe(n,i);coe(r,a)||(e.uniform1iv(this.addr,a),uoe(r,a));for(let s=0;s!==i;++s)n.setTexture2DArray(t[s]||eoe,a[s])}class Koe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return doe;case 35664:return foe;case 35665:return poe;case 35666:return moe;case 35674:return goe;case 35675:return voe;case 35676:return yoe;case 5124:case 35670:return boe;case 35667:case 35671:return xoe;case 35668:case 35672:return woe;case 35669:case 35673:return _oe;case 5125:return Soe;case 36294:return Toe;case 36295:return Eoe;case 36296:return Moe;case 35678:case 36198:case 36298:case 36306:case 35682:return Aoe;case 35679:case 36299:case 36307:return Coe;case 35680:case 36300:case 36308:case 36293:return Poe;case 36289:case 36303:case 36311:case 36292:return Ooe}}(t.type)}}class Joe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return koe;case 35664:return Roe;case 35665:return Ioe;case 35666:return Noe;case 35674:return Doe;case 35675:return Loe;case 35676:return Foe;case 5124:case 35670:return Uoe;case 35667:case 35671:return joe;case 35668:case 35672:return Boe;case 35669:case 35673:return zoe;case 5125:return Voe;case 36294:return Hoe;case 36295:return Woe;case 36296:return Goe;case 35678:case 36198:case 36298:case 36306:case 35682:return $oe;case 35679:case 36299:case 36307:return Xoe;case 35680:case 36300:case 36308:case 36293:return qoe;case 36289:case 36303:case 36311:case 36292:return Yoe}}(t.type)}}class Zoe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const Qoe=/(\w+)(\])?(\[|\.)?/g;function ele(e,t){e.seq.push(t),e.map[t.id]=t}function tle(e,t,n){const r=e.name,i=r.length;for(Qoe.lastIndex=0;;){const a=Qoe.exec(r),s=Qoe.lastIndex;let o=a[1];const l="]"===a[2],c=a[3];if(l&&(o|=0),void 0===c||"["===c&&s+2===i){ele(n,void 0===c?new Koe(o,e,t):new Joe(o,e,t));break}{let e=n.map[o];void 0===e&&(e=new Zoe(o),ele(n,e)),n=e}}}class nle{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);tle(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function rle(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let ile=0;const ale=new L8;function sle(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let s=i;s<a;s++){const e=s+1;r.push(`${e===t?">":" "} ${e}: ${n[s]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function ole(e,t){const n=function(e){q8._getMatrix(ale,q8.workingColorSpace,e);const t=`mat3( ${ale.elements.map((e=>e.toFixed(4)))} )`;switch(q8.getTransfer(e)){case o8:return[t,"LinearTransferOETF"];case l8:return[t,"sRGBTransferOETF"];default:return[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}function lle(e,t){let n;switch(t){case 1:default:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Cineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const cle=new u7;function ule(){q8.getLuminanceCoefficients(cle);return["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${cle.x.toFixed(4)}, ${cle.y.toFixed(4)}, ${cle.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function hle(e){return""!==e}function dle(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function fle(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const ple=/^[ \t]*#include +<([\w\d./]+)>/gm;function mle(e){return e.replace(ple,vle)}const gle=new Map;function vle(e,t){let n=mse[t];if(void 0===n){const e=gle.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=mse[e]}return mle(n)}const yle=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ble(e){return e.replace(yle,xle)}function xle(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function wle(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function _le(e,t,n,r){const i=e.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case L5:case F5:t="ENVMAP_TYPE_CUBE";break;case B5:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===F5&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),d=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(hle).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(hle).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(hle).join("\n"),v.length>0&&(v+="\n")):(g=[wle(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(hle).join("\n"),v=[wle(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?mse.tonemapping_pars_fragment:"",0!==n.toneMapping?lle("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",mse.colorspace_pars_fragment,ole("linearToOutputTexel",n.outputColorSpace),ule(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(hle).join("\n")),s=mle(s),s=dle(s,n),s=fle(s,n),o=mle(o),o=dle(o,n),o=fle(o,n),s=ble(s),o=ble(o),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===x8?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===x8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+s,x=y+v+o,w=rle(i,i.VERTEX_SHADER,b),_=rle(i,i.FRAGMENT_SHADER,x);function S(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(m).trim(),r=i.getShaderInfoLog(w).trim(),a=i.getShaderInfoLog(_).trim();let s=!0,o=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(s=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(i,m,w,_);else{sle(i,w,"vertex"),sle(i,_,"fragment")}else""!==n||""!==r&&""!==a||(o=!1);o&&(t.diagnostics={runnable:s,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:a,prefix:v}})}i.deleteShader(w),i.deleteShader(_),T=new nle(i,m),E=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let s=1;r.type===e.FLOAT_MAT2&&(s=2),r.type===e.FLOAT_MAT3&&(s=3),r.type===e.FLOAT_MAT4&&(s=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}(i,m)}let T,E;i.attachShader(m,w),i.attachShader(m,_),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===T&&S(this),T},this.getAttributes=function(){return void 0===E&&S(this),E};let M=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===M&&(M=i.getProgramParameter(m,37297)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=ile++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=_,this}let Sle=0;class Tle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Ele(e),t.set(e,n)),n}}class Ele{constructor(e){this.id=Sle++,this.code=e,this.usedTimes=0}}function Mle(e,t,n,r,i,a,s){const o=new J7,l=new Tle,c=new Set,u=[],h=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return c.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(a,o,u,g,v){const y=g.fog,b=v.geometry,x=a.isMeshStandardMaterial?g.environment:null,w=(a.isMeshStandardMaterial?n:t).get(a.envMap||x),_=w&&w.mapping===B5?w.image.height:null,S=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision),a.precision);const T=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,E=void 0!==T?T.length:0;let M,A,C,P,O=0;if(void 0!==b.morphAttributes.position&&(O=1),void 0!==b.morphAttributes.normal&&(O=2),void 0!==b.morphAttributes.color&&(O=3),S){const e=vse[S];M=e.vertexShader,A=e.fragmentShader}else M=a.vertexShader,A=a.fragmentShader,l.update(a),C=l.getVertexShaderID(a),P=l.getFragmentShaderID(a);const k=e.getRenderTarget(),R=e.state.buffers.depth.getReversed(),I=!0===v.isInstancedMesh,N=!0===v.isBatchedMesh,D=!!a.map,L=!!a.matcap,F=!!w,U=!!a.aoMap,j=!!a.lightMap,B=!!a.bumpMap,z=!!a.normalMap,V=!!a.displacementMap,H=!!a.emissiveMap,W=!!a.metalnessMap,G=!!a.roughnessMap,$=a.anisotropy>0,X=a.clearcoat>0,q=a.dispersion>0,Y=a.iridescence>0,K=a.sheen>0,J=a.transmission>0,Z=$&&!!a.anisotropyMap,Q=X&&!!a.clearcoatMap,ee=X&&!!a.clearcoatNormalMap,te=X&&!!a.clearcoatRoughnessMap,ne=Y&&!!a.iridescenceMap,re=Y&&!!a.iridescenceThicknessMap,ie=K&&!!a.sheenColorMap,ae=K&&!!a.sheenRoughnessMap,se=!!a.specularMap,oe=!!a.specularColorMap,le=!!a.specularIntensityMap,ce=J&&!!a.transmissionMap,ue=J&&!!a.thicknessMap,he=!!a.gradientMap,de=!!a.alphaMap,fe=a.alphaTest>0,pe=!!a.alphaHash,me=!!a.extensions;let ge=0;a.toneMapped&&(null!==k&&!0!==k.isXRRenderTarget||(ge=e.toneMapping));const ve={shaderID:S,shaderType:a.type,shaderName:a.name,vertexShader:M,fragmentShader:A,defines:a.defines,customVertexShaderID:C,customFragmentShaderID:P,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,batching:N,batchingColor:N&&null!==v._colorsTexture,instancing:I,instancingColor:I&&null!==v.instanceColor,instancingMorph:I&&null!==v.morphTexture,supportsVertexTextures:d,outputColorSpace:null===k?e.outputColorSpace:!0===k.isXRRenderTarget?k.texture.colorSpace:s8,alphaToCoverage:!!a.alphaToCoverage,map:D,matcap:L,envMap:F,envMapMode:F&&w.mapping,envMapCubeUVHeight:_,aoMap:U,lightMap:j,bumpMap:B,normalMap:z,displacementMap:d&&V,emissiveMap:H,normalMapObjectSpace:z&&1===a.normalMapType,normalMapTangentSpace:z&&0===a.normalMapType,metalnessMap:W,roughnessMap:G,anisotropy:$,anisotropyMap:Z,clearcoat:X,clearcoatMap:Q,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,dispersion:q,iridescence:Y,iridescenceMap:ne,iridescenceThicknessMap:re,sheen:K,sheenColorMap:ie,sheenRoughnessMap:ae,specularMap:se,specularColorMap:oe,specularIntensityMap:le,transmission:J,transmissionMap:ce,thicknessMap:ue,gradientMap:he,opaque:!1===a.transparent&&1===a.blending&&!1===a.alphaToCoverage,alphaMap:de,alphaTest:fe,alphaHash:pe,combine:a.combine,mapUv:D&&m(a.map.channel),aoMapUv:U&&m(a.aoMap.channel),lightMapUv:j&&m(a.lightMap.channel),bumpMapUv:B&&m(a.bumpMap.channel),normalMapUv:z&&m(a.normalMap.channel),displacementMapUv:V&&m(a.displacementMap.channel),emissiveMapUv:H&&m(a.emissiveMap.channel),metalnessMapUv:W&&m(a.metalnessMap.channel),roughnessMapUv:G&&m(a.roughnessMap.channel),anisotropyMapUv:Z&&m(a.anisotropyMap.channel),clearcoatMapUv:Q&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:ee&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:re&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:ae&&m(a.sheenRoughnessMap.channel),specularMapUv:se&&m(a.specularMap.channel),specularColorMapUv:oe&&m(a.specularColorMap.channel),specularIntensityMapUv:le&&m(a.specularIntensityMap.channel),transmissionMapUv:ce&&m(a.transmissionMap.channel),thicknessMapUv:ue&&m(a.thicknessMap.channel),alphaMapUv:de&&m(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(z||$),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!b.attributes.uv&&(D||de),fog:!!y,useFog:!0===a.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,reverseDepthBuffer:R,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:E,morphTextureStride:O,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numLightProbes:o.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,decodeVideoTexture:D&&!0===a.map.isVideoTexture&&q8.getTransfer(a.map.colorSpace)===l8,decodeVideoTextureEmissive:H&&!0===a.emissiveMap.isVideoTexture&&q8.getTransfer(a.emissiveMap.colorSpace)===l8,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:me&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(me&&!0===a.extensions.multiDraw||N)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){o.disableAll(),t.supportsVertexTextures&&o.enable(0);t.instancing&&o.enable(1);t.instancingColor&&o.enable(2);t.instancingMorph&&o.enable(3);t.matcap&&o.enable(4);t.envMap&&o.enable(5);t.normalMapObjectSpace&&o.enable(6);t.normalMapTangentSpace&&o.enable(7);t.clearcoat&&o.enable(8);t.iridescence&&o.enable(9);t.alphaTest&&o.enable(10);t.vertexColors&&o.enable(11);t.vertexAlphas&&o.enable(12);t.vertexUv1s&&o.enable(13);t.vertexUv2s&&o.enable(14);t.vertexUv3s&&o.enable(15);t.vertexTangents&&o.enable(16);t.anisotropy&&o.enable(17);t.alphaHash&&o.enable(18);t.batching&&o.enable(19);t.dispersion&&o.enable(20);t.batchingColor&&o.enable(21);e.push(o.mask),o.disableAll(),t.fog&&o.enable(0);t.useFog&&o.enable(1);t.flatShading&&o.enable(2);t.logarithmicDepthBuffer&&o.enable(3);t.reverseDepthBuffer&&o.enable(4);t.skinning&&o.enable(5);t.morphTargets&&o.enable(6);t.morphNormals&&o.enable(7);t.morphColors&&o.enable(8);t.premultipliedAlpha&&o.enable(9);t.shadowMapEnabled&&o.enable(10);t.doubleSided&&o.enable(11);t.flipSided&&o.enable(12);t.useDepthPacking&&o.enable(13);t.dithering&&o.enable(14);t.transmission&&o.enable(15);t.sheen&&o.enable(16);t.opaque&&o.enable(17);t.pointsUvs&&o.enable(18);t.decodeVideoTexture&&o.enable(19);t.decodeVideoTextureEmissive&&o.enable(20);t.alphaToCoverage&&o.enable(21);e.push(o.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=vse[t];n=bee.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=u.length;e<i;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new _le(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Ale(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Cle(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ple(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ole(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,s,o){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:s,group:o},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=s,l.group=o),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,s,o,l,c){const u=a(e,t,s,o,l,c);s.transmission>0?r.push(u):!0===s.transparent?i.push(u):n.push(u)},unshift:function(e,t,s,o,l,c){const u=a(e,t,s,o,l,c);s.transmission>0?r.unshift(u):!0===s.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Cle),r.length>1&&r.sort(t||Ple),i.length>1&&i.sort(t||Ple)}}}function kle(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new Ole,e.set(t,[i])):n>=r.length?(i=new Ole,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Rle(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new u7,color:new R9};break;case"SpotLight":n={position:new u7,direction:new u7,color:new R9,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new u7,color:new R9,distance:0,decay:0};break;case"HemisphereLight":n={direction:new u7,skyColor:new R9,groundColor:new R9};break;case"RectAreaLight":n={color:new R9,position:new u7,halfWidth:new u7,halfHeight:new u7}}return e[t.id]=n,n}}}let Ile=0;function Nle(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Dle(e){const t=new Rle,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new D8};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new D8,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let o=0;o<9;o++)r.probe.push(new u7);const i=new u7,a=new B7,s=new B7;return{setup:function(i){let a=0,s=0,o=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0;i.sort(Nle);for(let e=0,x=i.length;e<x;e++){const b=i[e],x=b.color,w=b.intensity,_=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)a+=x.r*w,s+=x.g*w,o+=x.b*w;else if(b.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(b.sh.coefficients[e],w);y++}else if(b.isDirectionalLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=b.shadow.matrix,f++}r.directional[l]=e,l++}else if(b.isSpotLight){const e=t.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(x).multiplyScalar(w),e.distance=_,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,r.spot[u]=e;const i=b.shadow;if(b.map&&(r.spotLightMap[g]=b.map,g++,i.updateMatrices(b),b.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,b.castShadow){const e=n.get(b);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,m++}u++}else if(b.isRectAreaLight){const e=t.get(b);e.color.copy(x).multiplyScalar(w),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),r.rectArea[h]=e,h++}else if(b.isPointLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=b.shadow.matrix,p++}r.point[c]=e,c++}else if(b.isHemisphereLight){const e=t.get(b);e.skyColor.copy(b.color).multiplyScalar(w),e.groundColor.copy(b.groundColor).multiplyScalar(w),r.hemi[d]=e,d++}}h>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=gse.LTC_FLOAT_1,r.rectAreaLTC2=gse.LTC_FLOAT_2):(r.rectAreaLTC1=gse.LTC_HALF_1,r.rectAreaLTC2=gse.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=s,r.ambient[2]=o;const b=r.hash;b.directionalLength===l&&b.pointLength===c&&b.spotLength===u&&b.rectAreaLength===h&&b.hemiLength===d&&b.numDirectionalShadows===f&&b.numPointShadows===p&&b.numSpotShadows===m&&b.numSpotMaps===g&&b.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=d,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,b.directionalLength=l,b.pointLength=c,b.spotLength=u,b.rectAreaLength=h,b.hemiLength=d,b.numDirectionalShadows=f,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=y,r.version=Ile++)},setupView:function(e,t){let n=0,o=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,f=e.length;d<f;d++){const t=e[d];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),s.identity(),a.copy(t.matrixWorld),a.premultiply(h),s.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(t.isPointLight){const e=r.point[o];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),o++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),u++}}},state:r}}function Lle(e){const t=new Dle(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function Fle(e){let t=new WeakMap;return{get:function(n,r=0){const i=t.get(n);let a;return void 0===i?(a=new Lle(e),t.set(n,[a])):r>=i.length?(a=new Lle(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}function Ule(e,t,n){let r=new Nte;const i=new D8,a=new D8,s=new i7,o=new oie({depthPacking:3201}),l=new lie,c={},u=n.maxTextureSize,h={[i5]:1,[a5]:0,[s5]:2},d=new xee({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new D8},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const p=new tee;p.setAttribute("position",new W9(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new fee(p,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(n,r){const a=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new s7(i.x,i.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,d,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}function b(t,n,r,i){let a=null;const s=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==s)a=s;else if(a=!0===r.isPointLight?l:o,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener("dispose",w)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function x(n,i,a,s,o){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===o)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],h=l[u.materialIndex];if(h&&h.visible){const t=b(n,h,s,o);n.onBeforeShadow(e,n,i,a,r,t,u),e.renderBufferDirect(a,null,r,t,n,u),n.onAfterShadow(e,n,i,a,r,t,u)}}}else if(l.visible){const t=b(n,l,s,o);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],i,a,s,o)}function w(e){e.target.removeEventListener("dispose",w);for(const t in c){const n=c[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,o){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);const f=3!==v&&3===this.type,p=3===v&&3!==this.type;for(let m=0,g=t.length;m<g;m++){const l=t[m],c=l.shadow;if(void 0===c)continue;if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const h=c.getFrameExtents();if(i.multiply(h),a.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/h.x),i.x=a.x*h.x,c.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/h.y),i.y=a.y*h.y,c.mapSize.y=a.y)),null===c.map||!0===f||!0===p){const e=3!==this.type?{minFilter:W5,magFilter:W5}:{};null!==c.map&&c.map.dispose(),c.map=new s7(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const g=c.getViewportCount();for(let e=0;e<g;e++){const t=c.getViewport(e);s.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),d.viewport(s),c.updateMatrices(l,e),r=c.getFrustum(),x(n,o,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&y(c,o),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,h)}}const jle={[E5]:1,[A5]:6,[P5]:7,[C5]:5,[M5]:0,[k5]:2,[R5]:4,[O5]:3};function Ble(e,t){const n=new function(){let t=!1;const n=new i7;let r=null;const i=new i7(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,s,o){!0===o&&(t*=s,r*=s,a*=s),n.set(t,r,a,s),!1===i.equals(n)&&(e.clearColor(t,r,a,s),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,i=null,a=null,s=null;return{setReversed:function(e){if(r!==e){const n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;const i=s;s=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?B(e.DEPTH_TEST):z(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=jle[t]),a!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){s!==t&&(r&&(t=1-t),e.clearDepth(t),s=t)},reset:function(){n=!1,i=null,a=null,s=null,r=!1}}},i=new function(){let t=!1,n=null,r=null,i=null,a=null,s=null,o=null,l=null,c=null;return{setTest:function(n){t||(n?B(e.STENCIL_TEST):z(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,s){r===t&&i===n&&a===s||(e.stencilFunc(t,n,s),r=t,i=n,a=s)},setOp:function(t,n,r){s===t&&o===n&&l===r||(e.stencilOp(t,n,r),s=t,o=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,s=null,o=null,l=null,c=null}}},a=new WeakMap,s=new WeakMap;let o={},l={},c=new WeakMap,u=[],h=null,d=!1,f=null,p=null,m=null,g=null,v=null,y=null,b=null,x=new R9(0,0,0),w=0,_=!1,S=null,T=null,E=null,M=null,A=null;const C=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,O=0;const k=e.getParameter(e.VERSION);-1!==k.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(k)[1]),P=O>=1):-1!==k.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),P=O>=2);let R=null,I={};const N=e.getParameter(e.SCISSOR_BOX),D=e.getParameter(e.VIEWPORT),L=(new i7).fromArray(N),F=(new i7).fromArray(D);function U(t,n,r,i){const a=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let o=0;o<r;o++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return s}const j={};function B(t){!0!==o[t]&&(e.enable(t),o[t]=!0)}function z(t){!1!==o[t]&&(e.disable(t),o[t]=!1)}j[e.TEXTURE_2D]=U(e.TEXTURE_2D,e.TEXTURE_2D,1),j[e.TEXTURE_CUBE_MAP]=U(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),j[e.TEXTURE_2D_ARRAY]=U(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),j[e.TEXTURE_3D]=U(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),B(e.DEPTH_TEST),r.setFunc(3),G(!1),$(1),B(e.CULL_FACE),W(0);const V={[o5]:e.FUNC_ADD,[l5]:e.FUNC_SUBTRACT,[c5]:e.FUNC_REVERSE_SUBTRACT};V[103]=e.MIN,V[104]=e.MAX;const H={[u5]:e.ZERO,[h5]:e.ONE,[d5]:e.SRC_COLOR,[p5]:e.SRC_ALPHA,[x5]:e.SRC_ALPHA_SATURATE,[y5]:e.DST_COLOR,[g5]:e.DST_ALPHA,[f5]:e.ONE_MINUS_SRC_COLOR,[m5]:e.ONE_MINUS_SRC_ALPHA,[b5]:e.ONE_MINUS_DST_COLOR,[v5]:e.ONE_MINUS_DST_ALPHA,[w5]:e.CONSTANT_COLOR,[_5]:e.ONE_MINUS_CONSTANT_COLOR,[S5]:e.CONSTANT_ALPHA,[T5]:e.ONE_MINUS_CONSTANT_ALPHA};function W(t,n,r,i,a,s,o,l,c,u){if(0!==t){if(!1===d&&(B(e.BLEND),d=!0),5===t)a=a||n,s=s||r,o=o||i,n===p&&a===v||(e.blendEquationSeparate(V[n],V[a]),p=n,v=a),r===m&&i===g&&s===y&&o===b||(e.blendFuncSeparate(H[r],H[i],H[s],H[o]),m=r,g=i,y=s,b=o),!1!==l.equals(x)&&c===w||(e.blendColor(l.r,l.g,l.b,c),x.copy(l),w=c),f=t,_=!1;else if(t!==f||u!==_){if(p===o5&&v===o5||(e.blendEquation(e.FUNC_ADD),p=o5,v=o5),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR)}m=null,g=null,y=null,b=null,x.set(0,0,0),w=0,f=t,_=u}}else!0===d&&(z(e.BLEND),d=!1)}function G(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function $(t){0!==t?(B(e.CULL_FACE),t!==T&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):z(e.CULL_FACE),T=t}function X(t,n,r){t?(B(e.POLYGON_OFFSET_FILL),M===n&&A===r||(e.polygonOffset(n,r),M=n,A=r)):z(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:B,disable:z,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=u,i=!1;if(t){r=c.get(n),void 0===r&&(r=[],c.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:W,setMaterial:function(t,a){2===t.side?z(e.CULL_FACE):B(e.CULL_FACE);let s=1===t.side;a&&(s=!s),G(s),1===t.blending&&!1===t.transparent?W(0):W(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const o=t.stencilWrite;i.setTest(o),o&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),X(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?B(e.SAMPLE_ALPHA_TO_COVERAGE):z(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:G,setCullFace:$,setLineWidth:function(t){t!==E&&(P&&e.lineWidth(t),E=t)},setPolygonOffset:X,setScissorTest:function(t){t?B(e.SCISSOR_TEST):z(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+C-1),R!==t&&(e.activeTexture(t),R=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===R?e.TEXTURE0+C-1:R);let i=I[r];void 0===i&&(i={type:void 0,texture:void 0},I[r]=i),i.type===t&&i.texture===n||(R!==r&&(e.activeTexture(r),R=r),e.bindTexture(t,n||j[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=I[R];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(t){}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(t){}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(t){}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(t){}},updateUBOMapping:function(t,n){let r=s.get(n);void 0===r&&(r=new WeakMap,s.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=s.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(t){}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(t){}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(t){}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(t){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(t){}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(t){}},scissor:function(t){!1===L.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),L.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),o={},R=null,I={},l={},c=new WeakMap,u=[],h=null,d=!1,f=null,p=null,m=null,g=null,v=null,y=null,b=null,x=new R9(0,0,0),w=0,_=!1,S=null,T=null,E=null,M=null,A=null,L.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function zle(e,t,n,r,i,a,s){const o=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new D8,u=new WeakMap;let h;const d=new WeakMap;let f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(she){}function p(e,t){return f?new OffscreenCanvas(e,t):z8("canvas")}function m(e,t,n){let r=1;const i=V(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===h&&(h=p(n,a));const s=t?p(n,a):h;s.width=n,s.height=a;return s.getContext("2d").drawImage(e,0,0,n,a),s}return e}return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function y(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function b(n,r,i,a,s=!1){if(null!==n&&void 0!==e[n])return e[n];let o=r;if(r===e.RED&&(i===e.FLOAT&&(o=e.R32F),i===e.HALF_FLOAT&&(o=e.R16F),i===e.UNSIGNED_BYTE&&(o=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.R8UI),i===e.UNSIGNED_SHORT&&(o=e.R16UI),i===e.UNSIGNED_INT&&(o=e.R32UI),i===e.BYTE&&(o=e.R8I),i===e.SHORT&&(o=e.R16I),i===e.INT&&(o=e.R32I)),r===e.RG&&(i===e.FLOAT&&(o=e.RG32F),i===e.HALF_FLOAT&&(o=e.RG16F),i===e.UNSIGNED_BYTE&&(o=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.RG8UI),i===e.UNSIGNED_SHORT&&(o=e.RG16UI),i===e.UNSIGNED_INT&&(o=e.RG32UI),i===e.BYTE&&(o=e.RG8I),i===e.SHORT&&(o=e.RG16I),i===e.INT&&(o=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.RGB8UI),i===e.UNSIGNED_SHORT&&(o=e.RGB16UI),i===e.UNSIGNED_INT&&(o=e.RGB32UI),i===e.BYTE&&(o=e.RGB8I),i===e.SHORT&&(o=e.RGB16I),i===e.INT&&(o=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(o=e.RGBA16UI),i===e.UNSIGNED_INT&&(o=e.RGBA32UI),i===e.BYTE&&(o=e.RGBA8I),i===e.SHORT&&(o=e.RGBA16I),i===e.INT&&(o=e.RGBA32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(o=e.RGB9_E5),r===e.RGBA){const t=s?o8:q8.getTransfer(a);i===e.FLOAT&&(o=e.RGBA32F),i===e.HALF_FLOAT&&(o=e.RGBA16F),i===e.UNSIGNED_BYTE&&(o=t===l8?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(o=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(o=e.RGB5_A1)}return o!==e.R16F&&o!==e.R32F&&o!==e.RG16F&&o!==e.RG32F&&o!==e.RGBA16F&&o!==e.RGBA32F||t.get("EXT_color_buffer_float"),o}function x(t,n){let r;return t?null===n||n===t6||n===s6?r=e.DEPTH24_STENCIL8:n===n6?r=e.DEPTH32F_STENCIL8:n===Q5&&(r=e.DEPTH24_STENCIL8):null===n||n===t6||n===s6?r=e.DEPTH_COMPONENT24:n===n6?r=e.DEPTH_COMPONENT32F:n===Q5&&(r=e.DEPTH_COMPONENT16),r}function w(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==W5&&e.minFilter!==X5?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){const t=e.target;t.removeEventListener("dispose",_),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=d.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&T(e),0===Object.keys(i).length&&d.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=r.get(t);t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let a=0,o=i.length;a<o;a++){const t=r.get(i[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),s.memory.textures--),r.remove(i[a])}r.remove(t)}(n)}function T(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete d.get(i)[n.__cacheKey],s.memory.textures--}let E=0;function M(t,i){const a=r.get(t);if(t.isVideoTexture&&function(e){const t=s.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e);else if(!1!==e.complete)return void R(a,t,i)}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const A={[z5]:e.REPEAT,[V5]:e.CLAMP_TO_EDGE,[H5]:e.MIRRORED_REPEAT},C={[W5]:e.NEAREST,[G5]:e.NEAREST_MIPMAP_NEAREST,[$5]:e.NEAREST_MIPMAP_LINEAR,[X5]:e.LINEAR,[q5]:e.LINEAR_MIPMAP_NEAREST,[Y5]:e.LINEAR_MIPMAP_LINEAR},P={[u8]:e.NEVER,[v8]:e.ALWAYS,[h8]:e.LESS,[f8]:e.LEQUAL,[d8]:e.EQUAL,[g8]:e.GEQUAL,[p8]:e.GREATER,[m8]:e.NOTEQUAL};function O(n,a){if(a.type===n6&&!1===t.has("OES_texture_float_linear")&&(a.magFilter===X5||a.magFilter===q5||a.magFilter===$5||a.magFilter===Y5||a.minFilter===X5||a.minFilter===q5||a.minFilter===$5||a.minFilter),e.texParameteri(n,e.TEXTURE_WRAP_S,A[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,A[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,A[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,P[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===W5)return;if(a.minFilter!==$5&&a.minFilter!==Y5)return;if(a.type===n6&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const s=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function k(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_));const i=n.source;let a=d.get(i);void 0===a&&(a={},d.set(i,a));const o=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(o!==t.__cacheKey){void 0===a[o]&&(a[o]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,r=!0),a[o].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&T(n)),t.__cacheKey=o,t.__webglTexture=a[o].texture}return r}function R(t,s,o){let l=e.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=e.TEXTURE_3D);const c=k(t,s),u=s.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+o);const h=r.get(u);if(u.version!==h.__version||!0===c){n.activeTexture(e.TEXTURE0+o);const t=q8.getPrimaries(q8.workingColorSpace),r=s.colorSpace===i8?null:q8.getPrimaries(s.colorSpace),d=s.colorSpace===i8||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);let f=m(s.image,!1,i.maxTextureSize);f=z(s,f);const p=a.convert(s.format,s.colorSpace),y=a.convert(s.type);let _,S=b(s.internalFormat,p,y,s.colorSpace,s.isVideoTexture);O(l,s);const T=s.mipmaps,E=!0!==s.isVideoTexture,M=void 0===h.__version||!0===c,A=u.dataReady,C=w(s,f);if(s.isDepthTexture)S=x(s.format===d6,s.type),M&&(E?n.texStorage2D(e.TEXTURE_2D,1,S,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,y,null));else if(s.isDataTexture)if(T.length>0){E&&M&&n.texStorage2D(e.TEXTURE_2D,C,S,T[0].width,T[0].height);for(let t=0,r=T.length;t<r;t++)_=T[t],E?A&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,y,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,p,y,_.data);s.generateMipmaps=!1}else E?(M&&n.texStorage2D(e.TEXTURE_2D,C,S,f.width,f.height),A&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,f.width,f.height,p,y,f.data)):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,y,f.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){E&&M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,T[0].width,T[0].height,f.depth);for(let t=0,r=T.length;t<r;t++)if(_=T[t],s.format!==u6){if(null!==p)if(E){if(A)if(s.layerUpdates.size>0){const r=dse(_.width,_.height,s.format,s.type);for(const i of s.layerUpdates){const a=_.data.subarray(i*r/_.data.BYTES_PER_ELEMENT,(i+1)*r/_.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,_.width,_.height,1,p,a)}s.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,f.depth,p,_.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,f.depth,0,_.data,0,0)}else E?A&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,f.depth,p,y,_.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,_.width,_.height,f.depth,0,p,y,_.data)}else{E&&M&&n.texStorage2D(e.TEXTURE_2D,C,S,T[0].width,T[0].height);for(let t=0,r=T.length;t<r;t++)_=T[t],s.format!==u6?null!==p&&(E?A&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,_.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,_.data)):E?A&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,y,_.data):n.texImage2D(e.TEXTURE_2D,t,S,_.width,_.height,0,p,y,_.data)}else if(s.isDataArrayTexture)if(E){if(M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,f.width,f.height,f.depth),A)if(s.layerUpdates.size>0){const t=dse(f.width,f.height,s.format,s.type);for(const r of s.layerUpdates){const i=f.data.subarray(r*t/f.data.BYTES_PER_ELEMENT,(r+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,f.width,f.height,1,p,y,i)}s.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(s.isData3DTexture)E?(M&&n.texStorage3D(e.TEXTURE_3D,C,S,f.width,f.height,f.depth),A&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)):n.texImage3D(e.TEXTURE_3D,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(s.isFramebufferTexture){if(M)if(E)n.texStorage2D(e.TEXTURE_2D,C,S,f.width,f.height);else{let t=f.width,r=f.height;for(let i=0;i<C;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,p,y,null),t>>=1,r>>=1}}else if(T.length>0){if(E&&M){const t=V(T[0]);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}for(let t=0,r=T.length;t<r;t++)_=T[t],E?A&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,y,_):n.texImage2D(e.TEXTURE_2D,t,S,p,y,_);s.generateMipmaps=!1}else if(E){if(M){const t=V(f);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}A&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,y,f)}else n.texImage2D(e.TEXTURE_2D,0,S,p,y,f);g(s)&&v(l),h.__version=u.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}function I(t,i,s,l,c,u){const h=a.convert(s.format,s.colorSpace),d=a.convert(s.type),f=b(s.internalFormat,h,d,s.colorSpace),p=r.get(i),m=r.get(s);if(m.__renderTarget=i,!p.__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,f,t,r,i.depth,0,h,d,null):n.texImage2D(c,u,f,t,r,0,h,d,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),B(i)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,m.__webglTexture,0,j(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,m.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function N(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,s=x(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=j(n);B(n)?o.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,s,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,s,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,s,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const s=t[i],l=a.convert(s.format,s.colorSpace),c=a.convert(s.type),u=b(s.internalFormat,l,c,s.colorSpace),h=j(n);r&&!1===B(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,h,u,n.width,n.height):B(n)?o.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,h,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function D(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const a=r.get(i.depthTexture);a.__renderTarget=i,a.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),M(i.depthTexture,0);const s=a.__webglTexture,l=j(i);if(i.depthTexture.format===h6)B(i)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0);else{if(i.depthTexture.format!==d6)throw new Error("Unknown depthTexture format");B(i)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0)}}function L(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");const e=t.texture.mipmaps;e&&e.length>0?D(i.__webglFramebuffer[0],t):D(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),N(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),N(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const F=[],U=[];function j(e){return Math.min(i.maxSamples,e.samples)}function B(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function z(e,t){const n=e.colorSpace;e.format,e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==s8&&n!==i8&&q8.getTransfer(n),t}function V(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=E;return i.maxTextures,E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=M,this.setTexture2DArray=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,s){const o=r.get(t);t.version>0&&o.__version!==t.version?function(t,s,o){if(6!==s.image.length)return;const l=k(t,s),c=s.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+o);const t=q8.getPrimaries(q8.workingColorSpace),r=s.colorSpace===i8?null:q8.getPrimaries(s.colorSpace),h=s.colorSpace===i8||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const d=s.isCompressedTexture||s.image[0].isCompressedTexture,f=s.image[0]&&s.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=d||f?f?s.image[e].image:s.image[e]:m(s.image[e],!0,i.maxCubemapSize),p[e]=z(s,p[e]);const y=p[0],x=a.convert(s.format,s.colorSpace),_=a.convert(s.type),S=b(s.internalFormat,x,_,s.colorSpace),T=!0!==s.isVideoTexture,E=void 0===u.__version||!0===l,M=c.dataReady;let A,C=w(s,y);if(O(e.TEXTURE_CUBE_MAP,s),d){T&&E&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,y.width,y.height);for(let t=0;t<6;t++){A=p[t].mipmaps;for(let r=0;r<A.length;r++){const i=A[r];s.format!==u6?null!==x&&(T?M&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data)):T?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,x,_,i.data)}}}else{if(A=s.mipmaps,T&&E){A.length>0&&C++;const t=V(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,t.width,t.height)}for(let t=0;t<6;t++)if(f){T?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,x,_,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,x,_,p[t].data);for(let r=0;r<A.length;r++){const i=A[r].image[t].image;T?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,x,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,x,_,i.data)}}else{T?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,_,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,_,p[t]);for(let r=0;r<A.length;r++){const i=A[r];T?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,x,_,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,x,_,i.image[t])}}}g(s)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}(o,t,s):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+s)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&I(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&L(t)},this.setupRenderTarget=function(t){const i=t.texture,o=r.get(t),l=r.get(i);t.addEventListener("dispose",S);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,h=c.length>1;if(h||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,s.memory.textures++),u){o.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){o.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)o.__webglFramebuffer[t][n]=e.createFramebuffer()}else o.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){o.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)o.__webglFramebuffer[t]=e.createFramebuffer()}else o.__webglFramebuffer=e.createFramebuffer();if(h)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),s.memory.textures++)}if(t.samples>0&&!1===B(t)){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,o.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];o.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,o.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),s=a.convert(r.type),l=b(r.internalFormat,i,s,r.colorSpace,!0===t.isXRRenderTarget),u=j(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,o.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),N(o.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),O(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)I(o.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else I(o.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){for(let i=0,a=c.length;i<a;i++){const a=c[i],s=r.get(a);n.bindTexture(e.TEXTURE_2D,s.__webglTexture),O(e.TEXTURE_2D,a),I(o.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),g(a)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),O(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)I(o.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else I(o.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&L(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,a=t.length;i<a;i++){const a=t[i];if(g(a)){const t=y(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===B(t)){const i=t.textures,a=t.width,s=t.height;let o=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),h=i.length>1;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const d=t.texture.mipmaps;d&&d.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(o|=e.STENCIL_BUFFER_BIT)),h){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,s,0,0,a,s,o,e.NEAREST),!0===l&&(F.length=0,U.length=0,F.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(F.push(c),U.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,U)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,F))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=L,this.setupFrameBufferTexture=I,this.useMultisampledRTT=B}function Vle(e,t){return{convert:function(n,r=""){let i;const a=q8.getTransfer(r);if(n===K5)return e.UNSIGNED_BYTE;if(n===i6)return e.UNSIGNED_SHORT_4_4_4_4;if(n===a6)return e.UNSIGNED_SHORT_5_5_5_1;if(n===o6)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===J5)return e.BYTE;if(n===Z5)return e.SHORT;if(n===Q5)return e.UNSIGNED_SHORT;if(n===e6)return e.INT;if(n===t6)return e.UNSIGNED_INT;if(n===n6)return e.FLOAT;if(n===r6)return e.HALF_FLOAT;if(n===l6)return e.ALPHA;if(n===c6)return e.RGB;if(n===u6)return e.RGBA;if(n===h6)return e.DEPTH_COMPONENT;if(n===d6)return e.DEPTH_STENCIL;if(n===f6)return e.RED;if(n===p6)return e.RED_INTEGER;if(n===m6)return e.RG;if(n===g6)return e.RG_INTEGER;if(n===v6)return e.RGBA_INTEGER;if(n===y6||n===b6||n===x6||n===w6)if(a===l8){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===y6)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===b6)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===x6)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===w6)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===y6)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===b6)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===x6)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===w6)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===_6||n===S6||n===T6||n===E6){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===_6)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===S6)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===T6)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===E6)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===M6||n===A6||n===C6){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===M6||n===A6)return a===l8?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===C6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===P6||n===O6||n===k6||n===R6||n===I6||n===N6||n===D6||n===L6||n===F6||n===U6||n===j6||n===B6||n===z6||n===V6){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===P6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===O6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===k6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===R6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===I6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===N6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===D6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===L6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===F6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===U6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===j6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===B6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===z6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===V6)return a===l8?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===H6||n===W6||n===G6){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===H6)return a===l8?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===W6)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===G6)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===$6||n===X6||n===q6||n===Y6){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===H6)return i.COMPRESSED_RED_RGTC1_EXT;if(n===X6)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===q6)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Y6)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===s6?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Hle{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new r7;e.properties.get(r).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new xee({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new fee(new Vre(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Wle extends S8{constructor(e,t){super();const n=this;let r=null,i=1,a=null,s="local-floor",o=1,l=null,c=null,u=null,h=null,d=null,f=null;const p=new Hle,m=t.getContextAttributes();let g=null,v=null;const y=[],b=[],x=new D8;let w=null;const _=new Eee;_.viewport=new i7;const S=new Eee;S.viewport=new i7;const T=[_,S],E=new gae;let M=null,A=null;function C(e){const t=b.indexOf(e.inputSource);if(-1===t)return;const n=y[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function P(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",P),r.removeEventListener("inputsourceschange",O);for(let e=0;e<y.length;e++){const t=b[e];null!==t&&(b[e]=null,y[e].disconnect(t))}M=null,A=null,p.reset(),e.setRenderTarget(g),d=null,h=null,u=null,r=null,v=null,D.stop(),n.isPresenting=!1,e.setPixelRatio(w),e.setSize(x.width,x.height,!1),n.dispatchEvent({type:"sessionend"})}function O(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=b.indexOf(n);r>=0&&(b[r]=null,y[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=b.indexOf(n);if(-1===r){for(let e=0;e<y.length;e++){if(e>=b.length){b.push(n),r=e;break}if(null===b[e]){b[e]=n,r=e;break}}if(-1===r)break}const i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=y[e];return void 0===t&&(t=new Ree,y[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=y[e];return void 0===t&&(t=new Ree,y[e]=t),t.getGripSpace()},this.getHand=function(e){let t=y[e];return void 0===t&&(t=new Ree,y[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting},this.setReferenceSpaceType=function(e){s=e,n.isPresenting},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){g=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",P),r.addEventListener("inputsourceschange",O),!0!==m.xrCompatible&&await t.makeXRCompatible(),w=e.getPixelRatio(),e.getSize(x);if("undefined"!=typeof XRWebGLBinding&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,s=null;m.depth&&(s=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?d6:h6,a=m.stencil?s6:t6);const o={colorFormat:t.RGBA8,depthFormat:s,scaleFactor:i};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(o),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),v=new s7(h.textureWidth,h.textureHeight,{format:u6,type:K5,depthTexture:new Mne(h.textureWidth,h.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}else{const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};d=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),v=new s7(d.framebufferWidth,d.framebufferHeight,{format:u6,type:K5,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(o),l=null,a=await r.requestReferenceSpace(s),D.setContext(r),D.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const k=new u7,R=new u7;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==p.texture&&(p.depthNear>0&&(t=p.depthNear),p.depthFar>0&&(n=p.depthFar)),E.near=S.near=_.near=t,E.far=S.far=_.far=n,M===E.near&&A===E.far||(r.updateRenderState({depthNear:E.near,depthFar:E.far}),M=E.near,A=E.far),_.layers.mask=2|e.layers.mask,S.layers.mask=4|e.layers.mask,E.layers.mask=_.layers.mask|S.layers.mask;const i=e.parent,a=E.cameras;I(E,i);for(let r=0;r<a.length;r++)I(a[r],i);2===a.length?function(e,t,n){k.setFromMatrixPosition(t.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);const r=k.distanceTo(R),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,s=i[14]/(i[10]-1),o=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=s*u,f=s*h,p=r/(-u+h),m=p*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=s+p,n=o+p,i=d-m,a=f+(r-m),u=l*o/n*t,h=c*o/n*t;e.projectionMatrix.makePerspective(i,a,u,h,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(E,_,S):E.projectionMatrix.copy(_.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*A8*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,E,i)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==h||null!==d)return o},this.setFoveation=function(e){o=e,null!==h&&(h.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(E)};let N=null;const D=new fse;D.setAnimationLoop((function(t,i){if(c=i.getViewerPose(l||a),f=i,null!==c){const t=c.views;null!==d&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));let n=!1;t.length!==E.cameras.length&&(E.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==d)a=d.getViewport(i);else{const t=u.getViewSubImage(h,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(v,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(v))}let s=T[r];void 0===s&&(s=new Eee,s.layers.enable(r),s.viewport=new i7,T[r]=s),s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(i.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(a.x,a.y,a.width,a.height),0===r&&(E.matrix.copy(s.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===n&&E.cameras.push(s)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")&&"gpu-optimized"==r.depthUsage&&u){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<y.length;e++){const t=b[e],n=y[e];null!==t&&void 0!==n&&n.update(t,i,l||a)}N&&N(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),f=null})),this.setAnimationLoop=function(e){N=e},this.dispose=function(){}}}const Gle=new K7,$le=new B7;function Xle(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,s=i.envMapRotation;a&&(e.envMap.value=a,Gle.copy(s),Gle.x*=-1,Gle.y*=-1,Gle.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(Gle.y*=-1,Gle.z*=-1),e.envMapRotation.value.setFromMatrix4($le.makeRotationFromEuler(Gle)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,yee(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,s,o){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,o)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,s):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function qle(e,t,n,r){let i={},a={},s=[];const o=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"==typeof i||"boolean"==typeof i?i:i.clone(),!0;{const e=r[a];if("number"==typeof i||"boolean"==typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture,t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=s.indexOf(n.__bindingPointIndex);s.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){let d=i[n.id];void 0===d&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let a=0,s=t.length;a<s;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,i=e.length;t<i;t++){const i=e[t],a=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]),s=n%r,o=s%t.boundary,l=s+o;n+=o,0!==l&&r-l<t.storage&&(n+=r-l),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){const n=function(){for(let e=0;e<o;e++)if(-1===s.indexOf(e))return s.push(e),e;return 0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",u));const f=h.program;r.updateUBOMapping(n,f);const p=t.render.frame;a[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,s=r.length;i<s;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,a)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let a=0;a<n.length;a++){const s=n[a],o=c(s);"number"==typeof s||"boolean"==typeof s?(r.__data[0]=s,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):s.isMatrix3?(r.__data[0]=s.elements[0],r.__data[1]=s.elements[1],r.__data[2]=s.elements[2],r.__data[3]=0,r.__data[4]=s.elements[3],r.__data[5]=s.elements[4],r.__data[6]=s.elements[5],r.__data[7]=0,r.__data[8]=s.elements[6],r.__data[9]=s.elements[7],r.__data[10]=s.elements[8],r.__data[11]=0):(s.toArray(r.__data,i),i+=o.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);s=[],i={},a={}}}}class Yle{constructor(e={}){const{canvas:t=V8(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:o=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:h=!1}=e;let d;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=n.getContextAttributes().alpha}else d=a;const f=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const v=[],y=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const b=this;let x=!1;this._outputColorSpace=a8;let w=0,_=0,S=null,T=-1,E=null;const M=new i7,A=new i7;let C=null;const P=new R9(0);let O=0,k=t.width,R=t.height,I=1,N=null,D=null;const L=new i7(0,0,k,R),F=new i7(0,0,k,R);let U=!1;const j=new Nte;let B=!1,z=!1;const V=new B7,H=new B7,W=new u7,G=new i7,$={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let X=!1;function q(){return null===S?I:1}let Y,K,J,Z,Q,ee,te,ne,re,ie,ae,se,oe,le,ce,ue,he,de,fe,pe,me,ge,ve,ye,be=n;function xe(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${r5}`),t.addEventListener("webglcontextlost",Se,!1),t.addEventListener("webglcontextrestored",Te,!1),t.addEventListener("webglcontextcreationerror",Ee,!1),null===be){const t="webgl2";if(be=xe(t,e),null===be)throw xe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(He){throw He}function we(){Y=new $se(be),Y.init(),ge=new Vle(be,Y),K=new Tse(be,Y,e,ge),J=new Ble(be,Y),K.reverseDepthBuffer&&h&&J.buffers.depth.setReversed(!0),Z=new Yse(be),Q=new Ale,ee=new zle(be,Y,J,Q,K,ge,Z),te=new Mse(b),ne=new Gse(b),re=new pse(be),ve=new _se(be,re),ie=new Xse(be,re,Z,ve),ae=new Jse(be,ie,re,Z),fe=new Kse(be,K,ee),ue=new Ese(Q),se=new Mle(b,te,ne,Y,K,ve,ue),oe=new Xle(b,Q),le=new kle,ce=new Fle(Y),de=new wse(b,te,ne,J,ae,d,o),he=new Ule(b,ae,K),ye=new qle(be,Z,K,J),pe=new Sse(be,Y,Z),me=new qse(be,Y,Z),Z.programs=se.programs,b.capabilities=K,b.extensions=Y,b.properties=Q,b.renderLists=le,b.shadowMap=he,b.state=J,b.info=Z}we();const _e=new Wle(b,be);function Se(e){e.preventDefault(),x=!0}function Te(){x=!1;const e=Z.autoReset,t=he.enabled,n=he.autoUpdate,r=he.needsUpdate,i=he.type;we(),Z.autoReset=e,he.enabled=t,he.autoUpdate=n,he.needsUpdate=r,he.type=i}function Ee(e){}function Me(e){const t=e.target;t.removeEventListener("dispose",Me),function(e){(function(e){const t=Q.get(e).programs;void 0!==t&&(t.forEach((function(e){se.releaseProgram(e)})),e.isShaderMaterial&&se.releaseShaderCache(e))})(e),Q.remove(e)}(t)}function Ae(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,Fe(e,t,n),e.side=0,e.needsUpdate=!0,Fe(e,t,n),e.side=2):Fe(e,t,n)}this.xr=_e,this.getContext=function(){return be},this.getContextAttributes=function(){return be.getContextAttributes()},this.forceContextLoss=function(){const e=Y.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=Y.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(k,R,!1))},this.getSize=function(e){return e.set(k,R)},this.setSize=function(e,n,r=!0){_e.isPresenting||(k=e,R=n,t.width=Math.floor(e*I),t.height=Math.floor(n*I),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(k*I,R*I).floor()},this.setDrawingBufferSize=function(e,n,r){k=e,R=n,I=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(M)},this.getViewport=function(e){return e.copy(L)},this.setViewport=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),J.viewport(M.copy(L).multiplyScalar(I).round())},this.getScissor=function(e){return e.copy(F)},this.setScissor=function(e,t,n,r){e.isVector4?F.set(e.x,e.y,e.z,e.w):F.set(e,t,n,r),J.scissor(A.copy(F).multiplyScalar(I).round())},this.getScissorTest=function(){return U},this.setScissorTest=function(e){J.setScissorTest(U=e)},this.setOpaqueSort=function(e){N=e},this.setTransparentSort=function(e){D=e},this.getClearColor=function(e){return e.copy(de.getClearColor())},this.setClearColor=function(){de.setClearColor(...arguments)},this.getClearAlpha=function(){return de.getClearAlpha()},this.setClearAlpha=function(){de.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==S){const t=S.texture.format;e=t===v6||t===g6||t===p6}if(e){const e=S.texture.type,t=e===K5||e===t6||e===Q5||e===s6||e===i6||e===a6,n=de.getClearColor(),r=de.getClearAlpha(),i=n.r,a=n.g,s=n.b;t?(f[0]=i,f[1]=a,f[2]=s,f[3]=r,be.clearBufferuiv(be.COLOR,0,f)):(p[0]=i,p[1]=a,p[2]=s,p[3]=r,be.clearBufferiv(be.COLOR,0,p))}else r|=be.COLOR_BUFFER_BIT}t&&(r|=be.DEPTH_BUFFER_BIT),n&&(r|=be.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),be.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Se,!1),t.removeEventListener("webglcontextrestored",Te,!1),t.removeEventListener("webglcontextcreationerror",Ee,!1),de.dispose(),le.dispose(),ce.dispose(),Q.dispose(),te.dispose(),ne.dispose(),ae.dispose(),ve.dispose(),ye.dispose(),se.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Pe),_e.removeEventListener("sessionend",Oe),ke.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=$);const s=i.isMesh&&i.matrixWorld.determinant()<0,o=function(e,t,n,r,i){!0!==t.isScene&&(t=$);ee.resetTextureUnits();const a=t.fog,s=r.isMeshStandardMaterial?t.environment:null,o=null===S?b.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:s8,l=(r.isMeshStandardMaterial?ne:te).get(r.envMap||s),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let p=0;r.toneMapped&&(null!==S&&!0!==S.isXRRenderTarget||(p=b.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==m?m.length:0,y=Q.get(r),x=g.state.lights;if(!0===B&&(!0===z||e!==E)){const t=e===E&&r.id===T;ue.setState(r,e,t)}let w=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==x.state.version||y.outputColorSpace!==o||i.isBatchedMesh&&!1===y.batching?w=!0:i.isBatchedMesh||!0!==y.batching?i.isBatchedMesh&&!0===y.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===y.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===y.instancing?w=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?w=!0:i.isSkinnedMesh||!0!==y.skinning?i.isInstancedMesh&&!0===y.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===y.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===y.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===y.instancingMorph&&null!==i.morphTexture||y.envMap!==l||!0===r.fog&&y.fog!==a?w=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===ue.numPlanes&&y.numIntersection===ue.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==h||y.morphNormals!==d||y.morphColors!==f||y.toneMapping!==p||y.morphTargetsCount!==v)&&(w=!0):w=!0:w=!0:w=!0:w=!0:(w=!0,y.__version=r.version);let _=y.currentProgram;!0===w&&(_=Fe(r,t,i));let M=!1,A=!1,C=!1;const P=_.getUniforms(),O=y.uniforms;J.useProgram(_.program)&&(M=!0,A=!0,C=!0);r.id!==T&&(T=r.id,A=!0);if(M||E!==e){J.buffers.depth.getReversed()?(V.copy(e.projectionMatrix),function(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}(V),function(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}(V),P.setValue(be,"projectionMatrix",V)):P.setValue(be,"projectionMatrix",e.projectionMatrix),P.setValue(be,"viewMatrix",e.matrixWorldInverse);const t=P.map.cameraPosition;void 0!==t&&t.setValue(be,W.setFromMatrixPosition(e.matrixWorld)),K.logarithmicDepthBuffer&&P.setValue(be,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&P.setValue(be,"isOrthographic",!0===e.isOrthographicCamera),E!==e&&(E=e,A=!0,C=!0)}if(i.isSkinnedMesh){P.setOptional(be,i,"bindMatrix"),P.setOptional(be,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),P.setValue(be,"boneTexture",e.boneTexture,ee))}i.isBatchedMesh&&(P.setOptional(be,i,"batchingTexture"),P.setValue(be,"batchingTexture",i._matricesTexture,ee),P.setOptional(be,i,"batchingIdTexture"),P.setValue(be,"batchingIdTexture",i._indirectTexture,ee),P.setOptional(be,i,"batchingColorTexture"),null!==i._colorsTexture&&P.setValue(be,"batchingColorTexture",i._colorsTexture,ee));const k=n.morphAttributes;void 0===k.position&&void 0===k.normal&&void 0===k.color||fe.update(i,n,_);(A||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,P.setValue(be,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(O.envMap.value=l,O.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(O.envMapIntensity.value=t.environmentIntensity);A&&(P.setValue(be,"toneMappingExposure",b.toneMappingExposure),y.needsLights&&(D=C,(N=O).ambientLightColor.needsUpdate=D,N.lightProbe.needsUpdate=D,N.directionalLights.needsUpdate=D,N.directionalLightShadows.needsUpdate=D,N.pointLights.needsUpdate=D,N.pointLightShadows.needsUpdate=D,N.spotLights.needsUpdate=D,N.spotLightShadows.needsUpdate=D,N.rectAreaLights.needsUpdate=D,N.hemisphereLights.needsUpdate=D),a&&!0===r.fog&&oe.refreshFogUniforms(O,a),oe.refreshMaterialUniforms(O,r,I,R,g.state.transmissionRenderTarget[e.id]),nle.upload(be,Ue(y),O,ee));var N,D;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(nle.upload(be,Ue(y),O,ee),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&P.setValue(be,"center",i.center);if(P.setValue(be,"modelViewMatrix",i.modelViewMatrix),P.setValue(be,"normalMatrix",i.normalMatrix),P.setValue(be,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];ye.update(n,_),ye.bind(n,_)}}return _}(e,t,n,r,i);J.setMaterial(r,s);let l=n.index,c=1;if(!0===r.wireframe){if(l=ie.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,h=n.attributes.position;let d=u.start*c,f=(u.start+u.count)*c;null!==a&&(d=Math.max(d,a.start*c),f=Math.min(f,(a.start+a.count)*c)),null!==l?(d=Math.max(d,0),f=Math.min(f,l.count)):null!=h&&(d=Math.max(d,0),f=Math.min(f,h.count));const p=f-d;if(p<0||p===1/0)return;let m;ve.setup(i,r,o,n,l);let v=pe;if(null!==l&&(m=re.get(l),v=me,v.setIndex(m)),i.isMesh)!0===r.wireframe?(J.setLineWidth(r.wireframeLinewidth*q()),v.setMode(be.LINES)):v.setMode(be.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),J.setLineWidth(e*q()),i.isLineSegments?v.setMode(be.LINES):i.isLineLoop?v.setMode(be.LINE_LOOP):v.setMode(be.LINE_STRIP)}else i.isPoints?v.setMode(be.POINTS):i.isSprite&&v.setMode(be.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)W8("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),v.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(Y.get("WEBGL_multi_draw"))v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=l?re.get(l).bytesPerElement:1,s=Q.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)s.setValue(be,"_gl_DrawID",r),v.render(e[r]/a,t[r])}else if(i.isInstancedMesh)v.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(d,p,t)}else v.render(d,p)},this.compile=function(e,t,n=null){null===n&&(n=e),g=ce.get(n),g.init(t),y.push(g),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))})),g.setupLights();const r=new Set;return e.traverse((function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Ae(a,n,e),r.add(a)}else Ae(t,n,e),r.add(t)})),g=y.pop(),r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise((t=>{function n(){r.forEach((function(e){Q.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==Y.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Ce=null;function Pe(){ke.stop()}function Oe(){ke.start()}const ke=new fse;function Re(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)g.pushLight(e),e.castShadow&&g.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||j.intersectsSprite(e)){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(H);const t=ae.update(e),i=e.material;i.visible&&m.push(e,t,i,n,G.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||j.intersectsObject(e))){const t=ae.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),G.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),G.copy(t.boundingSphere.center)),G.applyMatrix4(e.matrixWorld).applyMatrix4(H)),Array.isArray(i)){const r=t.groups;for(let a=0,s=r.length;a<s;a++){const s=r[a],o=i[s.materialIndex];o&&o.visible&&m.push(e,t,o,n,G.z,s)}}else i.visible&&m.push(e,t,i,n,G.z,null)}const i=e.children;for(let a=0,s=i.length;a<s;a++)Re(i[a],t,n,r)}function Ie(e,t,n,r){const i=e.opaque,a=e.transmissive,s=e.transparent;g.setupLightsView(n),!0===B&&ue.setGlobalState(b.clippingPlanes,n),r&&J.viewport(M.copy(r)),i.length>0&&De(i,t,n),a.length>0&&De(a,t,n),s.length>0&&De(s,t,n),J.buffers.depth.setTest(!0),J.buffers.depth.setMask(!0),J.buffers.color.setMask(!0),J.setPolygonOffset(!1)}function Ne(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===g.state.transmissionRenderTarget[r.id]&&(g.state.transmissionRenderTarget[r.id]=new s7(1,1,{generateMipmaps:!0,type:Y.has("EXT_color_buffer_half_float")||Y.has("EXT_color_buffer_float")?r6:K5,minFilter:Y5,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:q8.workingColorSpace}));const a=g.state.transmissionRenderTarget[r.id],s=r.viewport||M;a.setSize(s.z*b.transmissionResolutionScale,s.w*b.transmissionResolutionScale);const o=b.getRenderTarget();b.setRenderTarget(a),b.getClearColor(P),O=b.getClearAlpha(),O<1&&b.setClearColor(16777215,.5),b.clear(),X&&de.render(n);const l=b.toneMapping;b.toneMapping=0;const c=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),g.setupLightsView(r),!0===B&&ue.setGlobalState(b.clippingPlanes,r),De(e,n,r),ee.updateMultisampleRenderTarget(a),ee.updateRenderTargetMipmap(a),!1===Y.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],s=a.object,o=a.geometry,l=a.material,c=a.group;if(2===l.side&&s.layers.test(r.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,Le(s,n,r,o,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(ee.updateMultisampleRenderTarget(a),ee.updateRenderTargetMipmap(a))}b.setRenderTarget(o),b.setClearColor(P,O),void 0!==c&&(r.viewport=c),b.toneMapping=l}function De(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],s=a.object,o=a.geometry,l=a.group;let c=a.material;!0===c.allowOverride&&null!==r&&(c=r),s.layers.test(n.layers)&&Le(s,t,n,o,c,l)}}function Le(e,t,n,r,i,a){e.onBeforeRender(b,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(b,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,b.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,b.renderBufferDirect(n,t,r,i,e,a),i.side=2):b.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(b,t,n,r,i,a)}function Fe(e,t,n){!0!==t.isScene&&(t=$);const r=Q.get(e),i=g.state.lights,a=g.state.shadowsArray,s=i.state.version,o=se.getParameters(e,i.state,a,t,n),l=se.getProgramCacheKey(o);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ne:te).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Me),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===s)return je(e,o),u}else o.uniforms=se.getUniforms(e),e.onBeforeCompile(o,b),u=se.acquireProgram(o,l),c.set(l,u),r.uniforms=o.uniforms;const h=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=ue.uniform),je(e,o),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=s,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function Ue(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=nle.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function je(e,t){const n=Q.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}ke.setAnimationLoop((function(e){Ce&&Ce(e)})),"undefined"!=typeof self&&ke.setContext(self),this.setAnimationLoop=function(e){Ce=e,_e.setAnimationLoop(e),null===e?ke.stop():ke.start()},_e.addEventListener("sessionstart",Pe),_e.addEventListener("sessionend",Oe),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return;if(!0===x)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===_e.enabled&&!0===_e.isPresenting&&(!0===_e.cameraAutoUpdate&&_e.updateCamera(t),t=_e.getCamera()),!0===e.isScene&&e.onBeforeRender(b,e,t,S),g=ce.get(e,y.length),g.init(t),y.push(g),H.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromProjectionMatrix(H),z=this.localClippingEnabled,B=ue.init(this.clippingPlanes,z),m=le.get(e,v.length),m.init(),v.push(m),!0===_e.enabled&&!0===_e.isPresenting){const e=b.xr.getDepthSensingMesh();null!==e&&Re(e,t,-1/0,b.sortObjects)}Re(e,t,0,b.sortObjects),m.finish(),!0===b.sortObjects&&m.sort(N,D),X=!1===_e.enabled||!1===_e.isPresenting||!1===_e.hasDepthSensing(),X&&de.addToRenderList(m,e),this.info.render.frame++,!0===B&&ue.beginShadows();const n=g.state.shadowsArray;he.render(n,e,t),!0===B&&ue.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=m.opaque,i=m.transmissive;if(g.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,a=n.length;t<a;t++){Ne(r,i,e,n[t])}X&&de.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];Ie(m,e,r,r.viewport)}}else i.length>0&&Ne(r,i,e,t),X&&de.render(e),Ie(m,e,t);null!==S&&0===_&&(ee.updateMultisampleRenderTarget(S),ee.updateRenderTargetMipmap(S)),!0===e.isScene&&e.onAfterRender(b,e,t),ve.resetDefaultState(),T=-1,E=null,y.pop(),y.length>0?(g=y[y.length-1],!0===B&&ue.setGlobalState(b.clippingPlanes,g.state.camera)):g=null,v.pop(),m=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(e,t,n){const r=Q.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),Q.get(e.texture).__webglTexture=t,Q.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=Q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const Be=be.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){S=e,w=t,_=n;let r=!0,i=null,a=!1,s=!1;if(e){const o=Q.get(e);if(void 0!==o.__useDefaultFramebuffer)J.bindFramebuffer(be.FRAMEBUFFER,null),r=!1;else if(void 0===o.__webglFramebuffer)ee.setupRenderTarget(e);else if(o.__hasExternalTextures)ee.rebindTextures(e,Q.get(e.texture).__webglTexture,Q.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(o.__boundDepthTexture!==t){if(null!==t&&Q.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ee.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(s=!0);const c=Q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],a=!0):i=e.samples>0&&!1===ee.useMultisampledRTT(e)?Q.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,M.copy(e.viewport),A.copy(e.scissor),C=e.scissorTest}else M.copy(L).multiplyScalar(I).floor(),A.copy(F).multiplyScalar(I).floor(),C=U;0!==n&&(i=Be);if(J.bindFramebuffer(be.FRAMEBUFFER,i)&&r&&J.drawBuffers(e,i),J.viewport(M),J.scissor(A),J.setScissorTest(C),a){const r=Q.get(e.texture);be.framebufferTexture2D(be.FRAMEBUFFER,be.COLOR_ATTACHMENT0,be.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(s){const r=Q.get(e.texture),i=t;be.framebufferTextureLayer(be.FRAMEBUFFER,be.COLOR_ATTACHMENT0,r.__webglTexture,n,i)}else if(null!==e&&0!==n){const t=Q.get(e.texture);be.framebufferTexture2D(be.FRAMEBUFFER,be.COLOR_ATTACHMENT0,be.TEXTURE_2D,t.__webglTexture,n)}T=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,s){if(!e||!e.isWebGLRenderTarget)return;let o=Q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(o=o[s]),o){J.bindFramebuffer(be.FRAMEBUFFER,o);try{const s=e.texture,o=s.format,l=s.type;if(!K.textureFormatReadable(o))return;if(!K.textureTypeReadable(l))return;t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&be.readPixels(t,n,r,i,ge.convert(o),ge.convert(l),a)}finally{const e=null!==S?Q.get(S).__webglFramebuffer:null;J.bindFramebuffer(be.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,s){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=Q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(o=o[s]),o){if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){J.bindFramebuffer(be.FRAMEBUFFER,o);const s=e.texture,l=s.format,c=s.type;if(!K.textureFormatReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!K.textureTypeReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const u=be.createBuffer();be.bindBuffer(be.PIXEL_PACK_BUFFER,u),be.bufferData(be.PIXEL_PACK_BUFFER,a.byteLength,be.STREAM_READ),be.readPixels(t,n,r,i,ge.convert(l),ge.convert(c),0);const h=null!==S?Q.get(S).__webglFramebuffer:null;J.bindFramebuffer(be.FRAMEBUFFER,h);const d=be.fenceSync(be.SYNC_GPU_COMMANDS_COMPLETE,0);return be.flush(),await function(e,t,n){return new Promise((function(r,i){setTimeout((function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}),n)}))}(be,d,4),be.bindBuffer(be.PIXEL_PACK_BUFFER,u),be.getBufferSubData(be.PIXEL_PACK_BUFFER,0,a),be.deleteBuffer(u),be.deleteSync(d),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e,t=null,n=0){const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),s=null!==t?t.x:0,o=null!==t?t.y:0;ee.setTexture2D(e,0),be.copyTexSubImage2D(be.TEXTURE_2D,n,0,0,s,o,i,a),J.unbindTexture()};const ze=be.createFramebuffer(),Ve=be.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,i=0,a=null){let s,o,l,c,u,h,d,f,p;null===a&&(0!==i?(W8("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),a=i,i=0):a=0);const m=e.isCompressedTexture?e.mipmaps[a]:e.image;if(null!==n)s=n.max.x-n.min.x,o=n.max.y-n.min.y,l=n.isBox3?n.max.z-n.min.z:1,c=n.min.x,u=n.min.y,h=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-i);s=Math.floor(m.width*t),o=Math.floor(m.height*t),l=e.isDataArrayTexture?m.depth:e.isData3DTexture?Math.floor(m.depth*t):1,c=0,u=0,h=0}null!==r?(d=r.x,f=r.y,p=r.z):(d=0,f=0,p=0);const g=ge.convert(t.format),v=ge.convert(t.type);let y;t.isData3DTexture?(ee.setTexture3D(t,0),y=be.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(ee.setTexture2DArray(t,0),y=be.TEXTURE_2D_ARRAY):(ee.setTexture2D(t,0),y=be.TEXTURE_2D),be.pixelStorei(be.UNPACK_FLIP_Y_WEBGL,t.flipY),be.pixelStorei(be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),be.pixelStorei(be.UNPACK_ALIGNMENT,t.unpackAlignment);const b=be.getParameter(be.UNPACK_ROW_LENGTH),x=be.getParameter(be.UNPACK_IMAGE_HEIGHT),w=be.getParameter(be.UNPACK_SKIP_PIXELS),_=be.getParameter(be.UNPACK_SKIP_ROWS),S=be.getParameter(be.UNPACK_SKIP_IMAGES);be.pixelStorei(be.UNPACK_ROW_LENGTH,m.width),be.pixelStorei(be.UNPACK_IMAGE_HEIGHT,m.height),be.pixelStorei(be.UNPACK_SKIP_PIXELS,c),be.pixelStorei(be.UNPACK_SKIP_ROWS,u),be.pixelStorei(be.UNPACK_SKIP_IMAGES,h);const T=e.isDataArrayTexture||e.isData3DTexture,E=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=Q.get(e),r=Q.get(t),m=Q.get(n.__renderTarget),g=Q.get(r.__renderTarget);J.bindFramebuffer(be.READ_FRAMEBUFFER,m.__webglFramebuffer),J.bindFramebuffer(be.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let v=0;v<l;v++)T&&(be.framebufferTextureLayer(be.READ_FRAMEBUFFER,be.COLOR_ATTACHMENT0,Q.get(e).__webglTexture,i,h+v),be.framebufferTextureLayer(be.DRAW_FRAMEBUFFER,be.COLOR_ATTACHMENT0,Q.get(t).__webglTexture,a,p+v)),be.blitFramebuffer(c,u,s,o,d,f,s,o,be.DEPTH_BUFFER_BIT,be.NEAREST);J.bindFramebuffer(be.READ_FRAMEBUFFER,null),J.bindFramebuffer(be.DRAW_FRAMEBUFFER,null)}else if(0!==i||e.isRenderTargetTexture||Q.has(e)){const n=Q.get(e),r=Q.get(t);J.bindFramebuffer(be.READ_FRAMEBUFFER,ze),J.bindFramebuffer(be.DRAW_FRAMEBUFFER,Ve);for(let e=0;e<l;e++)T?be.framebufferTextureLayer(be.READ_FRAMEBUFFER,be.COLOR_ATTACHMENT0,n.__webglTexture,i,h+e):be.framebufferTexture2D(be.READ_FRAMEBUFFER,be.COLOR_ATTACHMENT0,be.TEXTURE_2D,n.__webglTexture,i),E?be.framebufferTextureLayer(be.DRAW_FRAMEBUFFER,be.COLOR_ATTACHMENT0,r.__webglTexture,a,p+e):be.framebufferTexture2D(be.DRAW_FRAMEBUFFER,be.COLOR_ATTACHMENT0,be.TEXTURE_2D,r.__webglTexture,a),0!==i?be.blitFramebuffer(c,u,s,o,d,f,s,o,be.COLOR_BUFFER_BIT,be.NEAREST):E?be.copyTexSubImage3D(y,a,d,f,p+e,c,u,s,o):be.copyTexSubImage2D(y,a,d,f,c,u,s,o);J.bindFramebuffer(be.READ_FRAMEBUFFER,null),J.bindFramebuffer(be.DRAW_FRAMEBUFFER,null)}else E?e.isDataTexture||e.isData3DTexture?be.texSubImage3D(y,a,d,f,p,s,o,l,g,v,m.data):t.isCompressedArrayTexture?be.compressedTexSubImage3D(y,a,d,f,p,s,o,l,g,m.data):be.texSubImage3D(y,a,d,f,p,s,o,l,g,v,m):e.isDataTexture?be.texSubImage2D(be.TEXTURE_2D,a,d,f,s,o,g,v,m.data):e.isCompressedTexture?be.compressedTexSubImage2D(be.TEXTURE_2D,a,d,f,m.width,m.height,g,m.data):be.texSubImage2D(be.TEXTURE_2D,a,d,f,s,o,g,v,m);be.pixelStorei(be.UNPACK_ROW_LENGTH,b),be.pixelStorei(be.UNPACK_IMAGE_HEIGHT,x),be.pixelStorei(be.UNPACK_SKIP_PIXELS,w),be.pixelStorei(be.UNPACK_SKIP_ROWS,_),be.pixelStorei(be.UNPACK_SKIP_IMAGES,S),0===a&&t.generateMipmaps&&be.generateMipmap(y),J.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,r=null,i=0){return W8('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,r,i)},this.initRenderTarget=function(e){void 0===Q.get(e).__webglFramebuffer&&ee.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?ee.setTextureCube(e,0):e.isData3DTexture?ee.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ee.setTexture2DArray(e,0):ee.setTexture2D(e,0),J.unbindTexture()},this.resetState=function(){w=0,_=0,S=null,J.reset(),ve.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return w8}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=q8._getDrawingBufferColorSpace(e),t.unpackColorSpace=q8._getUnpackColorSpace()}}const Kle=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:4,AddEquation:o5,AddOperation:2,AdditiveAnimationBlendMode:r8,AdditiveBlending:2,AgXToneMapping:6,AlphaFormat:l6,AlwaysCompare:519,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:eae,AnimationAction:Lae,AnimationClip:Cie,AnimationLoader:class extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Lie(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r&&r(a),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Cie.parse(e[n]);t.push(r)}return t}},AnimationMixer:class extends S8{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,s=e._interpolants,o=n.uuid,l=this._bindingsByRootAndName;let c=l[o];void 0===c&&(c={},l[o]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,a[u]=l;else{if(l=a[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,o,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new Cae(Dae.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,o,i),a[u]=l}s[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,s=a[i],o=s.knownActions,l=o[o.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),e._byClipCacheIndex=null;delete s.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,s=a[r],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete s[i],0===Object.keys(s).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new yie(new Float32Array(2),new Float32Array(2),1,Fae),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"==typeof e?Cie.findByName(r,e):e;const s=null!==a?a.uuid:e,o=this._actionsByClip[s];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:n8),void 0!==o){const e=o.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=o.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new Lae(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?Cie.findByName(n,e):e,a=i?i.uuid:e,s=this._actionsByClip[a];return void 0!==s&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,a)}const s=this._bindings,o=this._nActiveBindings;for(let l=0;l!==o;++l)s[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=C8(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let s,o=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=o++,t[h]=d,e.push(u);for(let e=0,t=a;e!==t;++e)i[e].push(new Dae(u,n[e],r[e]))}else if(d<l){s=e[d];const o=--l,c=e[o];t[c.uuid]=d,e[d]=c,t[h]=o,e[o]=u;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[o];let s=t[d];t[d]=a,void 0===s&&(s=new Dae(u,n[e],r[e])),t[o]=s}}else e[d]}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a],o=s.uuid,l=t[o];if(void 0!==l&&l>=i){const a=i++,c=e[a];t[c.uuid]=l,e[l]=c,t[o]=a,e[a]=s;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[l];t[l]=r,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let s=0,o=arguments.length;s!==o;++s){const o=arguments[s].uuid,l=t[o];if(void 0!==l)if(delete t[o],l<i){const s=--i,o=e[s],c=--a,u=e[c];t[o.uuid]=l,e[l]=o,t[u.uuid]=s,e[s]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[s],i=t[c];t[l]=r,t[s]=i,t.pop()}}else{const i=--a,s=e[i];i>0&&(t[s.uuid]=l),e[l]=s,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,s=this._parsedPaths,o=this._objects,l=o.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),s.push(t),i.push(u);for(let h=c,d=o.length;h!==d;++h){const n=o[h];u[h]=new Dae(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,s=a.length-1,o=a[s];t[e[s]]=n,a[n]=o,a.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}},AnimationUtils:class{static convertArray(e,t){return hie(e,t)}static isTypedArray(e){return die(e)}static getKeyframeOrder(e){return fie(e)}static sortedArray(e,t,n){return pie(e,t,n)}static flattenJSON(e,t,n,r){mie(e,t,n,r)}static subclip(e,t,n,r,i=30){return function(e,t,n,r,i=30){const a=e.clone();a.name=t;const s=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),o=[],c=[];for(let a=0;a<e.times.length;++a){const s=e.times[a]*i;if(!(s<n||s>=r)){o.push(e.times[a]);for(let n=0;n<t;++n)c.push(e.values[a*t+n])}}0!==o.length&&(e.times=hie(o,e.times.constructor),e.values=hie(c,e.values.constructor),s.push(e))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}(e,t,n,r,i)}static makeClipAdditive(e,t=0,n=e,r=30){return function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let s=0;s<i;++s){const t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let o=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(a<=t.times[0]){const e=o,n=l-o;d=t.values.slice(e,n)}else if(a>=t.times[h]){const e=h*l+o,n=e+l-o;d=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=o,r=l-o;e.evaluate(a),d=e.resultBuffer.slice(n,r)}"quaternion"===r&&(new c7).fromArray(d).normalize().conjugate().toArray(d);const f=i.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===r)c7.multiplyQuaternionsFlat(i.values,t,d,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=d[n]}}}return e.blendMode=r8,e}(e,t,n,r)}},ArcCurve:Bne,ArrayCamera:gae,ArrowHelper:class extends f9{constructor(e=new u7(0,0,1),t=new u7(0,0,0),n=1,r=16776960,i=.2*n,a=.2*i){super(),this.type="ArrowHelper",void 0===use&&(use=new tee,use.setAttribute("position",new X9([0,0,0,0,1,0],3)),hse=new One(.5,1,5,1),hse.translate(0,-.5,0)),this.position.copy(t),this.line=new hne(use,new rne({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fee(hse,new L9({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{cse.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(cse,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},AttachedBindMode:I5,Audio:Sae,AudioAnalyser:class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},AudioContext:dae,AudioListener:class extends f9{constructor(){super(),this.type="AudioListener",this.context=dae.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vae}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bae,xae,wae),_ae.set(0,0,-1).applyQuaternion(xae),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(bae.x,e),t.positionY.linearRampToValueAtTime(bae.y,e),t.positionZ.linearRampToValueAtTime(bae.z,e),t.forwardX.linearRampToValueAtTime(_ae.x,e),t.forwardY.linearRampToValueAtTime(_ae.y,e),t.forwardZ.linearRampToValueAtTime(_ae.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(bae.x,bae.y,bae.z),t.setOrientation(_ae.x,_ae.y,_ae.z,n.x,n.y,n.z)}},AudioLoader:class extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Lie(this.manager);function s(t){r&&r(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){try{const n=e.slice(0);dae.getContext().decodeAudioData(n,(function(e){t(e)})).catch(s)}catch(n){s(n)}}),n,r)}},AxesHelper:class extends mne{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new tee;n.setAttribute("position",new X9(t,3)),n.setAttribute("color",new X9([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new rne({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new R9,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,BatchedMesh:nne,Bone:pte,BooleanKeyframeTrack:wie,Box2:class{constructor(e=new D8(1/0,1/0),t=new D8(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Gae.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Gae).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Box3:f7,Box3Helper:class extends mne{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new tee;r.setIndex(new W9(n,1)),r.setAttribute("position",new X9([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new rne({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxGeometry:mee,BoxHelper:class extends mne{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new tee;i.setIndex(new W9(n,1)),i.setAttribute("position",new W9(r,3)),super(i,new rne({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&lse.setFromObject(this.object),lse.isEmpty())return;const e=lse.min,t=lse.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BufferAttribute:W9,BufferGeometry:tee,BufferGeometryLoader:oae,ByteType:J5,Cache:Oie,Camera:wee,CameraHelper:class extends mne{constructor(e){const t=new tee,n=new rne({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function s(e,t){o(e),o(t)}function o(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new X9(r,3)),t.setAttribute("color",new X9(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new R9(16755200),c=new R9(16711680),u=new R9(43775),h=new R9(16777215),d=new R9(3355443);this.setColors(l,c,u,h,d)}setColors(e,t,n,r,i){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;sse.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const n=this.camera.coordinateSystem===w8?-1:0;ose("c",t,e,sse,0,0,n),ose("t",t,e,sse,0,0,1),ose("n1",t,e,sse,-1,-1,n),ose("n2",t,e,sse,1,-1,n),ose("n3",t,e,sse,-1,1,n),ose("n4",t,e,sse,1,1,n),ose("f1",t,e,sse,-1,-1,1),ose("f2",t,e,sse,1,-1,1),ose("f3",t,e,sse,-1,1,1),ose("f4",t,e,sse,1,1,1),ose("u1",t,e,sse,.7,1.1,n),ose("u2",t,e,sse,-.7,1.1,n),ose("u3",t,e,sse,0,2,n),ose("cf1",t,e,sse,-1,0,1),ose("cf2",t,e,sse,1,0,1),ose("cf3",t,e,sse,0,-1,1),ose("cf4",t,e,sse,0,1,1),ose("cn1",t,e,sse,-1,0,n),ose("cn2",t,e,sse,1,0,n),ose("cn3",t,e,sse,0,-1,n),ose("cn4",t,e,sse,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},CanvasTexture:class extends r7{constructor(e,t,n,r,i,a,s,o,l){super(e,t,n,r,i,a,s,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleGeometry:Ane,CatmullRomCurve3:$ne,CineonToneMapping:3,CircleGeometry:Cne,ClampToEdgeWrapping:V5,Clock:vae,Color:R9,ColorKeyframeTrack:_ie,ColorManagement:q8,CompressedArrayTexture:class extends Ene{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=V5,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},CompressedCubeTexture:class extends Ene{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,L5),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},CompressedTexture:Ene,CompressedTextureLoader:class extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],s=new Ene,o=new Lie(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials);let l=0;function c(c){o.load(e[c],(function(e){const n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=X5),s.image=a,s.format=n.format,s.needsUpdate=!0,t&&t(s))}),n,r)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else o.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}s.image=a}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=X5),s.format=n.format,s.needsUpdate=!0,t&&t(s)}),n,r);return s}},ConeGeometry:One,ConstantAlphaFactor:213,ConstantColorFactor:211,Controls:class extends S8{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0!==e&&(null!==this.domElement&&this.disconnect(),this.domElement=e)}disconnect(){}dispose(){}update(){}},CubeCamera:Aee,CubeReflectionMapping:L5,CubeRefractionMapping:F5,CubeTexture:Cee,CubeTextureLoader:class extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=new Cee;i.colorSpace=a8;const a=new Fie(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function o(n){a.load(e[n],(function(e){i.images[n]=e,s++,6===s&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)o(l);return i}},CubeUVReflectionMapping:B5,CubicBezierCurve:Kne,CubicBezierCurve3:Jne,CubicInterpolant:vie,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:Une,CurvePath:ire,CustomBlending:5,CustomToneMapping:5,CylinderGeometry:Pne,Cylindrical:class{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},Data3DTexture:l7,DataArrayTexture:o7,DataTexture:mte,DataTextureLoader:class extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new mte,s=new Lie(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(i.withCredentials),s.load(e,(function(e){let n;try{n=i.parse(e)}catch(s){if(void 0===r)return;r(s)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:V5,a.wrapT=void 0!==n.wrapT?n.wrapT:V5,a.magFilter=void 0!==n.magFilter?n.magFilter:X5,a.minFilter=void 0!==n.minFilter?n.minFilter:X5,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Y5),1===n.mipmapCount&&(a.minFilter=X5),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)}),n,r),a}},DataUtils:class{static toHalfFloat(e){return j9(e)}static fromHalfFloat(e){return B9(e)}},DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:Rie,DepthArrayTexture:class extends Mne{constructor(e=1,t=1,n=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:n},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},DepthFormat:h6,DepthStencilFormat:d6,DepthTexture:Mne,DetachedBindMode:N5,DirectionalLight:Qie,DirectionalLightHelper:class extends f9{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new tee;r.setAttribute("position",new X9([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new rne({fog:!1,toneMapped:!1});this.lightPlane=new hne(r,i),this.add(this.lightPlane),r=new tee,r.setAttribute("position",new X9([0,0,0,0,0,1],3)),this.targetLine=new hne(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nse.setFromMatrixPosition(this.light.matrixWorld),rse.setFromMatrixPosition(this.light.target.matrixWorld),ise.subVectors(rse,nse),this.lightPlane.lookAt(rse),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rse),this.targetLine.scale.z=ise.length()}},DiscreteInterpolant:bie,DodecahedronGeometry:Rne,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicCopyUsage:35050,DynamicDrawUsage:b8,DynamicReadUsage:35049,EdgesGeometry:Fne,EllipseCurve:jne,EqualCompare:514,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:U5,EquirectangularRefractionMapping:j5,Euler:K7,EventDispatcher:S8,ExtrudeGeometry:Fre,FileLoader:Lie,Float16BufferAttribute:class extends W9{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=B9(this.array[e*this.itemSize]);return this.normalized&&(t=R8(t,this.array)),t}setX(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize]=j9(t),this}getY(e){let t=B9(this.array[e*this.itemSize+1]);return this.normalized&&(t=R8(t,this.array)),t}setY(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize+1]=j9(t),this}getZ(e){let t=B9(this.array[e*this.itemSize+2]);return this.normalized&&(t=R8(t,this.array)),t}setZ(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize+2]=j9(t),this}getW(e){let t=B9(this.array[e*this.itemSize+3]);return this.normalized&&(t=R8(t,this.array)),t}setW(e,t){return this.normalized&&(t=I8(t,this.array)),this.array[e*this.itemSize+3]=j9(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array)),this.array[e+0]=j9(t),this.array[e+1]=j9(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array),r=I8(r,this.array)),this.array[e+0]=j9(t),this.array[e+1]=j9(n),this.array[e+2]=j9(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=I8(t,this.array),n=I8(n,this.array),r=I8(r,this.array),i=I8(i,this.array)),this.array[e+0]=j9(t),this.array[e+1]=j9(n),this.array[e+2]=j9(r),this.array[e+3]=j9(i),this}},Float32BufferAttribute:X9,FloatType:n6,Fog:Nee,FogExp2:Iee,FramebufferTexture:class extends r7{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=W5,this.minFilter=W5,this.generateMipmaps=!1,this.needsUpdate=!0}},FrontSide:0,Frustum:Nte,FrustumArray:Fte,GLBufferAttribute:class{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},GLSL1:"100",GLSL3:x8,GreaterCompare:516,GreaterDepth:6,GreaterEqualCompare:518,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends mne{constructor(e=10,t=10,n=4473924,r=8947848){n=new R9(n),r=new R9(r);const i=t/2,a=e/t,s=e/2,o=[],l=[];for(let u=0,h=0,d=-s;u<=t;u++,d+=a){o.push(-s,0,d,s,0,d),o.push(d,0,-s,d,0,s);const e=u===i?n:r;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new tee;c.setAttribute("position",new X9(o,3)),c.setAttribute("color",new X9(l,3));super(c,new rne({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},Group:Oee,HalfFloatType:r6,HemisphereLight:jie,HemisphereLightHelper:class extends f9{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new zre(t);r.rotateY(.5*Math.PI),this.material=new L9({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new W9(a,3)),this.add(new fee(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ese.copy(this.light.color),tse.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?ese:tse;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Qae.setFromMatrixPosition(this.light.matrixWorld).negate())}},IcosahedronGeometry:jre,ImageBitmapLoader:class extends Iie{constructor(e){super(e),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=Oie.get(e);if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then((n=>{t&&t(n),i.manager.itemEnd(e)})).catch((e=>{r&&r(e)})):(setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a);const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader;const o=fetch(e,s).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return Oie.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),Oie.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));Oie.add(e,o),i.manager.itemStart(e)}},ImageLoader:Fie,ImageUtils:Z8,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:bte,InstancedBufferGeometry:sae,InstancedInterleavedBuffer:class extends Lee{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},InstancedMesh:Ate,Int16BufferAttribute:class extends W9{constructor(e,t,n){super(new Int16Array(e),t,n)}},Int32BufferAttribute:class extends W9{constructor(e,t,n){super(new Int32Array(e),t,n)}},Int8BufferAttribute:class extends W9{constructor(e,t,n){super(new Int8Array(e),t,n)}},IntType:e6,InterleavedBuffer:Lee,InterleavedBufferAttribute:Uee,Interpolant:gie,InterpolateDiscrete:K6,InterpolateLinear:J6,InterpolateSmooth:Z6,InterpolationSamplingMode:{NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"},InterpolationSamplingType:{PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},InvertStencilOp:5386,KeepStencilOp:c8,KeyframeTrack:xie,LOD:rte,LatheGeometry:Bre,Layers:J7,LessCompare:513,LessDepth:2,LessEqualCompare:515,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:Uie,LightProbe:rae,Line:hne,Line3:class{constructor(e=new u7,t=new u7){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){$ae.subVectors(e,this.start),Xae.subVectors(this.end,this.start);const n=Xae.dot(Xae);let r=Xae.dot($ae)/n;return t&&(r=P8(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:rne,LineCurve:Zne,LineCurve3:Qne,LineDashedMaterial:uie,LineLoop:gne,LineSegments:mne,LinearFilter:X5,LinearInterpolant:yie,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:Y5,LinearMipmapNearestFilter:q5,LinearSRGBColorSpace:s8,LinearToneMapping:1,LinearTransfer:o8,Loader:Iie,LoaderUtils:aae,LoadingManager:kie,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Material:D9,MaterialLoader:iae,MathUtils:N8,Matrix2:Wae,Matrix3:L8,Matrix4:B7,MaxEquation:104,Mesh:fee,MeshBasicMaterial:L9,MeshDepthMaterial:oie,MeshDistanceMaterial:lie,MeshLambertMaterial:sie,MeshMatcapMaterial:cie,MeshNormalMaterial:aie,MeshPhongMaterial:rie,MeshPhysicalMaterial:nie,MeshStandardMaterial:tie,MeshToonMaterial:iie,MinEquation:103,MirroredRepeatWrapping:H5,MixOperation:1,MultiplyBlending:4,MultiplyOperation:0,NearestFilter:W5,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:$5,NearestMipmapNearestFilter:G5,NeutralToneMapping:7,NeverCompare:512,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColorSpace:i8,NoToneMapping:0,NormalAnimationBlendMode:n8,NormalBlending:1,NotEqualCompare:517,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:Sie,Object3D:f9,ObjectLoader:class extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?aae.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Lie(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){let a=null;try{a=JSON.parse(n)}catch(o){return void(void 0!==r&&r(o))}const s=a.metadata;void 0!==s&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()?i.parse(a,t):void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e))}),n,r)}async loadAsync(e,t){const n=""===this.path?aae.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new Lie(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),a=JSON.parse(i),s=a.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,a),o=this.parseObject(e.object,r,s,a,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),this.bindLightTargets(o),o}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new sre).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,a=e.length;i<a;i++){const t=(new yte).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new oae;for(let i=0,a=e.length;i<a;i++){let a;const s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(s);break;default:s.type in Zre&&(a=Zre[s.type].fromJSON(s,t))}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new iae;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=Cie.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function a(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:B8(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new kie(t);i=new Fie(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new mte(n.data,n.width,n.height)))}r[n.uuid]=new e7(e)}else{const e=a(n.url);r[n.uuid]=new e7(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:B8(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Fie(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new mte(r.data,r.width,r.height)))}n[r.uuid]=new e7(e)}else{const e=await i(r.url);n[r.uuid]=new e7(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:t[e]}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];a.image,t[a.image];const s=t[a.image],o=s.data;let l;Array.isArray(o)?(l=new Cee,6===o.length&&(l.needsUpdate=!0)):(l=o&&o.data?new mte:new r7,o&&(l.needsUpdate=!0)),l.source=s,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,lae)),void 0!==a.channel&&(l.channel=a.channel),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],cae),l.wrapT=n(a.wrap[1],cae)),void 0!==a.format&&(l.format=a.format),void 0!==a.internalFormat&&(l.internalFormat=a.internalFormat),void 0!==a.type&&(l.type=a.type),void 0!==a.colorSpace&&(l.colorSpace=a.colorSpace),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,uae)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,uae)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(l.compareFunction=a.compareFunction),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,s,o;function l(e){return t[e],t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n[i],t.push(n[i])}return t}return n[e],n[e]}}function u(e){return r[e],r[e]}switch(e.type){case"Scene":a=new Dee,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new R9(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Nee(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Iee(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Eee(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Jie(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new eae(e.color,e.intensity);break;case"DirectionalLight":a=new Qie(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new Kie(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new tae(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new Gie(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new jie(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new rae).fromJSON(e);break;case"SkinnedMesh":s=l(e.geometry),o=c(e.material),a=new fte(s,o),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":s=l(e.geometry),o=c(e.material),a=new fee(s,o);break;case"InstancedMesh":s=l(e.geometry),o=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;a=new Ate(s,o,t),a.instanceMatrix=new bte(new Float32Array(n.array),16),void 0!==r&&(a.instanceColor=new bte(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":s=l(e.geometry),o=c(e.material),a=new nne(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,o),a.geometry=s,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map((e=>{let t=null,n=null;return void 0!==e.boundingBox&&(t=new f7,t.min.fromArray(e.boundingBox.min),t.max.fromArray(e.boundingBox.max)),void 0!==e.boundingSphere&&(n=new k7,n.radius=e.boundingSphere.radius,n.center.fromArray(e.boundingSphere.center)),{...e,boundingBox:t,boundingSphere:n}})),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=u(e.colorsTexture.uuid)),void 0!==e.boundingSphere&&(a.boundingSphere=new k7,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),void 0!==e.boundingBox&&(a.boundingBox=new f7,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new rte;break;case"Line":a=new hne(l(e.geometry),c(e.material));break;case"LineLoop":a=new gne(l(e.geometry),c(e.material));break;case"LineSegments":a=new mne(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new _ne(l(e.geometry),c(e.material));break;case"Sprite":a=new Qee(c(e.material));break;case"Group":a=new Oee;break;case"Bone":a=new pte;break;default:a=new f9}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(a.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const s=e.children;for(let e=0;e<s.length;e++)a.add(this.parseObject(s[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n||e.bind(n,e.bindMatrix)}}))}bindLightTargets(e){e.traverse((function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new f9}}))}},ObjectSpaceNormalMap:1,OctahedronGeometry:zre,OneFactor:201,OneMinusConstantAlphaFactor:214,OneMinusConstantColorFactor:212,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:m5,OneMinusSrcColorFactor:203,OrthographicCamera:Jie,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:jse,Path:are,PerspectiveCamera:Eee,Plane:kte,PlaneGeometry:Vre,PlaneHelper:class extends hne{constructor(e,t=1,n=16776960){const r=n,i=new tee;i.setAttribute("position",new X9([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new rne({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=new tee;a.setAttribute("position",new X9([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),a.computeBoundingSphere(),this.add(new fee(a,new L9({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:Kie,PointLightHelper:class extends fee{constructor(e,t,n){super(new Gre(t,4,2),new L9({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:_ne,PointsMaterial:vne,PolarGridHelper:class extends mne{constructor(e=10,t=16,n=8,r=64,i=4473924,a=8947848){i=new R9(i),a=new R9(a);const s=[],o=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;s.push(0,0,0),s.push(r,0,l);const u=1&c?i:a;o.push(u.r,u.g,u.b),o.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:a,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l;s.push(i,0,a),o.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l,s.push(i,0,a),o.push(t.r,t.g,t.b)}}const l=new tee;l.setAttribute("position",new X9(s,3)),l.setAttribute("color",new X9(o,3));super(l,new rne({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronGeometry:kne,PositionalAudio:class extends Sae{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Tae,Eae,Mae),Aae.set(0,0,1).applyQuaternion(Eae);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Tae.x,e),t.positionY.linearRampToValueAtTime(Tae.y,e),t.positionZ.linearRampToValueAtTime(Tae.z,e),t.orientationX.linearRampToValueAtTime(Aae.x,e),t.orientationY.linearRampToValueAtTime(Aae.y,e),t.orientationZ.linearRampToValueAtTime(Aae.z,e)}else t.setPosition(Tae.x,Tae.y,Tae.z),t.setOrientation(Aae.x,Aae.y,Aae.z)}},PropertyBinding:Dae,PropertyMixer:Cae,QuadraticBezierCurve:ere,QuadraticBezierCurve3:tre,Quaternion:c7,QuaternionKeyframeTrack:Eie,QuaternionLinearInterpolant:Tie,RED_GREEN_RGTC2_Format:q6,RED_RGTC1_Format:$6,REVISION:r5,RGBADepthPacking:3201,RGBAFormat:u6,RGBAIntegerFormat:v6,RGBA_ASTC_10x10_Format:B6,RGBA_ASTC_10x5_Format:F6,RGBA_ASTC_10x6_Format:U6,RGBA_ASTC_10x8_Format:j6,RGBA_ASTC_12x10_Format:z6,RGBA_ASTC_12x12_Format:V6,RGBA_ASTC_4x4_Format:P6,RGBA_ASTC_5x4_Format:O6,RGBA_ASTC_5x5_Format:k6,RGBA_ASTC_6x5_Format:R6,RGBA_ASTC_6x6_Format:I6,RGBA_ASTC_8x5_Format:N6,RGBA_ASTC_8x6_Format:D6,RGBA_ASTC_8x8_Format:L6,RGBA_BPTC_Format:H6,RGBA_ETC2_EAC_Format:C6,RGBA_PVRTC_2BPPV1_Format:E6,RGBA_PVRTC_4BPPV1_Format:T6,RGBA_S3TC_DXT1_Format:b6,RGBA_S3TC_DXT3_Format:x6,RGBA_S3TC_DXT5_Format:w6,RGBDepthPacking:3202,RGBFormat:c6,RGBIntegerFormat:1032,RGB_BPTC_SIGNED_Format:W6,RGB_BPTC_UNSIGNED_Format:G6,RGB_ETC1_Format:M6,RGB_ETC2_Format:A6,RGB_PVRTC_2BPPV1_Format:S6,RGB_PVRTC_4BPPV1_Format:_6,RGB_S3TC_DXT1_Format:y6,RGDepthPacking:3203,RGFormat:m6,RGIntegerFormat:g6,RawShaderMaterial:eie,Ray:j7,Raycaster:zae,RectAreaLight:tae,RedFormat:f6,RedIntegerFormat:p6,ReinhardToneMapping:2,RenderTarget:a7,RenderTarget3D:class extends a7{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new l7(null,e,t,n),this.texture.isRenderTargetTexture=!0}},RenderTargetArray:class extends a7{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=n,this.texture=new o7(null,e,t,n),this.texture.isRenderTargetTexture=!0}},RepeatWrapping:z5,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingGeometry:Hre,SIGNED_RED_GREEN_RGTC2_Format:Y6,SIGNED_RED_RGTC1_Format:X6,SRGBColorSpace:a8,SRGBTransfer:l8,Scene:Dee,ShaderChunk:mse,ShaderLib:vse,ShaderMaterial:xee,ShadowMaterial:Qre,Shape:sre,ShapeGeometry:Wre,ShapePath:class{constructor(){this.type="ShapePath",this.color=new R9,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new are,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],s=t[a],o=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],o=-o,s=t[i],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-o*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return r}const n=Nre.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,a,s;const o=[];if(1===r.length)return a=r[0],s=new sre,s.curves=a.curves,o.push(s),o;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let h,d,f=[],p=0;u[p]=void 0,f[p]=[];for(let m=0,g=r.length;m<g;m++)a=r[m],h=a.getPoints(),i=n(h),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new sre,p:h},u[p].s.curves=a.curves,l&&p++,f[p]=[]):f[p].push({h:a,p:h[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new sre;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=f[r];for(let a=0;a<i.length;a++){const s=i[a];let o=!0;for(let i=0;i<u.length;i++)t(s.p,u[i].p)&&(r!==i&&n++,o?(o=!1,c[i].push(s)):e=!0);o&&c[r].push(s)}}n>0&&!1===e&&(f=c)}for(let m=0,g=u.length;m<g;m++){s=u[m].s,o.push(s),d=f[m];for(let e=0,t=d.length;e<t;e++)s.holes.push(d[e].h)}return o}},ShapeUtils:Nre,ShortType:Z5,Skeleton:yte,SkeletonHelper:class extends mne{constructor(e){const t=Zae(e),n=new tee,r=[],i=[],a=new R9(0,0,1),s=new R9(0,1,0);for(let o=0;o<t.length;o++){const e=t[o];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(s.r,s.g,s.b))}n.setAttribute("position",new X9(r,3)),n.setAttribute("color",new X9(i,3));super(n,new rne({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Jae.copy(this.root.matrixWorld).invert();for(let i=0,a=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(Kae.multiplyMatrices(Jae,e.matrixWorld),Yae.setFromMatrixPosition(Kae),r.setXYZ(a,Yae.x,Yae.y,Yae.z),Kae.multiplyMatrices(Jae,e.parent.matrixWorld),Yae.setFromMatrixPosition(Kae),r.setXYZ(a+1,Yae.x,Yae.y,Yae.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:fte,Source:e7,Sphere:k7,SphereGeometry:Gre,Spherical:class{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=P8(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(P8(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},SphericalHarmonics3:nae,SplineCurve:nre,SpotLight:Gie,SpotLightHelper:class extends f9{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new tee,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,o=32;a<o;a++,s++){const e=a/o*Math.PI*2,t=s/o*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new X9(r,3));const i=new rne({fog:!1,toneMapped:!1});this.cone=new mne(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),qae.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qae),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:Qee,SpriteMaterial:jee,SrcAlphaFactor:p5,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:y8,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Eee,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Eee,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,mae.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(M8*t.fov*.5)/t.zoom;let a,s;pae.elements[12]=-n,fae.elements[12]=n,a=-i*t.aspect+r,s=i*t.aspect+r,mae.elements[0]=2*t.near/(s-a),mae.elements[8]=(s+a)/(s-a),this.cameraL.projectionMatrix.copy(mae),a=-i*t.aspect-r,s=i*t.aspect-r,mae.elements[0]=2*t.near/(s-a),mae.elements[8]=(s+a)/(s-a),this.cameraR.projectionMatrix.copy(mae)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(pae),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(fae)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:Mie,SubtractEquation:101,SubtractiveBlending:3,TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TangentSpaceNormalMap:0,TetrahedronGeometry:$re,Texture:r7,TextureLoader:class extends Iie{constructor(e){super(e)}load(e,t,n,r){const i=new r7,a=new Fie(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}},TextureUtils:class{static contain(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e}(e,t)}static cover(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e}(e,t)}static fill(e){return function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e}(e)}static getByteLength(e,t,n,r){return dse(e,t,n,r)}},TimestampQuery:{COMPUTE:"compute",RENDER:"render"},TorusGeometry:Xre,TorusKnotGeometry:qre,Triangle:A9,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeGeometry:Yre,UVMapping:D5,Uint16BufferAttribute:G9,Uint32BufferAttribute:$9,Uint8BufferAttribute:class extends W9{constructor(e,t,n){super(new Uint8Array(e),t,n)}},Uint8ClampedBufferAttribute:class extends W9{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Uniform:Uae,UniformsGroup:class extends S8{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jae++}),this.name="",this.usage=y8,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}},UniformsLib:gse,UniformsUtils:bee,UnsignedByteType:K5,UnsignedInt248Type:s6,UnsignedInt5999Type:o6,UnsignedIntType:t6,UnsignedShort4444Type:i6,UnsignedShort5551Type:a6,UnsignedShortType:Q5,VSMShadowMap:3,Vector2:D8,Vector3:u7,Vector4:i7,VectorKeyframeTrack:Aie,VideoFrameTexture:class extends Tne{constructor(e,t,n,r,i,a,s,o){super({},e,t,n,r,i,a,s,o),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}},VideoTexture:Tne,WebGL3DRenderTarget:class extends s7{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new l7(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends s7{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new o7(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLCoordinateSystem:w8,WebGLCubeRenderTarget:Pee,WebGLRenderTarget:s7,WebGLRenderer:Yle,WebGLUtils:Vle,WebGPUCoordinateSystem:_8,WebXRController:Ree,WireframeGeometry:Kre,WrapAroundEnding:t8,ZeroCurvatureEnding:Q6,ZeroFactor:200,ZeroSlopeEnding:e8,ZeroStencilOp:0,createCanvasElement:V8},Symbol.toStringTag,{value:"Module"}));var Jle={exports:{}},Zle={
/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
ConcurrentRoot:1,ContinuousEventPriority:4,DefaultEventPriority:16,DiscreteEventPriority:1,IdleEventPriority:536870912,LegacyRoot:0};Jle.exports=Zle;var Qle=Jle.exports;function ece(e){let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?((e,r=i,a=Object.is)=>{let s=r(t);function o(){const n=r(t);if(!a(s,n)){const t=s;e(s=n,t)}}return n.add(o),()=>n.delete(o)})(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}const tce="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?Ie.useEffect:Ie.useLayoutEffect;var nce,rce,ice={exports:{}},ace={exports:{}},sce={};function oce(){return rce||(rce=1,ace.exports=(nce||(nce=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(w);else{var t=n(c);null!==t&&I(x,t.startTime-e)}}function w(t,i){p=!1,m&&(m=!1,v(E),E=-1),f=!0;var a=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!C());){var s=h.callback;if("function"==typeof s){h.callback=null,d=h.priorityLevel;var o=s(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof o?h.callback=o:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var g=n(c);null!==g&&I(x,g.startTime-i),u=!1}return u}finally{h=null,d=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,T=null,E=-1,M=5,A=-1;function C(){return!(e.unstable_now()-A<M)}function P(){if(null!==T){var t=e.unstable_now();A=t;var n=!0;try{n=T(!0,t)}finally{n?_():(S=!1,T=null)}}else S=!1}if("function"==typeof y)_=function(){y(P)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,k=O.port2;O.port1.onmessage=P,_=function(){k.postMessage(null)}}else _=function(){g(P,0)};function R(e){T=e,S||(S=!0,_())}function I(t,n){E=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,R(w))},e.unstable_forceFrameRate=function(e){0>e||125<e||(M=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(v(E),E=-1):m=!0,I(x,a-s))):(r.sortIndex=o,t(l,r),p||f||(p=!0,R(w))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(sce)),sce)),ace.exports}
/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ice.exports=function(e){var t={},n=Ie,r=oce(),i=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case h:return"Profiler";case u:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(t);case 8:return t===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function E(e){if(T(e)!==e)throw Error(a(188))}function M(e){var t=e.alternate;if(!t){if(null===(t=T(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return E(i),e;if(s===r)return E(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function A(e){return null!==(e=M(e))?C(e):null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=C(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var O,k=Array.isArray,R=e.getPublicInstance,I=e.getRootHostContext,N=e.getChildHostContext,D=e.prepareForCommit,L=e.resetAfterCommit,F=e.createInstance,U=e.appendInitialChild,j=e.finalizeInitialChildren,B=e.prepareUpdate,z=e.shouldSetTextContent,V=e.createTextInstance,H=e.scheduleTimeout,W=e.cancelTimeout,G=e.noTimeout,$=e.isPrimaryRenderer,X=e.supportsMutation,q=e.supportsPersistence,Y=e.supportsHydration,K=e.getInstanceFromNode,J=e.preparePortalMount,Z=e.getCurrentEventPriority,Q=e.detachDeletedInstance,ee=e.supportsMicrotasks,te=e.scheduleMicrotask,ne=e.supportsTestSelectors,re=e.findFiberRoot,ie=e.getBoundingRect,ae=e.getTextContent,se=e.isHiddenSubtree,oe=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,ue=e.appendChild,he=e.appendChildToContainer,de=e.commitTextUpdate,fe=e.commitMount,pe=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ve=e.removeChild,ye=e.removeChildFromContainer,be=e.resetTextContent,xe=e.hideInstance,we=e.hideTextInstance,_e=e.unhideInstance,Se=e.unhideTextInstance,Te=e.clearContainer,Ee=e.cloneInstance,Me=e.createContainerChildSet,Ae=e.appendChildToContainerChildSet,Ce=e.finalizeContainerChildren,Pe=e.replaceContainerChildren,Oe=e.cloneHiddenInstance,ke=e.cloneHiddenTextInstance,Re=e.canHydrateInstance,Ne=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,Le=e.isSuspenseInstancePending,Fe=e.isSuspenseInstanceFallback,Ue=e.registerSuspenseInstanceRetry,je=e.getNextHydratableSibling,Be=e.getFirstHydratableChild,ze=e.getFirstHydratableChildWithinContainer,Ve=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,$e=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,qe=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Ke=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,Qe=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function st(e){return{current:e}}function ot(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ct={},ut=st(ct),ht=st(!1),dt=ct;function ft(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!=e.childContextTypes}function mt(){ot(ht),ot(ut)}function gt(e,t,n){if(ut.current!==ct)throw Error(a(168));lt(ut,t),lt(ht,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,S(e)||"Unknown",s));return i({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,dt=ut.current,lt(ut,e),lt(ht,ht.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,ot(ht),ot(ut),lt(ut,e)):ot(ht),lt(ht,n)}var xt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(wt(e)/_t|0)|0},wt=Math.log,_t=Math.LN2,St=64,Tt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=Et(o):0!==(a&=s)&&(r=Et(a))}else 0!==(s=n&~i)?r=Et(s):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function At(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ct(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ot(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function kt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function It(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Nt=r.unstable_scheduleCallback,Dt=r.unstable_cancelCallback,Lt=r.unstable_shouldYield,Ft=r.unstable_requestPaint,Ut=r.unstable_now,jt=r.unstable_ImmediatePriority,Bt=r.unstable_UserBlockingPriority,zt=r.unstable_NormalPriority,Vt=r.unstable_IdlePriority,Ht=null,Wt=null,Gt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},$t=null,Xt=!1,qt=!1;function Yt(e){null===$t?$t=[e]:$t.push(e)}function Kt(){if(!qt&&null!==$t){qt=!0;var e=0,t=Rt;try{var n=$t;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$t=null,Xt=!1}catch(i){throw null!==$t&&($t=$t.slice(e+1)),Nt(jt,Kt),i}finally{Rt=t,qt=!1}}return null}var Jt=s.ReactCurrentBatchConfig;function Zt(e,t){if(Gt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function Qt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return nt(e.type,!1);case 11:return nt(e.type.render,!1);case 1:return nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=st(null),nn=null,rn=null,an=null;function sn(){an=rn=nn=null}function on(e,t,n){$?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;ot(tn),$?e._currentValue=t:e._currentValue2=t}function cn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Di=!0),e.firstContext=null)}function hn(e){var t=$?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(a(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var dn=null,fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&1&e.mode&&!(2&$a)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,kt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var a=e.updateQueue;fn=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,u=c.next;c.next=null,null===o?s=u:o.next=u,o=c;var h=e.alternate;null!==h&&(l=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===l?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c)}if(null!==s){var d=a.baseState;for(o=0,h=u=c=null,l=s;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(p,d,f):m))break e;d=i({},d,f);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,o|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===h&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);es|=o,e.lanes=o,e.memoizedState=d}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var _n=(new n.Component).refs;function Sn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Tn={isMounted:function(e){return!!(e=e._reactInternals)&&T(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bs(),i=xs(e),a=gn(r,i);a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=ws(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bs(),i=xs(e),a=gn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=ws(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bs(),r=xs(e),i=gn(n,r);i.tag=2,null!=t&&(i.callback=t),vn(e,i),null!==(t=ws(e,r,n))&&yn(t,e,r)}};function En(e,t,n,r,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!(t.prototype&&t.prototype.isPureReactComponent&&Zt(n,r)&&Zt(i,a))}function Mn(e,t,n){var r=!1,i=ct,a=t.contextType;return"object"==typeof a&&null!==a?a=hn(a):(i=pt(t)?dt:ut.current,a=(r=null!=(r=t.contextTypes))?ft(e,i):ct),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Tn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function An(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tn.enqueueReplaceState(t,t.state,null)}function Cn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,pn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=hn(a):(a=pt(t)?dt:ut.current,i.context=ft(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Tn.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var Pn=[],On=0,kn=null,Rn=0,In=[],Nn=0,Dn=null,Ln=1,Fn="";function Un(e,t){Pn[On++]=Rn,Pn[On++]=kn,kn=e,Rn=t}function jn(e,t,n){In[Nn++]=Ln,In[Nn++]=Fn,In[Nn++]=Dn,Dn=e;var r=Ln;e=Fn;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ln=1<<32-xt(t)+i|n<<i|r,Fn=a+e}else Ln=1<<a|n<<i|r,Fn=e}function Bn(e){null!==e.return&&(Un(e,1),jn(e,1,0))}function zn(e){for(;e===kn;)kn=Pn[--On],Pn[On]=null,Rn=Pn[--On],Pn[On]=null;for(;e===Dn;)Dn=In[--Nn],In[Nn]=null,Fn=In[--Nn],In[Nn]=null,Ln=In[--Nn],In[Nn]=null}var Vn=null,Hn=null,Wn=!1,Gn=!1,$n=null;function Xn(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function qn(e,t){switch(e.tag){case 5:return null!==(t=Re(t,e.type,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=Be(t),!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==Dn?{id:Ln,overflow:Fn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ks(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Vn=e,Hn=null,!0}return!1;default:return!1}}function Yn(e){return!(!(1&e.mode)||128&e.flags)}function Kn(e){if(Wn){var t=Hn;if(t){var n=t;if(!qn(e,t)){if(Yn(e))throw Error(a(418));t=je(n);var r=Vn;t&&qn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Vn=e)}}else{if(Yn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Wn=!1,Vn=e}}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vn=e}function Zn(e){if(!Y||e!==Vn)return!1;if(!Wn)return Jn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Je(e.type)&&!z(e.type,e.memoizedProps))){var t=Hn;if(t){if(Yn(e)){for(e=Hn;e;)e=je(e);throw Error(a(418))}for(;t;)Xn(e,t),t=je(t)}}if(Jn(e),13===e.tag){if(!Y)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Hn=$e(e)}else Hn=Vn?je(e.stateNode):null;return!0}function Qn(){Y&&(Hn=Vn=null,Gn=Wn=!1)}function er(e){null===$n?$n=[e]:$n.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Zs(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function h(e,t,n,r){return null===t||6!==t.tag?((t=no(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===y&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=Qs(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ro(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=eo(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=no(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case o:return(n=Qs(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=ro(t,e.mode,n)).return=e,t;case y:return m(e,(0,t._init)(t._payload),n)}if(k(t)||w(t))return(t=eo(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:h(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case o:return n.key===i?d(e,t,n,r):null;case l:return n.key===i?f(e,t,n,r):null;case y:return g(e,t,(i=n._init)(n._payload),r)}if(k(n)||w(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return h(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case o:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return v(e,t,n,(0,r._init)(r._payload),i)}if(k(r)||w(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}return function h(d,f,p,b){if("object"==typeof p&&null!==p&&p.type===c&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case o:e:{for(var x=p.key,_=f;null!==_;){if(_.key===x){if((x=p.type)===c){if(7===_.tag){n(d,_.sibling),(f=i(_,p.props.children)).return=d,d=f;break e}}else if(_.elementType===x||"object"==typeof x&&null!==x&&x.$$typeof===y&&rr(x)===_.type){n(d,_.sibling),(f=i(_,p.props)).ref=tr(d,_,p),f.return=d,d=f;break e}n(d,_);break}t(d,_),_=_.sibling}p.type===c?((f=eo(p.props.children,d.mode,b,p.key)).return=d,d=f):((b=Qs(p.type,p.key,p.props,null,d.mode,b)).ref=tr(d,f,p),b.return=d,d=b)}return u(d);case l:e:{for(_=p.key;null!==f;){if(f.key===_){if(4===f.tag&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(d,f.sibling),(f=i(f,p.children||[])).return=d,d=f;break e}n(d,f);break}t(d,f),f=f.sibling}(f=ro(p,d.mode,b)).return=d,d=f}return u(d);case y:return h(d,f,(_=p._init)(p._payload),b)}if(k(p))return function(i,a,o,l){for(var c=null,u=null,h=a,d=a=0,f=null;null!==h&&d<o.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=g(i,h,o[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),a=s(p,a,d),null===u?c=p:u.sibling=p,u=p,h=f}if(d===o.length)return n(i,h),Wn&&Un(i,d),c;if(null===h){for(;d<o.length;d++)null!==(h=m(i,o[d],l))&&(a=s(h,a,d),null===u?c=h:u.sibling=h,u=h);return Wn&&Un(i,d),c}for(h=r(i,h);d<o.length;d++)null!==(f=v(h,i,d,o[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=s(f,a,d),null===u?c=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(i,e)})),Wn&&Un(i,d),c}(d,f,p,b);if(w(p))return function(i,o,l,c){var u=w(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,d=o,f=o=0,p=null,y=l.next();null!==d&&!y.done;f++,y=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=g(i,d,y.value,c);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),o=s(b,o,f),null===h?u=b:h.sibling=b,h=b,d=p}if(y.done)return n(i,d),Wn&&Un(i,f),u;if(null===d){for(;!y.done;f++,y=l.next())null!==(y=m(i,y.value,c))&&(o=s(y,o,f),null===h?u=y:h.sibling=y,h=y);return Wn&&Un(i,f),u}for(d=r(i,d);!y.done;f++,y=l.next())null!==(y=v(d,i,f,y.value,c))&&(e&&null!==y.alternate&&d.delete(null===y.key?f:y.key),o=s(y,o,f),null===h?u=y:h.sibling=y,h=y);return e&&d.forEach((function(e){return t(i,e)})),Wn&&Un(i,f),u}(d,f,p,b);nr(d,p)}return"string"==typeof p&&""!==p||"number"==typeof p?(p=""+p,null!==f&&6===f.tag?(n(d,f.sibling),(f=i(f,p)).return=d,d=f):(n(d,f),(f=no(p,d.mode,b)).return=d,d=f),u(d)):n(d,f)}}var ar=ir(!0),sr=ir(!1),or={},lr=st(or),cr=st(or),ur=st(or);function hr(e){if(e===or)throw Error(a(174));return e}function dr(e,t){lt(ur,t),lt(cr,e),lt(lr,or),e=I(t),ot(lr),lt(lr,e)}function fr(){ot(lr),ot(cr),ot(ur)}function pr(e){var t=hr(ur.current),n=hr(lr.current);n!==(t=N(n,e.type,t))&&(lt(cr,e),lt(lr,t))}function mr(e){cr.current===e&&(ot(lr),ot(cr))}var gr=st(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Le(n)||Fe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];$?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var xr=s.ReactCurrentDispatcher,wr=s.ReactCurrentBatchConfig,_r=0,Sr=null,Tr=null,Er=null,Mr=!1,Ar=!1,Cr=0,Pr=0;function Or(){throw Error(a(321))}function kr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,s){if(_r=s,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Ar){s=0;do{if(Ar=!1,Cr=0,25<=s)throw Error(a(301));s+=1,Er=Tr=null,t.updateQueue=null,xr.current=gi,e=n(r,i)}while(Ar)}if(xr.current=fi,t=null!==Tr&&null!==Tr.next,_r=0,Er=Tr=Sr=null,Mr=!1,t)throw Error(a(300));return e}function Ir(){var e=0!==Cr;return Cr=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?Sr.memoizedState=Er=e:Er=Er.next=e,Er}function Dr(){if(null===Tr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Tr.next;var t=null===Er?Sr.memoizedState:Er.next;if(null!==t)Er=t,Tr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Tr=e).memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},null===Er?Sr.memoizedState=Er=e:Er=Er.next=e}return Er}function Lr(e,t){return"function"==typeof t?t(e):t}function Fr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Tr,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((_r&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,Sr.lanes|=h,es|=h}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,Gt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,Sr.lanes|=s,es|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ur(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Gt(s,t.memoizedState)||(Di=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function jr(){}function Br(e,t){var n=Sr,r=Dr(),i=t(),s=!Gt(r.memoizedState,i);if(s&&(r.memoizedState=i,Di=!0),r=r.queue,Jr(Hr.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,$r(9,Vr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(a(349));30&_r||zr(n,t,i)}return i}function zr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Vr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&ws(e,1,-1)}function Hr(e,t,n){return n((function(){Wr(t)&&ws(e,1,-1)}))}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(r){return!0}}function Gr(e){var t=Nr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Sr,e),[t.memoizedState,e]}function $r(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Dr().memoizedState}function qr(e,t,n,r){var i=Nr();Sr.flags|=e,i.memoizedState=$r(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Dr();r=void 0===r?null:r;var a=void 0;if(null!==Tr){var s=Tr.memoizedState;if(a=s.destroy,null!==r&&kr(r,s.deps))return void(i.memoizedState=$r(t,n,a,r))}Sr.flags|=e,i.memoizedState=$r(1|t,n,a,r)}function Kr(e,t){return qr(8390656,8,e,t)}function Jr(e,t){return Yr(2048,8,e,t)}function Zr(e,t){return Yr(4,2,e,t)}function Qr(e,t){return Yr(4,4,e,t)}function ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&kr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&kr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{Rt=n,wr.transition=r}}function si(){return Dr().memoizedState}function oi(e,t,n){var r=xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ci(e)?ui(t,n):(hi(e,t,n),null!==(e=ws(e,r,n=bs()))&&di(e,t,r))}function li(e,t,n){var r=xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ci(e))ui(t,i);else{hi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Gt(o,s))return}catch(l){}null!==(e=ws(e,r,n=bs()))&&di(e,t,r)}}function ci(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ui(e,t){Ar=Mr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hi(e,t,n){null!==Xa&&1&e.mode&&!(2&$a)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function di(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,kt(e,n)}}var fi={readContext:hn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},pi={readContext:hn,useCallback:function(e,t){return Nr().memoizedState=[e,void 0===t?null:t],e},useContext:hn,useEffect:Kr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,qr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return qr(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oi.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Nr().memoizedState=e},useState:Gr,useDebugValue:ni,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return Kr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=ai.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Nr();if(Wn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Xa)throw Error(a(349));30&_r||zr(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Kr(Hr.bind(null,r,s,e),[e]),r.flags|=2048,$r(9,Vr.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Nr(),t=Xa.identifierPrefix;if(Wn){var n=Fn;t=":"+t+"R"+(n=(Ln&~(1<<32-xt(Ln)-1)).toString(32)+n),0<(n=Cr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Pr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Jr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:Qr,useMemo:ii,useReducer:Fr,useRef:Xr,useState:function(){return Fr(Lr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Lr),n=t[0],r=t[1];return Jr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Fr(Lr)[0],Dr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Br,useId:si,unstable_isNewReconciler:!1},gi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Jr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:Qr,useMemo:ii,useReducer:Ur,useRef:Xr,useState:function(){return Ur(Lr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Lr),n=t[0],r=t[1];return Jr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Ur(Lr)[0],Dr().memoizedState]},useMutableSource:jr,useSyncExternalStore:Br,useId:si,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=Qt(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}var yi,bi,xi,wi,_i="function"==typeof WeakMap?WeakMap:Map;function Si(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cs||(cs=!0,us=r)},n}function Ti(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===hs?hs=new Set([this]):hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ei(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _i;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ws.bind(null,e,t,n),t.then(e,e))}function Mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ai(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e)}function Ci(e){e.flags|=4}function Pi(e,t){if(null!==e&&e.child===t.child)return!0;if(16&t.flags)return!1;for(e=t.child;null!==e;){if(12854&e.flags||12854&e.subtreeFlags)return!1;e=e.sibling}return!0}if(X)yi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,s=hr(lr.current);n=B(a,n,e,r,i,s),(t.updateQueue=n)&&Ci(t)}},wi=function(e,t,n,r){n!==r&&Ci(t)};else if(q){yi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Oe(a,i.type,i.memoizedProps,i)),U(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=ke(a,i.memoizedProps,i)),U(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),yi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Oi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Oe(a,i.type,i.memoizedProps,i)),Ae(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=ke(a,i.memoizedProps,i)),Ae(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Oi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bi=function(e,t){var n=t.stateNode;if(!Pi(e,t)){e=n.containerInfo;var r=Me(e);Oi(r,t,!1,!1),n.pendingChildren=r,Ci(t),Ce(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,s=e.memoizedProps;if((e=Pi(e,t))&&s===r)t.stateNode=a;else{var o=t.stateNode,l=hr(lr.current),c=null;s!==r&&(c=B(o,n,s,r,i,l)),e&&null===c?t.stateNode=a:(a=Ee(a,c,n,s,r,t,e,o),j(a,n,r,i,l)&&Ci(t),t.stateNode=a,e?Ci(t):yi(a,t,!1,!1))}},wi=function(e,t,n,r){n!==r?(e=hr(ur.current),n=hr(lr.current),t.stateNode=V(r,e,n,t),Ci(t)):t.stateNode=e.stateNode}}else bi=function(){},xi=function(){},wi=function(){};function ki(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ri(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ii(e,t,n){var r=t.pendingProps;switch(zn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(t),null;case 1:case 17:return pt(t.type)&&mt(),Ri(t),null;case 3:return r=t.stateNode,fr(),ot(ht),ot(ut),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zn(t)?Ci(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==$n&&(Ms($n),$n=null))),bi(e,t),Ri(t),null;case 5:mr(t),n=hr(ur.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ri(t),null}if(e=hr(lr.current),Zn(t)){if(!Y)throw Error(a(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&Ci(t)}else{var s=F(i,r,n,e,t);yi(s,t,!1,!1),t.stateNode=s,j(s,i,r,n,e)&&Ci(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ri(t),null;case 6:if(e&&null!=t.stateNode)wi(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=hr(ur.current),n=hr(lr.current),Zn(t)){if(!Y)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=We(e,r,t,!Gn))&&null!==(i=Vn))switch(s=!!(1&i.mode),i.tag){case 3:Ze(i.stateNode.containerInfo,e,r,s);break;case 5:Qe(i.type,i.memoizedProps,i.stateNode,e,r,s)}n&&Ci(t)}else t.stateNode=V(r,e,n,t)}return Ri(t),null;case 13:if(ot(gr),r=t.memoizedState,Wn&&null!==Hn&&1&t.mode&&!(128&t.flags)){for(e=Hn;e;)e=je(e);return Qn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Zn(t),null===e){if(!r)throw Error(a(318));if(!Y)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));Ge(e,t)}else Qn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ri(t),null}return null!==$n&&(Ms($n),$n=null),128&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Zn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&gr.current?0===Za&&(Za=3):Ns())),null!==t.updateQueue&&(t.flags|=4),Ri(t),null);case 4:return fr(),bi(e,t),null===e&&J(t.stateNode.containerInfo),Ri(t),null;case 10:return ln(t.type._context),Ri(t),null;case 19:if(ot(gr),null===(i=t.memoizedState))return Ri(t),null;if(r=!!(128&t.flags),null===(s=i.rendering))if(r)ki(i,!1);else{if(0!==Za||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=vr(e))){for(t.flags|=128,ki(i,!1),null!==(e=s.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(s=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Ut()>ss&&(t.flags|=128,r=!0,ki(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(s))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),ki(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Wn)return Ri(t),null}else 2*Ut()-i.renderingStartTime>ss&&1073741824!==n&&(t.flags|=128,r=!0,ki(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Ri(t),null);case 22:case 23:return Os(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ka)&&(Ri(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Ri(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Ni=s.ReactCurrentOwner,Di=!1;function Li(e,t,n,r){t.child=null===e?sr(t,null,n,r):ar(t,e.child,n,r)}function Fi(e,t,n,r,i){n=n.render;var a=t.ref;return un(t,i),r=Rr(e,t,n,r,a,i),n=Ir(),null===e||Di?(Wn&&n&&Bn(t),t.flags|=1,Li(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i))}function Ui(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Js(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ji(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zt)(s,r)&&e.ref===t.ref)return ra(e,t,i)}return t.flags|=1,(e=Zs(a,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,i){if(null!==e&&Zt(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0===(e.lanes&i))return t.lanes=e.lanes,ra(e,t,i);131072&e.flags&&(Di=!0)}return Vi(e,t,n,r,i)}function Bi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Ja,Ka),Ka|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt(Ja,Ka),Ka|=r}else t.memoizedState={baseLanes:0,cachePool:null},lt(Ja,Ka),Ka|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Ja,Ka),Ka|=r;return Li(e,t,i,n),t.child}function zi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var a=pt(n)?dt:ut.current;return a=ft(t,a),un(t,i),n=Rr(e,t,n,r,a,i),r=Ir(),null===e||Di?(Wn&&r&&Bn(t),t.flags|=1,Li(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i))}function Hi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(un(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Mn(t,n,r),Cn(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?hn(c):ft(t,c=pt(n)?dt:ut.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||l!==c)&&An(t,s,r,c),fn=!1;var d=t.memoizedState;s.state=d,xn(t,r,s,i),l=t.memoizedState,o!==r||d!==l||ht.current||fn?("function"==typeof u&&(Sn(t,n,u,r),l=t.memoizedState),(o=fn||En(t,n,o,r,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,mn(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:en(t.type,o),s.props=c,h=t.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?hn(l):ft(t,l=pt(n)?dt:ut.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==h||d!==l)&&An(t,s,r,l),fn=!1,d=t.memoizedState,s.state=d,xn(t,r,s,i);var p=t.memoizedState;o!==h||d!==p||ht.current||fn?("function"==typeof f&&(Sn(t,n,f,r),p=t.memoizedState),(c=fn||En(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){zi(e,t);var s=!!(128&t.flags);if(!r&&!s)return i&&bt(t,n,!1),ra(e,t,a);r=t.stateNode,Ni.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,o,a)):Li(e,t,o,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Gi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),dr(e,t.containerInfo)}function $i(e,t,n,r,i){return Qn(),er(i),t.flags|=256,Li(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null}}function Yi(e,t,n){var r,i=t.pendingProps,s=gr.current,o=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),lt(gr,1&s),null===e)return Kn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?Fe(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},1&i||null===o?o=to(s,i,0,null):(o.childLanes=0,o.pendingProps=s),e=eo(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qi(n),t.memoizedState=Xi,e):Ki(t,s));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Qi(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=to({mode:"visible",children:i.children},s,0,null),(o=eo(o,s,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,1&t.mode&&ar(t,e.child,null,n),t.child.memoizedState=qi(n),t.memoizedState=Xi,o);if(1&t.mode)if(Fe(r))t=Qi(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),Di||i){if(null!==(i=Xa)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!==(o&(i.suspendedLanes|n))?0:o)&&i!==s.retryLane&&(s.retryLane=i,ws(e,i,-1))}Ns(),t=Qi(e,t,n,Error(a(421)))}else Le(r)?(t.flags|=128,t.child=e.child,t=$s.bind(null,e),Ue(r,t),t=null):(n=s.treeContext,Y&&(Hn=Ve(r),Vn=t,Wn=!0,$n=null,Gn=!1,null!==n&&(In[Nn++]=Ln,In[Nn++]=Fn,In[Nn++]=Dn,Ln=n.id,Fn=n.overflow,Dn=t)),(t=Ki(t,t.pendingProps.children)).flags|=4096);else t=Qi(e,t,n,null);return t}return o?(i=Zi(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?qi(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=Zi(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?qi(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function Ki(e,t){return(t=to({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=Zs(i,{mode:"visible",children:n}),!(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Zi(e,t,n,r,i){var a=t.mode,s=(e=e.child).sibling,o={mode:"hidden",children:n};return 1&a||t.child===e?(n=Zs(e,o)).subtreeFlags=14680064&e.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null),null!==s?r=Zs(s,r):(r=eo(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Qi(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Ki(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ea(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),cn(e.return,t,n)}function ta(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function na(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Li(e,t,r.children,n),2&(r=gr.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n,t);else if(19===e.tag)ea(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ta(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ta(t,!0,n,null,a);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ra(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Zs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Zs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ia(e,t){switch(zn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),ot(ht),ot(ut),br(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(ot(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Qn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ot(gr),null;case 4:return fr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Os(),null;default:return null}}var aa=!1,sa=!1,oa="function"==typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Hs(e,t,r)}else n.current=null}function ua(e,t,n){try{n()}catch(r){Hs(e,t,r)}}var ha=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ua(t,n,a)}i=i.next}while(i!==r)}}function fa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?R(n):n,"function"==typeof t?t(e):t.current=e}}function ma(e,t,n){if(Wt&&"function"==typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Ht,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&ua(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Hs(t,n,s)}break;case 5:ca(t,n);break;case 4:X?Sa(e,t,n):q&&q&&(t=t.stateNode.containerInfo,n=Me(t),Pe(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function va(e){var t=e.alternate;null!==t&&(e.alternate=null,va(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Q(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ya(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ya(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(X){e:{for(var t=e.return;null!==t;){if(ya(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),_a(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,wa(e,n=ba(e),t);break;default:throw Error(a(161))}}}function wa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):ue(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){for(var r,i,s=t,o=!1;;){if(!o){o=s.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===s.tag||6===s.tag)ga(e,s,n),i?ye(r,s.stateNode):ve(r,s.stateNode);else if(18===s.tag)i?Ke(r,s.stateNode):Ye(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(ma(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(o=!1)}s.sibling.return=s.return,s=s.sibling}}function Ta(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),fa(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,s=t.updateQueue;t.updateQueue=null,null!==s&&pe(n,s,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Ea(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),fa(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ea(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(q){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Pe(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function Ea(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new oa),t.forEach((function(t){var r=Xs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ma(e,t,n){la=e,Aa(e)}function Aa(e,t,n){for(var r=!!(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||aa;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||sa;o=aa;var c=sa;if(aa=s,(sa=l)&&!c)for(la=i;null!==la;)l=(s=la).child,22===s.tag&&null!==s.memoizedState?Oa(i):null!==l?(l.return=s,la=l):Oa(i);for(;null!==a;)la=a,Aa(a),a=a.sibling;la=i,aa=o,sa=c}Ca(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,la=a):Ca(e)}}function Ca(e){for(;null!==la;){var t=la;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:sa||fa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&wn(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=R(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,o,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&fe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qe(h)}}}break;default:throw Error(a(163))}sa||512&t.flags&&pa(t)}catch(d){Hs(t,t.return,d)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Pa(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Oa(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(l){Hs(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Hs(t,i,l)}}var a=t.return;try{pa(t)}catch(l){Hs(t,a,l)}break;case 5:var s=t.return;try{pa(t)}catch(l){Hs(t,s,l)}}}catch(l){Hs(t,t.return,l)}if(t===e){la=null;break}var o=t.sibling;if(null!==o){o.return=t.return,la=o;break}la=t.return}}var ka=0,Ra=1,Ia=2,Na=3,Da=4;if("function"==typeof Symbol&&Symbol.for){var La=Symbol.for;ka=La("selector.component"),Ra=La("selector.has_pseudo_class"),Ia=La("selector.role"),Na=La("selector.test_id"),Da=La("selector.text")}function Fa(e){var t=K(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=re(e)))throw Error(a(362));return e.stateNode.current}function Ua(e,t){switch(t.$$typeof){case ka:if(e.type===t.value)return!0;break;case Ra:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],s=t[i];if(5!==r.tag||!se(r)){for(;null!=s&&Ua(r,s);)s=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ia:if(5===e.tag&&oe(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&null!==(e=ae(e))&&0<=e.indexOf(t.value))return!0;break;case Na:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function ja(e){switch(e.$$typeof){case ka:return"<"+(_(e.value)||"Unknown")+">";case Ra:return":has("+(ja(e)||"")+")";case Ia:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case Na:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Ba(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],s=t[a];if(5!==i.tag||!se(i)){for(;null!=s&&Ua(i,s);)s=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function za(e,t){if(!ne)throw Error(a(363));e=Ba(e=Fa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Va=Math.ceil,Ha=s.ReactCurrentDispatcher,Wa=s.ReactCurrentOwner,Ga=s.ReactCurrentBatchConfig,$a=0,Xa=null,qa=null,Ya=0,Ka=0,Ja=st(0),Za=0,Qa=null,es=0,ts=0,ns=0,rs=null,is=null,as=0,ss=1/0;function os(){ss=Ut()+500}var ls,cs=!1,us=null,hs=null,ds=!1,fs=null,ps=0,ms=0,gs=null,vs=-1,ys=0;function bs(){return 6&$a?Ut():-1!==vs?vs:vs=Ut()}function xs(e){return 1&e.mode?2&$a&&0!==Ya?Ya&-Ya:null!==Jt.transition?(0===ys&&(e=St,!(4194240&(St<<=1))&&(St=64),ys=e),ys):0!==(e=Rt)?e:Z():1}function ws(e,t,n){if(50<ms)throw ms=0,gs=null,Error(a(185));var r=_s(e,t);return null===r?null:(Ot(r,t,n),2&$a&&r===Xa||(r===Xa&&(!(2&$a)&&(ts|=t),4===Za&&As(r,Ya)),Ss(r,n),1===t&&0===$a&&!(1&e.mode)&&(os(),Xt&&Kt())),r)}function _s(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ss(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-xt(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=At(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=Mt(e,e===Xa?Ya:0);if(0===r)null!==n&&Dt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Dt(n),1===t)0===e.tag?function(e){Xt=!0,Yt(e)}(Cs.bind(null,e)):Yt(Cs.bind(null,e)),ee?te((function(){0===$a&&Kt()})):Nt(jt,Kt),n=null;else{switch(It(r)){case 1:n=jt;break;case 4:n=Bt;break;case 16:default:n=zt;break;case 536870912:n=Vt}n=qs(n,Ts.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ts(e,t){if(vs=-1,ys=0,6&$a)throw Error(a(327));var n=e.callbackNode;if(zs()&&e.callbackNode!==n)return null;var r=Mt(e,e===Xa?Ya:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=Ds(e,r);else{t=r;var i=$a;$a|=2;var s=Is();for(Xa===e&&Ya===t||(os(),ks(e,t));;)try{Fs();break}catch(l){Rs(e,l)}sn(),Ha.current=s,$a=i,null!==qa?t=0:(Xa=null,Ya=0,t=Za)}if(0!==t){if(2===t&&0!==(i=Ct(e))&&(r=i,t=Es(e,i)),1===t)throw n=Qa,ks(e,0),As(e,r),Ss(e,Ut()),n;if(6===t)As(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=Ds(e,r),2===t&&(s=Ct(e),0!==s&&(r=s,t=Es(e,s))),1!==t)))throw n=Qa,ks(e,0),As(e,r),Ss(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Bs(e,is);break;case 3:if(As(e,r),(130023424&r)===r&&10<(t=as+500-Ut())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=H(Bs.bind(null,e,is),t);break}Bs(e,is);break;case 4:if(As(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-xt(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Va(r/1960))-r)){e.timeoutHandle=H(Bs.bind(null,e,is),r);break}Bs(e,is);break;default:throw Error(a(329))}}}return Ss(e,Ut()),e.callbackNode===n?Ts.bind(null,e):null}function Es(e,t){var n=rs;return e.current.memoizedState.isDehydrated&&(ks(e,t).flags|=256),2!==(e=Ds(e,t))&&(t=is,is=n,null!==t&&Ms(t)),e}function Ms(e){null===is?is=e:is.push.apply(is,e)}function As(e,t){for(t&=~ns,t&=~ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Cs(e){if(6&$a)throw Error(a(327));zs();var t=Mt(e,0);if(!(1&t))return Ss(e,Ut()),null;var n=Ds(e,t);if(0!==e.tag&&2===n){var r=Ct(e);0!==r&&(t=r,n=Es(e,r))}if(1===n)throw n=Qa,ks(e,0),As(e,t),Ss(e,Ut()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bs(e,is),Ss(e,Ut()),null}function Ps(e){null!==fs&&0===fs.tag&&!(6&$a)&&zs();var t=$a;$a|=1;var n=Ga.transition,r=Rt;try{if(Ga.transition=null,Rt=1,e)return e()}finally{Rt=r,Ga.transition=n,!(6&($a=t))&&Kt()}}function Os(){Ka=Ja.current,ot(Ja)}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,W(n)),null!==qa)for(n=qa.return;null!==n;){var r=n;switch(zn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&mt();break;case 3:fr(),ot(ht),ot(ut),br();break;case 5:mr(r);break;case 4:fr();break;case 13:case 19:ot(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Os()}n=n.return}if(Xa=e,qa=e=Zs(e.current,null),Ya=Ka=t,Za=0,Qa=null,ns=ts=es=0,is=rs=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}dn=null}return e}function Rs(e,t){for(;;){var n=qa;try{if(sn(),xr.current=fi,Mr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Mr=!1}if(_r=0,Er=Tr=Sr=null,Ar=!1,Cr=0,Wa.current=null,null===n||null===n.return){Za=1,Qa=t,qa=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Ya,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,h=l,d=h.tag;if(!(1&h.mode||0!==d&&11!==d&&15!==d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Mi(o);if(null!==p){p.flags&=-257,Ai(p,o,l,0,t),1&p.mode&&Ei(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){Ei(s,u,t),Ns();break e}c=Error(a(426))}else if(Wn&&1&l.mode){var v=Mi(o);if(null!==v){!(65536&v.flags)&&(v.flags|=256),Ai(v,o,l,0,t),er(c);break e}}s=c,4!==Za&&(Za=2),null===rs?rs=[s]:rs.push(s),c=vi(c,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Si(0,c,t));break e;case 1:s=c;var y=l.type,b=l.stateNode;if(!(128&l.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==hs&&hs.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Ti(l,s,t));break e}}l=l.return}while(null!==l)}js(n)}catch(x){t=x,qa===n&&null!==n&&(qa=n=n.return);continue}break}}function Is(){var e=Ha.current;return Ha.current=fi,null===e?fi:e}function Ns(){0!==Za&&3!==Za&&2!==Za||(Za=4),null===Xa||!(268435455&es)&&!(268435455&ts)||As(Xa,Ya)}function Ds(e,t){var n=$a;$a|=2;var r=Is();for(Xa===e&&Ya===t||ks(e,t);;)try{Ls();break}catch(i){Rs(e,i)}if(sn(),$a=n,Ha.current=r,null!==qa)throw Error(a(261));return Xa=null,Ya=0,Za}function Ls(){for(;null!==qa;)Us(qa)}function Fs(){for(;null!==qa&&!Lt();)Us(qa)}function Us(e){var t=ls(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,null===t?js(e):qa=t,Wa.current=null}function js(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=ia(n,t)))return n.flags&=32767,void(qa=n);if(null===e)return Za=6,void(qa=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ii(n,t,Ka)))return void(qa=n);if(null!==(t=t.sibling))return void(qa=t);qa=t=e}while(null!==t);0===Za&&(Za=5)}function Bs(e,t){var n=Rt,r=Ga.transition;try{Ga.transition=null,Rt=1,function(e,t,n){do{zs()}while(null!==fs);if(6&$a)throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Xa&&(qa=Xa=null,Ya=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||ds||(ds=!0,qs(zt,(function(){return zs(),null}))),s=!!(15990&r.flags),15990&r.subtreeFlags||s){s=Ga.transition,Ga.transition=null;var o=Rt;Rt=1;var l=$a;$a|=4,Wa.current=null,function(e,t){for(D(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,1028&e.subtreeFlags&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,s=e.stateNode,o=s.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);s.__reactInternalSnapshotBeforeUpdate=o}break;case 3:X&&Te(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(l){Hs(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=ha,ha=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?Sa(a,i,t):ga(a,i,t);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(w){Hs(i,t,w)}}if(n=t.child,12854&t.subtreeFlags&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var o=t.flags;if(32&o&&X&&be(t.stateNode),512&o){var l=t.alternate;if(null!==l){var c=l.ref;null!==c&&("function"==typeof c?c(null):c.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(as=Ut())}break;case 22:var h=null!==t.memoizedState,d=t.alternate,f=null!==d&&null!==d.memoizedState;if(n=t,X)e:if(r=n,i=h,a=null,X)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?xe(m):_e(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var g=p.stateNode;i?we(g):Se(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(h&&!f&&1&n.mode){la=n;for(var v=n.child;null!==v;){for(n=la=v;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"==typeof b.componentWillUnmount){var x=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(w){Hs(r,x,w)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Pa(n);continue}}null!==y?(y.return=r,la=y):Pa(n)}v=v.sibling}}}switch(4102&o){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,Ta(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ta(t.alternate,t);break;case 4:Ta(t.alternate,t)}}catch(w){Hs(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),L(e.containerInfo),e.current=r,Ma(r),Ft(),$a=l,Rt=o,Ga.transition=s}else e.current=r;if(ds&&(ds=!1,fs=e,ps=i),0===(s=e.pendingLanes)&&(hs=null),function(e){if(Wt&&"function"==typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Ht,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),Ss(e,Ut()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(cs)throw cs=!1,e=us,us=null,e;!!(1&ps)&&0!==e.tag&&zs(),1&(s=e.pendingLanes)?e===gs?ms++:(ms=0,gs=e):ms=0,Kt()}(e,t,n)}finally{Ga.transition=r,Rt=n}return null}function zs(){if(null!==fs){var e=It(ps),t=Ga.transition,n=Rt;try{if(Ga.transition=null,Rt=16>e?16:e,null===fs)var r=!1;else{if(e=fs,fs=null,ps=0,6&$a)throw Error(a(331));var i=$a;for($a|=4,la=e.current;null!==la;){var s=la,o=s.child;if(16&la.flags){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(la=u;null!==la;){var h=la;switch(h.tag){case 0:case 11:case 15:da(8,h,s)}var d=h.child;if(null!==d)d.return=h,la=d;else for(;null!==la;){var f=(h=la).sibling,p=h.return;if(va(h),h===u){la=null;break}if(null!==f){f.return=p,la=f;break}la=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}la=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,la=o;else e:for(;null!==la;){if(2048&(s=la).flags)switch(s.tag){case 0:case 11:case 15:da(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,la=y;break e}la=s.return}}var b=e.current;for(la=b;null!==la;){var x=(o=la).child;if(2064&o.subtreeFlags&&null!==x)x.return=o,la=x;else e:for(o=b;null!==la;){if(2048&(l=la).flags)try{switch(l.tag){case 0:case 11:case 15:fa(9,l)}}catch(_){Hs(l,l.return,_)}if(l===o){la=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,la=w;break e}la=l.return}}if($a=i,Kt(),Wt&&"function"==typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Ht,e)}catch(_){}r=!0}return r}finally{Rt=n,Ga.transition=t}}return!1}function Vs(e,t,n){vn(e,t=Si(0,t=vi(n,t),1)),t=bs(),null!==(e=_s(e,1))&&(Ot(e,1,t),Ss(e,t))}function Hs(e,t,n){if(3===e.tag)Vs(e,e,n);else for(;null!==t;){if(3===t.tag){Vs(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===hs||!hs.has(r))){vn(t,e=Ti(t,e=vi(n,e),1)),e=bs(),null!==(t=_s(t,1))&&(Ot(t,1,e),Ss(t,e));break}}t=t.return}}function Ws(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=bs(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Ya&n)===n&&(4===Za||3===Za&&(130023424&Ya)===Ya&&500>Ut()-as?ks(e,0):ns|=n),Ss(e,t)}function Gs(e,t){0===t&&(1&e.mode?(t=Tt,!(130023424&(Tt<<=1))&&(Tt=4194304)):t=1);var n=bs();null!==(e=_s(e,t))&&(Ot(e,t,n),Ss(e,n))}function $s(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Gs(e,n)}function Xs(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Gs(e,n)}function qs(e,t){return Nt(e,t)}function Ys(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new Ys(e,t,n,r)}function Js(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qs(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)Js(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case c:return eo(n.children,i,s,t);case u:o=8,i|=8;break;case h:return(e=Ks(12,n,t,2|i)).elementType=h,e.lanes=s,e;case m:return(e=Ks(13,n,t,i)).elementType=m,e.lanes=s,e;case g:return(e=Ks(19,n,t,i)).elementType=g,e.lanes=s,e;case b:return to(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case d:o=10;break e;case f:o=9;break e;case p:o=11;break e;case v:o=14;break e;case y:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ks(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function eo(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function to(e,t,n,r){return(e=Ks(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function no(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function ro(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function io(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=G,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pt(0),this.expirationTimes=Pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.identifierPrefix=r,this.onRecoverableError=i,Y&&(this.mutableSourceEagerHydrationData=null)}function ao(e,t,n,r,i,a,s,o,l){return e=new io(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ks(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function so(e){if(!e)return ct;e:{if(T(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function oo(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=A(t))?null:e.stateNode}function lo(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function co(e,t){lo(e,t),(e=e.alternate)&&lo(e,t)}function uo(e){return null===(e=A(e))?null:e.stateNode}function ho(){return null}return ls=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Di=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:Gi(t),Qn();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:on(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(lt(gr,1&gr.current),null!==(e=ra(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return na(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return ra(e,t,n)}(e,t,n);Di=!!(131072&e.flags)}else Di=!1,Wn&&1048576&t.flags&&jn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ft(t,ut.current);un(t,n),i=Rr(null,t,r,e,i,n);var s=Ir();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(s=!0,yt(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Tn,t.stateNode=i,i._reactInternals=t,Cn(t,r,e,n),t=Wi(null,t,r,!0,s,n)):(t.tag=0,Wn&&s&&Bn(t),Li(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Js(e)?1:0;if(null!=e){if((e=e.$$typeof)===p)return 11;if(e===v)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Hi(null,t,r,e,n);break e;case 11:t=Fi(null,t,r,e,n);break e;case 14:t=Ui(null,t,r,en(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Hi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Gi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,mn(e,t),xn(t,r,null,n);var o=t.memoizedState;if(r=o.element,Y&&s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=$i(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=$i(e,t,r,n,i=Error(a(424)));break e}for(Y&&(Hn=ze(t.stateNode.containerInfo),Vn=t,Wn=!0,$n=null,Gn=!1),n=sr(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qn(),r===i){t=ra(e,t,n);break e}Li(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Kn(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,z(r,i)?o=null:null!==s&&z(r,s)&&(t.flags|=32),zi(e,t),Li(e,t,o,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return Yi(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Li(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Li(e,t,t.pendingProps,n),t.child;case 8:case 12:return Li(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,on(0,r,o=i.value),null!==s)if(Gt(s.value,o)){if(s.children===i.children&&!ht.current){t=ra(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=gn(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),cn(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),cn(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Li(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,un(t,n),r=r(i=hn(i)),t.flags|=1,Li(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Ui(e,t,r,i=en(r.type,i),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,un(t,n),Mn(t,r,i),Cn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return na(e,t,n);case 22:return Bi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(ws(e,134217728,bs()),co(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=bs(),n=xs(e);ws(e,n,t),co(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(kt(t,1|n),Ss(t,Ut()),!(6&$a)&&(os(),Kt()))}break;case 13:var r=bs();Ps((function(){return ws(e,1,r)})),co(e,1)}},t.batchedUpdates=function(e,t){var n=$a;$a|=1;try{return e(t)}finally{0===($a=n)&&(os(),Xt&&Kt())}},t.createComponentSelector=function(e){return{$$typeof:ka,value:e}},t.createContainer=function(e,t,n,r,i,a,s){return ao(e,t,!1,null,0,r,0,a,s)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ra,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,s,o,l){return(e=ao(n,r,!0,e,0,a,0,o,l)).context=so(null),n=e.current,(a=gn(r=bs(),i=xs(n))).callback=null!=t?t:null,vn(n,a),e.current.lanes=i,Ot(e,i,r),Ss(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ia,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Na,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=Rt,n=Ga.transition;try{return Ga.transition=null,Rt=16,e()}finally{Rt=t,Ga.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Rt,s=Ga.transition;try{return Ga.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=a,Ga.transition=s,0===$a&&os()}},t.findAllNodes=za,t.findBoundingRects=function(e,t){if(!ne)throw Error(a(363));t=za(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ie(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,s=n.y,o=s+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,h=u+c.width,d=c.y,f=d+c.height;if(r>=u&&s>=d&&i<=h&&o<=f){e.splice(t,1);break}if(!(r!==u||n.width!==c.width||f<s||d>o)){d>s&&(c.height+=d-s,c.y=s),f<o&&(c.height=o-d),e.splice(t,1);break}if(!(s!==d||n.height!==c.height||h<r||u>i)){u>r&&(c.width+=u-r,c.x=r),h<i&&(c.width=i-u),e.splice(t,1);break}}return e},t.findHostInstance=oo,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=M(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return oo(e)},t.flushControlled=function(e){var t=$a;$a|=1;var n=Ga.transition,r=Rt;try{Ga.transition=null,Rt=1,e()}finally{Rt=r,Ga.transition=n,0===($a=t)&&(os(),Kt())}},t.flushPassiveEffects=zs,t.flushSync=Ps,t.focusWithin=function(e,t){if(!ne)throw Error(a(363));for(t=Ba(e=Fa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Rt},t.getFindAllNodesFailureDescription=function(e,t){if(!ne)throw Error(a(363));var n=0,r=[];e=[Fa(e),0];for(var i=0;i<e.length;){var s=e[i++],o=e[i++],l=t[o];if((5!==s.tag||!se(s))&&(Ua(s,l)&&(r.push(ja(l)),++o>n&&(n=o)),o<t.length))for(s=s.child;null!==s;)e.push(s,o),s=s.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(ja(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?R(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:uo,findFiberByHostInstance:e.findFiberByHostInstance||ho,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Wt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!ne)throw Error(a(363));e=za(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=bs(),s=xs(i);return n=so(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=ws(i,s,a))&&yn(e,i,s),s},t};const lce=Fe(ice.exports);var cce={exports:{}},uce={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,R(w);else{var t=n(c);null!==t&&I(x,t.startTime-e)}}function w(t,i){p=!1,m&&(m=!1,v(E),E=-1),f=!0;var a=d;try{for(b(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!C());){var s=h.callback;if("function"==typeof s){h.callback=null,d=h.priorityLevel;var o=s(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof o?h.callback=o:h===n(l)&&r(l),b(i)}else r(l);h=n(l)}if(null!==h)var u=!0;else{var g=n(c);null!==g&&I(x,g.startTime-i),u=!1}return u}finally{h=null,d=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,T=null,E=-1,M=5,A=-1;function C(){return!(e.unstable_now()-A<M)}function P(){if(null!==T){var t=e.unstable_now();A=t;var n=!0;try{n=T(!0,t)}finally{n?_():(S=!1,T=null)}}else S=!1}if("function"==typeof y)_=function(){y(P)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,k=O.port2;O.port1.onmessage=P,_=function(){k.postMessage(null)}}else _=function(){g(P,0)};function R(e){T=e,S||(S=!0,_())}function I(t,n){E=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,R(w))},e.unstable_forceFrameRate=function(e){0>e||125<e||(M=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,a){var s=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(v(E),E=-1):m=!0,I(x,a-s))):(r.sortIndex=o,t(l,r),p||f||(p=!0,R(w))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(uce),cce.exports=uce;var hce=cce.exports;const dce={};var fce,pce;const mce=e=>"colorSpace"in e||"outputColorSpace"in e,gce=()=>{var e;return null!=(e=dce.ColorManagement)?e:null},vce=e=>e&&e.isOrthographicCamera,yce="undefined"!=typeof window&&(null!=(fce=window.document)&&fce.createElement||"ReactNative"===(null==(pce=window.navigator)?void 0:pce.product))?Ie.useLayoutEffect:Ie.useEffect;function bce(e){const t=Ie.useRef(e);return yce((()=>{t.current=e}),[e]),t}function xce({set:e}){return yce((()=>(e(new Promise((()=>null))),()=>e(!1))),[e]),null}class wce extends Ie.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}wce.getDerivedStateFromError=()=>({error:!0});const _ce="__default",Sce=new Map,Tce=e=>e&&!!e.memoized&&!!e.changes;function Ece(e){var t;const n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const Mce=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function Ace(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const Cce={obj:e=>e===Object(e)&&!Cce.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(Cce.str(e)||Cce.num(e)||Cce.boo(e))return e===t;const a=Cce.obj(e);if(a&&"reference"===r)return e===t;const s=Cce.arr(e);if(s&&"reference"===n)return e===t;if((s||a)&&e===t)return!0;let o;for(o in e)if(!(o in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(o in i?t:e)if(!Cce.equ(e[o],t[o],{strict:i,objects:"reference"}))return!1}else for(o in i?t:e)if(e[o]!==t[o])return!1;if(Cce.und(o)){if(s&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function Pce(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function Oce(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const kce=/-\d+$/;function Rce(e,t,n){if(Cce.str(n)){if(kce.test(n)){const t=n.replace(kce,""),{target:r,key:i}=Oce(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=Oce(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function Ice(e,t,n){var r,i;if(Cce.str(n)){const{target:r,key:i}=Oce(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function Nce(e,{children:t,key:n,ref:r,...i},{children:a,key:s,ref:o,...l}={},c=!1){const u=e.__r3f,h=Object.entries(i),d=[];if(c){const e=Object.keys(l);for(let t=0;t<e.length;t++)i.hasOwnProperty(e[t])||h.unshift([e[t],_ce+"remove"])}h.forEach((([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t)return;if(Cce.equ(n,l[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return d.push([t,n,!0,[]]);let a=[];t.includes("-")&&(a=t.split("-")),d.push([t,n,!1,a]);for(const e in i){const n=i[e];e.startsWith(`${t}-`)&&d.push([e,n,!1,e.split("-")])}}));const f={...i};return null!=u&&u.memoizedProps&&null!=u&&u.memoizedProps.args&&(f.args=u.memoizedProps.args),null!=u&&u.memoizedProps&&null!=u&&u.memoizedProps.attach&&(f.attach=u.memoizedProps.attach),{memoized:f,changes:d}}const Dce="undefined"!=typeof process&&!1;function Lce(e,t){var n;const r=e.__r3f,i=null==r?void 0:r.root,a=null==i||null==i.getState?void 0:i.getState(),{memoized:s,changes:o}=Tce(t)?t:Nce(e,t),l=null==r?void 0:r.eventCount;e.__r3f&&(e.__r3f.memoizedProps=s);for(let h=0;h<o.length;h++){let[t,n,i,s]=o[h];if(mce(e)){const e=3001,r="srgb",i="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:i):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:i)}let l=e,d=l[t];if(s.length&&(d=s.reduce(((e,t)=>e[t]),e),!d||!d.set)){const[n,...r]=s.reverse();l=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===_ce+"remove")if(l.constructor){let e=Sce.get(l.constructor);e||(e=new l.constructor,Sce.set(l.constructor,e)),n=e[t]}else n=0;if(i&&r)n?r.handlers[t]=n:delete r.handlers[t],r.eventCount=Object.keys(r.handlers).length;else if(d&&d.set&&(d.copy||d instanceof J7)){if(Array.isArray(n))d.fromArray?d.fromArray(n):d.set(...n);else if(d.copy&&n&&n.constructor&&(Dce?d.constructor.name===n.constructor.name:d.constructor===n.constructor))d.copy(n);else if(void 0!==n){var c;const e=null==(c=d)?void 0:c.isColor;!e&&d.setScalar?d.setScalar(n):d instanceof J7&&n instanceof J7?d.mask=n.mask:d.set(n),!gce()&&a&&!a.linear&&e&&d.convertSRGBToLinear()}}else{var u;if(l[t]=n,null!=(u=l[t])&&u.isTexture&&l[t].format===u6&&l[t].type===K5&&a){const e=l[t];mce(e)&&mce(a.gl)?e.colorSpace=a.gl.outputColorSpace:e.encoding=a.gl.outputEncoding}}Fce(e)}if(r&&r.parent&&e.raycast&&l!==r.eventCount){const t=Ace(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),r.eventCount&&t.interaction.push(e)}return!(1===o.length&&"onUpdate"===o[0][0])&&o.length&&null!=(n=e.__r3f)&&n.parent&&Uce(e),e}function Fce(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function Uce(e){null==e.onUpdate||e.onUpdate(e)}function jce(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Bce(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function zce(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(jce(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){const{onPointerMissed:s,internal:o}=e.getState();o.lastEvent.current=a;const l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,u=function(t,n){const r=e.getState(),i=new Set,a=[],s=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<s.length;e++){const t=Mce(s[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let o=s.flatMap((function(e){const n=Mce(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=Mce(e.object),r=Mce(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=jce(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(o=r.events.filter(o,r));for(const e of o){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(jce(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),h=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(o.initialClick=[a.offsetX,a.offsetY],o.initialHits=u.map((e=>e.eventObject))),c&&!u.length&&h<=2&&(r(a,o.interaction),s&&s(a)),l&&n(u),function(t,r,i,a){const s=e.getState();if(t.length){const e={stopped:!1};for(const o of t){const l=Mce(o.object)||s,{raycaster:c,pointer:u,camera:h,internal:d}=l,f=new u7(u.x,u.y,0).unproject(h),p=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},m=e=>{const t={intersection:o,target:r.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,t):d.capturedMap.set(e,new Map([[o.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{const t=d.capturedMap.get(e);t&&Bce(d.capturedMap,o.eventObject,t,e)};let v={};for(let e in r){let t=r[e];"function"!=typeof t&&(v[e]=t)}let y={...o,...v,pointer:u,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:f,ray:c.ray,camera:h,stopPropagation(){const i="pointerId"in r&&d.capturedMap.get(r.pointerId);(!i||i.has(o.eventObject))&&(y.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((e=>e.eventObject===o.eventObject)))&&n([...t.slice(0,t.indexOf(o)),o])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r};if(a(y),!0===e.stopped)break}}}(u,a,h,(function(e){const t=e.eventObject,n=t.__r3f,s=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(s.onPointerOver||s.onPointerEnter||s.onPointerOut||s.onPointerLeave){const t=jce(e),n=o.hovered.get(t);n?n.stopped&&e.stopPropagation():(o.hovered.set(t,e),null==s.onPointerOver||s.onPointerOver(e),null==s.onPointerEnter||s.onPointerEnter(e))}null==s.onPointerMove||s.onPointerMove(e)}else{const n=s[i];n?c&&!o.initialHits.includes(t)||(r(a,o.interaction.filter((e=>!o.initialHits.includes(e)))),n(e)):c&&o.initialHits.includes(t)&&r(a,o.interaction.filter((e=>!o.initialHits.includes(e))))}}))}}}}const Vce=e=>!(null==e||!e.render),Hce=Ie.createContext(null),Wce=(e,t)=>{const n=function(e){const t="function"==typeof e?ece(e):e,n=(e=t.getState,n=Object.is)=>{const[,r]=Ie.useReducer((e=>e+1),0),i=t.getState(),a=Ie.useRef(i),s=Ie.useRef(e),o=Ie.useRef(n),l=Ie.useRef(!1),c=Ie.useRef();let u;void 0===c.current&&(c.current=e(i));let h=!1;(a.current!==i||s.current!==e||o.current!==n||l.current)&&(u=e(i),h=!n(c.current,u)),tce((()=>{h&&(c.current=u),a.current=i,s.current=e,o.current=n,l.current=!1}));const d=Ie.useRef(i);tce((()=>{const e=()=>{try{const e=t.getState(),n=s.current(e);o.current(c.current,n)||(a.current=e,c.current=n,r())}catch(e){l.current=!0,r()}},n=t.subscribe(e);return t.getState()!==d.current&&e(),n}),[]);const f=h?u:c.current;return Ie.useDebugValue(f),f};return Object.assign(n,t),n[Symbol.iterator]=function(){const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}(((n,r)=>{const i=new u7,a=new u7,s=new u7;function o(e=r().camera,t=a,n=r().size){const{width:o,height:l,top:c,left:u}=n,h=o/l;t.isVector3?s.copy(t):s.set(...t);const d=e.getWorldPosition(i).distanceTo(s);if(vce(e))return{width:o/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:d,aspect:h};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*d,r=n*(o/l);return{width:r,height:n,top:c,left:u,factor:o/r,distance:d,aspect:h}}}let l;const c=e=>n((t=>({performance:{...t.performance,current:e}}))),u=new D8;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vae,pointer:u,mouse:u,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout((()=>c(r().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:o},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,i,s,l)=>{const c=r().camera,u={width:e,height:t,top:s||0,left:l||0,updateStyle:i};n((e=>({size:u,viewport:{...e.viewport,...o(c,a,u)}})))},setDpr:e=>n((t=>{const n=Ece(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:(e="always")=>{const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Ie.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}}})),r=n.getState();let i=r.size,a=r.viewport.dpr,s=r.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:o,set:l}=n.getState();if(t.width!==i.width||t.height!==i.height||r.dpr!==a){var c;i=t,a=r.dpr,function(e,t){e.manual||(vce(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}(e,t),o.setPixelRatio(r.dpr);const n=null!=(c=t.updateStyle)?c:"undefined"!=typeof HTMLCanvasElement&&o.domElement instanceof HTMLCanvasElement;o.setSize(t.width,t.height,n)}e!==s&&(s=e,l((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n};let Gce,$ce,Xce,qce=new Set,Yce=new Set,Kce=new Set;function Jce(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function Zce(e,t){switch(e){case"before":return Jce(qce,t);case"after":return Jce(Yce,t);case"tail":return Jce(Kce,t)}}function Qce(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),$ce=t.internal.subscribers,Gce=0;Gce<$ce.length;Gce++)Xce=$ce[Gce],Xce.ref.current(Xce.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function eue(e,t=0){const n=function(){const e=Ie.useContext(Hce);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}(),r=n.getState().internal.subscribe,i=bce(e);return yce((()=>r(i,t,n)),[t,r,n]),null}const tue=new Map,{invalidate:nue,advance:rue}=function(e){let t,n,r,i=!1,a=!1;function s(o){n=requestAnimationFrame(s),i=!0,t=0,Zce("before",o),a=!0;for(const n of e.values()){var l;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=Qce(o,r))}if(a=!1,Zce("after",o),0===t)return Zce("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:s,invalidate:function t(n,r=1){var o;if(!n)return e.forEach((e=>t(e.store.getState(),r)));null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=r>1?Math.min(60,n.internal.frames+r):a?2:1,i||(i=!0,requestAnimationFrame(s)))},advance:function(t,n=!0,r,i){if(n&&Zce("before",t),r)Qce(t,r,i);else for(const a of e.values())Qce(t,a.store.getState());n&&Zce("after",t)}}}(tue),{reconciler:iue,applyProps:aue}=function(e,t){function n(e,{args:t=[],attach:n,...r},i){let a,s=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===r.object)throw new Error("R3F: Primitives without 'object' are invalid!");a=Pce(r.object,{type:e,root:i,attach:n,primitive:!0})}else{const r=dce[s];if(!r)throw new Error(`R3F: ${s} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw new Error("R3F: The args prop must be an array!");a=Pce(new r(...t),{type:e,root:i,attach:n,memoizedProps:{args:t}})}return void 0===a.__r3f.attach&&(a.isBufferGeometry?a.__r3f.attach="geometry":a.isMaterial&&(a.__r3f.attach="material")),"inject"!==s&&Lce(a,r),a}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?Rce(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||Pce(t,{}),t.__r3f.parent=e,Uce(t),Fce(t))}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)Rce(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});const i=e.children.filter((e=>e!==t)),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||Pce(t,{}),t.__r3f.parent=e,Uce(t),Fce(t)}}function a(e,t,n=!1){e&&[...e].forEach((e=>s(t,e,n)))}function s(e,t,n){if(t){var r,i,s;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)Ice(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var o;e.remove(t),null!=(o=t.__r3f)&&o.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{Bce(n.capturedMap,t,e,r)}))}(Ace(t),t)}const c=null==(s=t.__r3f)?void 0:s.primitive,u=!c&&(void 0===n?null!==t.dispose:n);var l;if(!c)a(null==(l=t.__r3f)?void 0:l.objects,t,u),a(t.children,t,u);if(delete t.__r3f,u&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?hce.unstable_scheduleCallback(hce.unstable_IdlePriority,e):e()}Fce(e)}}const o=()=>{};return{reconciler:lce({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&s(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...a}=r,{args:s=[],children:o,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==s[t])))return[!0];const c=Nce(e,a,l,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,[t,i],a,o,l,c){t?function(e,t,i,a){var o;const l=null==(o=e.__r3f)?void 0:o.parent;if(!l)return;const c=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(c,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(c,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||s(l,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),r(l,c),c.raycast&&c.__r3f.eventCount&&Ace(c).getState().internal.interaction.push(c);[a,a.alternate].forEach((e=>{null!==e&&(e.stateNode=c,e.ref&&("function"==typeof e.ref?e.ref(c):e.ref.current=c))}))}(e,a,l,c):Lce(e,i)},commitMount(e,t,n,r){var i;const a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&Ace(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>Pce(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&Ice(r,e,n),e.isObject3D&&(e.visible=!1),Fce(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&Rce(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Fce(e)},createTextInstance:o,hideTextInstance:o,unhideTextInstance:o,getCurrentEventPriority:()=>t?t():Qle.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&Cce.fun(performance.now)?performance.now:Cce.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Cce.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Cce.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Lce}}(0,(function(){var e;const t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return Qle.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qle.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qle.ContinuousEventPriority;default:return Qle.DefaultEventPriority}})),sue={objects:"shallow",strict:!1},oue=(e,t)=>{const n="function"==typeof e?e(t):e;return Vce(n)?n:new Yle({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function lue(e){const t=tue.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store,i="function"==typeof reportError?reportError:console.error,a=r||Wce(nue,rue),s=n||iue.createContainer(a,Qle.ConcurrentRoot,null,!1,null,"",i,null);let o;t||tue.set(e,{fiber:s,store:a});let l,c=!1;return{configure(t={}){let{gl:n,size:r,scene:i,events:s,onCreated:u,shadows:h=!1,linear:d=!1,flat:f=!1,legacy:p=!1,orthographic:m=!1,frameloop:g="always",dpr:v=[1,2],performance:y,raycaster:b,camera:x,onPointerMissed:w}=t,_=a.getState(),S=_.gl;_.gl||_.set({gl:S=oue(n,e)});let T=_.raycaster;T||_.set({raycaster:T=new zae});const{params:E,...M}=b||{};if(Cce.equ(M,T,sue)||aue(T,{...M}),Cce.equ(E,T.params,sue)||aue(T,{params:{...T.params,...E}}),!_.camera||_.camera===l&&!Cce.equ(l,x,sue)){l=x;const e=x instanceof wee,t=e?x:m?new Jie(0,0,0,0,.1,1e3):new Eee(75,0,.1,1e3);e||(t.position.z=5,x&&(aue(t,x),("aspect"in x||"left"in x||"right"in x||"bottom"in x||"top"in x)&&(t.manual=!0,t.updateProjectionMatrix())),_.camera||null!=x&&x.rotation||t.lookAt(0,0,0)),_.set({camera:t}),T.camera=t}if(!_.scene){let e;null!=i&&i.isScene?e=i:(e=new Dee,i&&aue(e,i)),_.set({scene:Pce(e)})}if(!_.xr){var A;const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&rue(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||nue(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(A=S.xr)?void 0:A.addEventListener)&&n.connect(),_.set({xr:n})}if(S.shadowMap){const e=S.shadowMap.enabled,t=S.shadowMap.type;if(S.shadowMap.enabled=!!h,Cce.boo(h))S.shadowMap.type=2;else if(Cce.str(h)){var C;const e={basic:0,percentage:1,soft:2,variance:3};S.shadowMap.type=null!=(C=e[h])?C:2}else Cce.obj(h)&&Object.assign(S.shadowMap,h);e===S.shadowMap.enabled&&t===S.shadowMap.type||(S.shadowMap.needsUpdate=!0)}const P=gce();if(P&&("enabled"in P?P.enabled=!p:"legacyMode"in P&&(P.legacyMode=p)),!c){aue(S,{outputEncoding:d?3e3:3001,toneMapping:f?0:4})}_.legacy!==p&&_.set((()=>({legacy:p}))),_.linear!==d&&_.set((()=>({linear:d}))),_.flat!==f&&_.set((()=>({flat:f}))),!n||Cce.fun(n)||Vce(n)||Cce.equ(n,S,sue)||aue(S,n),s&&!_.events.handlers&&_.set({events:s(a)});const O=function(e,t){const n="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:a,updateStyle:s=n}=t;return{width:e,height:r,top:i,left:a,updateStyle:s}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:a}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a,updateStyle:n}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return Cce.equ(O,_.size,sue)||_.setSize(O.width,O.height,O.updateStyle,O.top,O.left),v&&_.viewport.dpr!==Ece(v)&&_.setDpr(v),_.frameloop!==g&&_.setFrameloop(g),_.onPointerMissed||_.set({onPointerMissed:w}),y&&!Cce.equ(y,_.performance,sue)&&_.set((e=>({performance:{...e.performance,...y}}))),o=u,c=!0,this},render(t){return c||this.configure(),iue.updateContainer(q.jsx(cue,{store:a,children:t,onCreated:o,rootElement:e}),s,null,(()=>{})),a},unmount(){uue(e)}}}function cue({store:e,children:t,onCreated:n,rootElement:r}){return yce((()=>{const t=e.getState();t.set((e=>({internal:{...e.internal,active:!0}}))),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)}),[]),q.jsx(Hce.Provider,{value:e,children:t})}function uue(e,t){const n=tue.get(e),r=null==n?void 0:n.fiber;if(r){const t=null==n?void 0:n.store.getState();t&&(t.internal.active=!1),iue.updateContainer(null,r,null,(()=>{t&&setTimeout((()=>{try{var n,r,i,a;null==t.events.disconnect||t.events.disconnect(),null==(n=t.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=t.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(a=t.gl)&&a.xr&&t.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(t),tue.delete(e)}catch(s){}}),500)}))}}iue.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Ie.version});const hue={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function due(e){const{handlePointer:t}=zce(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(hue).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((([e,n])=>{const[r,i]=hue[e];t.addEventListener(r,n,{passive:i})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((([e,t])=>{if(n&&n.connected instanceof HTMLElement){const[r]=hue[e];n.connected.removeEventListener(r,t)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}function fue(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout((()=>e(...r)),t)}}function pue({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=Ie.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=Ie.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=e?"number"==typeof e?e:e.scroll:null,c=e?"number"==typeof e?e:e.resize:null,u=Ie.useRef(!1);Ie.useEffect((()=>(u.current=!0,()=>{u.current=!1})));const[h,d,f]=Ie.useMemo((()=>{const e=()=>{if(!o.current.element)return;const{left:e,top:t,width:n,height:i,bottom:a,right:l,x:c,y:h}=o.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:i,bottom:a,right:l,x:c,y:h};o.current.element instanceof HTMLElement&&r&&(d.height=o.current.element.offsetHeight,d.width=o.current.element.offsetWidth),Object.freeze(d),u.current&&!vue(o.current.lastBounds,d)&&s(o.current.lastBounds=d)};return[e,c?fue(e,c):e,l?fue(e,l):e]}),[s,r,l,c]);function p(){o.current.scrollContainers&&(o.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",f,!0))),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function m(){o.current.element&&(o.current.resizeObserver=new i(f),o.current.resizeObserver.observe(o.current.element),t&&o.current.scrollContainers&&o.current.scrollContainers.forEach((e=>e.addEventListener("scroll",f,{capture:!0,passive:!0}))),o.current.orientationHandler=()=>{f()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}return function(e,t){Ie.useEffect((()=>{if(t){const t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}}),[e,t])}(f,!!t),function(e){Ie.useEffect((()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e])}(d),Ie.useEffect((()=>{p(),m()}),[t,f,d]),Ie.useEffect((()=>p),[]),[e=>{!e||e===o.current.element||(p(),o.current.element=e,o.current.scrollContainers=mue(e),m())},a,h]}function mue(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...mue(e.parentElement)]}const gue=["x","y","top","bottom","left","right","width","height"],vue=(e,t)=>gue.every((n=>e[n]===t[n]));var yue,bue,xue=Object.defineProperty,wue=Object.defineProperties,_ue=Object.getOwnPropertyDescriptors,Sue=Object.getOwnPropertySymbols,Tue=Object.prototype.hasOwnProperty,Eue=Object.prototype.propertyIsEnumerable,Mue=(e,t,n)=>t in e?xue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Aue=(e,t)=>{for(var n in t||(t={}))Tue.call(t,n)&&Mue(e,n,t[n]);if(Sue)for(var n of Sue(t))Eue.call(t,n)&&Mue(e,n,t[n]);return e};function Cue(e,t,n){if(!e)return;if(!0===n(e))return e;let r=e.child;for(;r;){const e=Cue(r,t,n);if(e)return e;r=r.sibling}}function Pue(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"==typeof window||!(null==(yue=window.document)?void 0:yue.createElement)&&"ReactNative"!==(null==(bue=window.navigator)?void 0:bue.product)?Ie.useEffect:Ie.useLayoutEffect;const Oue=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return Oue.apply(this,arguments);console.error=Oue};const kue=Pue(Ie.createContext(null));class Rue extends Ie.Component{render(){return Ie.createElement(kue.Provider,{value:this._reactInternals},this.props.children)}}function Iue(){const e=function(){const e=Ie.useContext(kue);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=Ie.useId();return Ie.useMemo((()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=Cue(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}(),[t]=Ie.useState((()=>new Map));t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==kue&&!t.has(e)&&t.set(e,Ie.useContext(Pue(e)))}n=n.return}return t}function Nue(){const e=Iue();return Ie.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>r=>{return Ie.createElement(t,null,Ie.createElement(n.Provider,(i=Aue({},r),a={value:e.get(n)},wue(i,_ue(a)))));var i,a}),(e=>Ie.createElement(Rue,Aue({},e))))),[e])}const Due=Ie.forwardRef((function({children:e,fallback:t,resize:n,style:r,gl:i,events:a=due,eventSource:s,eventPrefix:o,shadows:l,linear:c,flat:u,legacy:h,orthographic:d,frameloop:f,dpr:p,performance:m,raycaster:g,camera:v,scene:y,onPointerMissed:b,onCreated:x,...w},_){Ie.useMemo((()=>{return e=Kle,void Object.assign(dce,e);var e}),[]);const S=Nue(),[T,E]=pue({scroll:!0,debounce:{scroll:50,resize:0},...n}),M=Ie.useRef(null),A=Ie.useRef(null);Ie.useImperativeHandle(_,(()=>M.current));const C=bce(b),[P,O]=Ie.useState(!1),[k,R]=Ie.useState(!1);if(P)throw P;if(k)throw k;const I=Ie.useRef(null);yce((()=>{const t=M.current;E.width>0&&E.height>0&&t&&(I.current||(I.current=lue(t)),I.current.configure({gl:i,events:a,shadows:l,linear:c,flat:u,legacy:h,orthographic:d,frameloop:f,dpr:p,performance:m,raycaster:g,camera:v,scene:y,size:E,onPointerMissed:(...e)=>null==C.current?void 0:C.current(...e),onCreated:e=>{var t;null==e.events.connect||e.events.connect(s?(t=s)&&t.hasOwnProperty("current")?s.current:s:A.current),o&&e.setEvents({compute:(e,t)=>{const n=e[o+"X"],r=e[o+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==x||x(e)}}),I.current.render(q.jsx(S,{children:q.jsx(wce,{set:R,children:q.jsx(Ie.Suspense,{fallback:q.jsx(xce,{set:O}),children:null!=e?e:null})})})))})),Ie.useEffect((()=>{const e=M.current;if(e)return()=>uue(e)}),[]);const N=s?"none":"auto";return q.jsx("div",{ref:A,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:N,...r},...w,children:q.jsx("div",{ref:T,style:{width:"100%",height:"100%"},children:q.jsx("canvas",{ref:M,style:{display:"block"},children:t})})})})),Lue=Ie.forwardRef((function(e,t){return q.jsx(Rue,{children:q.jsx(Due,{...e,ref:t})})})),Fue=(()=>parseInt(r5.replace(/\D+/g,"")))(),Uue=Fue>=154?"opaque_fragment":"output_fragment";class jue extends vne{constructor(e){super(e),this.onBeforeCompile=(e,t)=>{const{isWebGL2:n}=t.capabilities;e.fragmentShader=e.fragmentShader.replace(`#include <${Uue}>`,`\n        ${n?`#include <${Uue}>`:`#extension GL_OES_standard_derivatives : enable\n#include <${Uue}>`}\n      vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n      float r = dot(cxy, cxy);\n      float delta = fwidth(r);     \n      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );\n      #include <tonemapping_fragment>\n      #include <${Fue>=154?"colorspace_fragment":"encodings_fragment"}>\n      `)}}}const Bue=Ie.forwardRef(((e,t)=>{const[n]=Ie.useState((()=>new jue(null)));return Ie.createElement("primitive",RN({},e,{object:n,ref:t,attach:"material"}))}));let zue,Vue;const Hue=Ie.createContext(null),Wue=new B7,Gue=new u7,$ue=Ie.forwardRef((({children:e,range:t,limit:n=1e3,...r},i)=>{const a=Ie.useRef(null);Ie.useImperativeHandle(i,(()=>a.current),[]);const[s,o]=Ie.useState([]),[[l,c,u]]=Ie.useState((()=>[new Float32Array(3*n),Float32Array.from({length:3*n},(()=>1)),Float32Array.from({length:n},(()=>1))]));Ie.useEffect((()=>{a.current.geometry.attributes.position.needsUpdate=!0})),eue((()=>{for(a.current.updateMatrix(),a.current.updateMatrixWorld(),Wue.copy(a.current.matrixWorld).invert(),a.current.geometry.drawRange.count=Math.min(n,void 0!==t?t:n,s.length),zue=0;zue<s.length;zue++)Vue=s[zue].current,Vue.getWorldPosition(Gue).applyMatrix4(Wue),Gue.toArray(l,3*zue),a.current.geometry.attributes.position.needsUpdate=!0,Vue.matrixWorldNeedsUpdate=!0,Vue.color.toArray(c,3*zue),a.current.geometry.attributes.color.needsUpdate=!0,u.set([Vue.size],zue),a.current.geometry.attributes.size.needsUpdate=!0}));const h=Ie.useMemo((()=>({getParent:()=>a,subscribe:e=>(o((t=>[...t,e])),()=>o((t=>t.filter((t=>t.current!==e.current)))))})),[]);return Ie.createElement("points",RN({userData:{instances:s},matrixAutoUpdate:!1,ref:a,raycast:()=>null},r),Ie.createElement("bufferGeometry",null,Ie.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:b8}),Ie.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:b8}),Ie.createElement("bufferAttribute",{attach:"attributes-size",count:u.length,array:u,itemSize:1,usage:b8})),Ie.createElement(Hue.Provider,{value:h},e))})),Xue=Ie.forwardRef((({children:e,positions:t,colors:n,sizes:r,stride:i=3,...a},s)=>{const o=Ie.useRef(null);return Ie.useImperativeHandle(s,(()=>o.current),[]),eue((()=>{const e=o.current.geometry.attributes;e.position.needsUpdate=!0,n&&(e.color.needsUpdate=!0),r&&(e.size.needsUpdate=!0)})),Ie.createElement("points",RN({ref:o},a),Ie.createElement("bufferGeometry",null,Ie.createElement("bufferAttribute",{attach:"attributes-position",count:t.length/i,array:t,itemSize:i,usage:b8}),n&&Ie.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/i,array:n,itemSize:3,usage:b8}),r&&Ie.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:b8})),e)})),que=Ie.forwardRef(((e,t)=>e.positions instanceof Float32Array?Ie.createElement(Xue,RN({},e,{ref:t})):Ie.createElement($ue,RN({},e,{ref:t})))),Yue=()=>{const e=Ie.useRef(null),t=Ne.useMemo((()=>{const e=new Float32Array(6e3);for(let t=0;t<2e3;t++)e[3*t]=20*(Math.random()-.5),e[3*t+1]=20*(Math.random()-.5),e[3*t+2]=20*(Math.random()-.5);return e}),[]);return eue((t=>{e.current&&(e.current.rotation.x=.3*Math.sin(.1*t.clock.elapsedTime),e.current.rotation.y=.2*Math.sin(.15*t.clock.elapsedTime),e.current.rotation.z=.1*Math.sin(.05*t.clock.elapsedTime))})),q.jsx(que,{ref:e,positions:t,stride:3,frustumCulled:!1,children:q.jsx(Bue,{transparent:!0,color:"#ffffff",size:.015,sizeAttenuation:!0,depthWrite:!1,opacity:.8})})},Kue=({position:e})=>{const t=Ie.useRef(null);return eue((n=>{if(t.current){t.current.position.x=e[0]+.8*Math.sin(.7*n.clock.elapsedTime+e[0]),t.current.position.y=e[1]+.6*Math.sin(.5*n.clock.elapsedTime+e[1]),t.current.position.z=e[2]+.4*Math.sin(.6*n.clock.elapsedTime+e[2]),t.current.rotation.x+=.005,t.current.rotation.y+=.008;const r=1+.3*Math.sin(2*n.clock.elapsedTime+e[0]);t.current.scale.setScalar(r)}})),q.jsxs("mesh",{ref:t,position:e,children:[q.jsx("sphereGeometry",{args:[.4,32,32]}),q.jsx("meshPhongMaterial",{color:"#8b5cf6",transparent:!0,opacity:.3,emissive:"#4c1d95",emissiveIntensity:.4})]})},Jue=({startPosition:e})=>{const t=Ie.useRef(null);return eue((n=>{if(t.current){const r=.1;t.current.position.x+=r,t.current.position.y-=.3*r,t.current.position.x>15&&(t.current.position.x=-15,t.current.position.y=e[1]+10*(Math.random()-.5),t.current.position.z=e[2]+5*(Math.random()-.5));const i=.5+.3*Math.sin(8*n.clock.elapsedTime+e[0]);t.current.material instanceof L9&&(t.current.material.opacity=i)}})),q.jsxs("mesh",{ref:t,position:e,children:[q.jsx("sphereGeometry",{args:[.05,8,8]}),q.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.8})]})},Zue=()=>q.jsx("div",{className:"fixed inset-0 z-0",children:q.jsxs(Lue,{camera:{position:[0,0,10],fov:60},gl:{antialias:!0,alpha:!0},onCreated:({gl:e})=>{e.setClearColor("#000000",0)},children:[q.jsx("ambientLight",{intensity:.4}),q.jsx("pointLight",{position:[10,10,10],intensity:1.2,color:"#8b5cf6"}),q.jsx("pointLight",{position:[-10,-10,-10],intensity:.8,color:"#3b82f6"}),q.jsx("pointLight",{position:[5,-5,5],intensity:.6,color:"#ec4899"}),q.jsx(Yue,{}),q.jsx(Kue,{position:[-6,4,-4]}),q.jsx(Kue,{position:[6,-3,-5]}),q.jsx(Kue,{position:[0,5,-6]}),q.jsx(Kue,{position:[-4,-4,-3]}),q.jsx(Kue,{position:[7,2,-4]}),q.jsx(Kue,{position:[-2,6,-5]}),q.jsx(Jue,{startPosition:[-15,8,-3]}),q.jsx(Jue,{startPosition:[-15,4,-2]}),q.jsx(Jue,{startPosition:[-15,-2,-4]}),q.jsx(Jue,{startPosition:[-15,-6,-1]}),q.jsx(Jue,{startPosition:[-15,1,-5]})]})});async function Que(e,t){var n,r,i;const a=Date.now();try{const s=await fetch("https://api.together.xyz/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"meta-llama/Llama-3.3-70B-Instruct-Turbo-Free",messages:[{role:"system",content:`Voc  um assistente especializado em anlise de dados de RH da HITSS. Analise os dados fornecidos e responda de forma objetiva e til. \n\nDADOS DOS PROFISSIONAIS:\n${JSON.stringify(t,null,2)}\n\nResponda sempre em portugus brasileiro de forma clara e direta.`},{role:"user",content:e}],max_tokens:1e3,temperature:.7,stream:!1})});if(s.ok){const e=null==(i=null==(r=null==(n=(await s.json()).choices)?void 0:n[0])?void 0:r.message)?void 0:i.content;if(e){return`${e}\n\n---\nResposta via Together.xyz Llama 3.3 70B (${Date.now()-a}ms)`}}}catch(s){}return function(e,t){new Set(t.map((e=>e.regime)).filter(Boolean)),new Set(t.map((e=>e.proficiencia_cargo)).filter(Boolean));const n=t.length,r=t.filter((e=>{var t;return null==(t=e.regime)?void 0:t.toLowerCase().includes("clt")})).length,i=t.filter((e=>{var t;return null==(t=e.regime)?void 0:t.toLowerCase().includes("pj")})).length,a={junior:t.filter((e=>{var t,n;return(null==(t=e.proficiencia_cargo)?void 0:t.toLowerCase().includes("junior"))||(null==(n=e.proficiencia_cargo)?void 0:n.toLowerCase().includes("jnior"))})).length,pleno:t.filter((e=>{var t;return null==(t=e.proficiencia_cargo)?void 0:t.toLowerCase().includes("pleno")})).length,senior:t.filter((e=>{var t,n;return(null==(t=e.proficiencia_cargo)?void 0:t.toLowerCase().includes("senior"))||(null==(n=e.proficiencia_cargo)?void 0:n.toLowerCase().includes("snior"))})).length},s={javascript:t.filter((e=>e.javascript&&"sem conhecimento"!==e.javascript.toLowerCase()&&"null"!==e.javascript.toLowerCase())).length,java:t.filter((e=>e.java&&"sem conhecimento"!==e.java.toLowerCase()&&"null"!==e.java.toLowerCase())).length,python:t.filter((e=>e.python&&"sem conhecimento"!==e.python.toLowerCase()&&"null"!==e.python.toLowerCase())).length,react:t.filter((e=>e.react&&"sem conhecimento"!==e.react.toLowerCase()&&"null"!==e.react.toLowerCase())).length,typescript:t.filter((e=>e.typescript&&"sem conhecimento"!==e.typescript.toLowerCase()&&"null"!==e.typescript.toLowerCase())).length,mysql:t.filter((e=>e.mysql&&"sem conhecimento"!==e.mysql.toLowerCase()&&"null"!==e.mysql.toLowerCase())).length};const o=Object.entries(s).filter((([,e])=>e>0)).sort((([,e],[,t])=>t-e))[0],l=Object.entries(a).filter((([,e])=>e>0)).sort((([,e],[,t])=>t-e))[0];let c="";const u=e.toLowerCase();u.includes("mysql")&&(c+=`\nMySQL: ${s.mysql} profissionais tm experincia com MySQL`);u.includes("react")&&(c+=`\nReact: ${s.react} profissionais so experientes em React`);u.includes("python")&&(c+=`\nPython: ${s.python} profissionais trabalham com Python`);u.includes("java")&&(c+=`\nJava: ${s.java} profissionais tm conhecimento em Java`);u.includes("javascript")&&(c+=`\nJavaScript: ${s.javascript} profissionais dominam JavaScript`);if(u.includes("senior")||u.includes("snior")){const a=t.filter((e=>{var t,n;return(null==(t=e.proficiencia_cargo)?void 0:t.toLowerCase().includes("senior"))||(null==(n=e.proficiencia_cargo)?void 0:n.toLowerCase().includes("snior"))}));return` Anlise Offline Inteligente\n\nPergunta: "${e}"\n\n Dados da HITSS (${n} profissionais):\n\n Profissionais Sniores: ${a.length}\n\n Lista de Sniores:\n${a.length>0?a.slice(0,10).map((e=>` ${e.nome_completo||"Nome no informado"} - ${e.proficiencia_cargo}`)).join("\n")+(a.length>10?`\n... e mais ${a.length-10} profissionais`:""):" Nenhum profissional com nvel snior encontrado"}\n\n Estatsticas Gerais:\n Colaboradores CLT: ${r} (${Math.round(r/n*100)}%)\n Colaboradores PJ: ${i} (${Math.round(i/n*100)}%)\n Tecnologia mais comum: ${o?`${o[0]} (${o[1]} profissionais)`:"Nenhuma tecnologia identificada"}\n Senioridade predominante: ${l?`${l[0]} (${l[1]} profissionais)`:"Dados de senioridade no disponveis"}`}if(u.includes("quantos")&&(u.includes("mysql")||u.includes("react")||u.includes("python"))){let t=[];return u.includes("mysql")&&t.push(`MySQL: ${s.mysql} profissionais`),u.includes("react")&&t.push(`React: ${s.react} profissionais`),u.includes("python")&&t.push(`Python: ${s.python} profissionais`),` Anlise Offline Inteligente\n\nPergunta: "${e}"\n\n Dados da HITSS (${n} profissionais):\n\n${t.join("\n")}\n\n Estatsticas Gerais:\n Colaboradores CLT: ${r} (${Math.round(r/n*100)}%)\n Colaboradores PJ: ${i} (${Math.round(i/n*100)}%)\n Tecnologia mais comum: ${o?`${o[0]} (${o[1]} profissionais)`:"Nenhuma tecnologia identificada"}\n Senioridade predominante: ${l?`${l[0]} (${l[1]} profissionais)`:"Dados de senioridade no disponveis"}`}return` Anlise Offline Inteligente\n\nPergunta: "${e}"\n\n Dados Analisados: ${n} profissionais da HITSS\n\n Estatsticas Principais:\n Colaboradores CLT: ${r} (${Math.round(r/n*100)}%)\n Colaboradores PJ: ${i} (${Math.round(i/n*100)}%)\n Tecnologia mais comum: ${o?`${o[0]} (${o[1]} profissionais)`:"Nenhuma tecnologia identificada"}\n Senioridade predominante: ${l?`${l[0]} (${l[1]} profissionais)`:"Dados de senioridade no disponveis"}\n\n Insights Baseados na Pergunta:${c||"\n Anlise geral dos dados disponveis"}\n\n Stack Tecnolgico:\n JavaScript: ${s.javascript} profissionais\n Java: ${s.java} profissionais  \n Python: ${s.python} profissionais\n React: ${s.react} profissionais\n TypeScript: ${s.typescript} profissionais\n MySQL: ${s.mysql} profissionais`}(e,t)}const ehe="ai_chat_cache";const the=({professionals:e})=>{const[t,n]=Ie.useState(!1),[r,i]=Ie.useState(""),[a,s]=Ie.useState(function(){try{return JSON.parse(localStorage.getItem(ehe)||"[]")}catch{return[]}}()),[o,l]=Ie.useState(!1),[c,u]=Ie.useState(!1),[h,d]=Ie.useState(!1),f=Ie.useRef(null),p=Ie.useRef(null),[m,g]=Ie.useState(!1);Ie.useEffect((()=>{t&&p.current&&setTimeout((()=>{var e,t;null==(e=p.current)||e.focus(),null==(t=p.current)||t.setSelectionRange(r.length,r.length)}),150)}),[t,r]);const v=()=>{if(f.current){const e=f.current.scrollHeight,t=f.current.scrollTop,n=e-t-f.current.clientHeight,r=800;let i=0;const a=()=>{i+=16;const e=y(i,t,n,r);f.current.scrollTop=e,i<r&&requestAnimationFrame(a)};n>0&&a()}},y=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t,b=async()=>{if(!r.trim()||o)return;const t=r.trim(),n=`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;i(""),u(!0),d(!0);const c=a.find((e=>e.question.toLowerCase().trim()===t.toLowerCase().trim()));if(c){const e={...c,timestamp:Date.now(),id:n},t=[...a,e];return s(t),u(!1),d(!1),void setTimeout(v,100)}l(!0);try{const r=await Que(t,e),i={question:t,answer:r,timestamp:Date.now(),id:n},o=[...a,i];s(o),function(e){localStorage.setItem(ehe,JSON.stringify(e))}(o),setTimeout(v,100)}catch(h){const r={question:t,answer:` **Anlise Inteligente Offline**\n\n **Pergunta:** "${t}"\n\n **Dados da HITSS (${e.length} profissionais):**\n Total de colaboradores: ${e.length}\n Stack principal: Java, JavaScript, Python, React, TypeScript\n Contratos: CLT e PJ\n Sistema: Funcionando em modo offline inteligente\n\n *Resposta gerada localmente com base nos dados disponveis*`,timestamp:Date.now(),id:n},i=[...a,r];s(i)}finally{l(!1),u(!1),d(!1)}},x=e=>{const t={tech:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",level:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",overview:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",contract:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"};return t[e]||t.tech};return q.jsxs(q.Fragment,{children:[q.jsx("button",{onClick:()=>n(!t),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),style:{position:"fixed",bottom:24,right:24,zIndex:1e3,width:72,height:72,borderRadius:"50%",border:"none",fontSize:32,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",transition:"all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)",transform:m?"scale(1.1) translateY(-2px)":o?"scale(1.05) rotate(180deg)":"scale(1)",background:o?"linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%)":m?"linear-gradient(135deg, #8b5cf6 0%, #06b6d4 50%, #10b981 100%)":"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #06b6d4 100%)",backgroundSize:o?"300% 300%":"100% 100%",animation:o?"gradient-shift 2s ease infinite, pulse-glow 1.5s ease-in-out infinite":"none",boxShadow:m?"0 20px 40px rgba(139, 92, 246, 0.4), 0 0 30px rgba(16, 185, 129, 0.3), inset 0 2px 10px rgba(255,255,255,0.2)":o?"0 12px 30px rgba(139, 92, 246, 0.4), 0 0 25px rgba(16, 185, 129, 0.3)":"0 8px 25px rgba(99, 102, 241, 0.3), inset 0 2px 5px rgba(255,255,255,0.1)",filter:o?"brightness(1.1) saturate(1.2)":"none"},"aria-label":"Chat IA Inteligente",title:" Chat IA Multi-Engine com Fallbacks Gratuitos",children:q.jsx("span",{style:{display:"inline-block",transition:"transform 0.3s ease",transform:o?"rotate(360deg)":"rotate(0deg)"},children:o?"":h?"":""})}),t&&q.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at center, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.15) 100%)",backdropFilter:"blur(8px) saturate(1.2)",zIndex:999,animation:"fadeIn 0.3s ease-out"},onClick:()=>n(!1)}),t&&q.jsxs("div",{style:{position:"fixed",top:0,right:0,width:440,height:"100vh",background:"linear-gradient(180deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.98) 100%)",backdropFilter:"blur(25px) saturate(1.1)",boxShadow:"-12px 0 40px rgba(0,0,0,0.08), -4px 0 20px rgba(0,0,0,0.04), \n                        inset 1px 0 0 rgba(255,255,255,0.3)",zIndex:1100,display:"flex",flexDirection:"column",borderLeft:"1px solid rgba(226, 232, 240, 0.6)",animation:"slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:[q.jsxs("div",{style:{padding:"28px 24px",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.9) 0%, rgba(139, 92, 246, 0.9) 100%)",backdropFilter:"blur(30px) saturate(1.2)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",color:"white",position:"relative",overflow:"hidden"},children:[q.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"20px 20px",animation:"float 6s ease-in-out infinite"}}),q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"},children:[q.jsxs("div",{children:[q.jsx("div",{style:{fontWeight:800,fontSize:22,marginBottom:6,letterSpacing:"-0.03em",textShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:" IA Inteligente"}),q.jsx("div",{style:{fontSize:14,opacity:.9,fontWeight:500},children:"Multi-Engine com Fallbacks Gratuitos"})]}),q.jsxs("div",{style:{display:"flex",gap:10},children:[q.jsx("button",{onClick:()=>{s([]),localStorage.removeItem(ehe)},style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",borderRadius:"10px",width:40,height:40,fontSize:18,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",backdropFilter:"blur(10px)"},title:"Limpar conversa",onMouseOver:e=>{e.currentTarget.style.background="rgba(255,255,255,0.3)",e.currentTarget.style.transform="scale(1.05)"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255,255,255,0.2)",e.currentTarget.style.transform="scale(1)"},children:""}),q.jsx("button",{onClick:()=>n(!1),style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",borderRadius:"10px",width:40,height:40,fontSize:20,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",backdropFilter:"blur(10px)"},onMouseOver:e=>{e.currentTarget.style.background="rgba(255,255,255,0.3)",e.currentTarget.style.transform="scale(1.05) rotate(90deg)"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255,255,255,0.2)",e.currentTarget.style.transform="scale(1) rotate(0deg)"},children:""})]})]})]}),q.jsxs("div",{style:{padding:"16px 24px",background:"linear-gradient(90deg, #f0f9ff 0%, #f8fafc 50%, #f0f9ff 100%)",borderBottom:"1px solid rgba(226, 232, 240, 0.5)",fontSize:12,color:"#64748b",fontWeight:600,display:"flex",alignItems:"center",gap:12},children:[q.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:o?"linear-gradient(45deg, #10b981, #06b6d4)":"#06b6d4",boxShadow:o?"0 0 10px rgba(16, 185, 129, 0.5)":"0 0 5px rgba(6, 182, 212, 0.3)",animation:o?"pulse-dot 1.5s infinite":"none"}}),q.jsx("span",{children:" Together.xyz   Groq   APIs Premium   Offline IA"})]}),q.jsxs("div",{ref:f,style:{flex:1,overflowY:"auto",padding:"24px",background:"linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)",scrollBehavior:"smooth"},children:[0===a.length&&q.jsxs("div",{style:{textAlign:"center",marginTop:50,padding:40,background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderRadius:20,border:"2px dashed rgba(203, 213, 225, 0.6)",position:"relative",overflow:"hidden"},children:[q.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"radial-gradient(circle at 30% 30%, rgba(99, 102, 241, 0.05) 2px, transparent 2px)",backgroundSize:"30px 30px",animation:"drift 8s linear infinite"}}),q.jsx("div",{style:{fontSize:40,marginBottom:20,position:"relative"},children:""}),q.jsx("div",{style:{fontWeight:800,marginBottom:12,fontSize:20,color:"#1e293b",position:"relative"},children:"Chat IA Inteligente"}),q.jsxs("div",{style:{fontSize:15,color:"#64748b",marginBottom:24,lineHeight:1.6,position:"relative"},children:["Converse sobre os ",e.length," profissionais da HITSS.",q.jsx("br",{}),"Sistema inteligente com mltiplas IAs e fallbacks."]}),q.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:24,position:"relative"},children:[{icon:"",text:"Quantos desenvolvedores Java temos?",category:"tech"},{icon:"",text:"Quais profissionais so sniores?",category:"level"},{icon:"",text:"Mostre os talentos em React",category:"tech"},{icon:"",text:"Anlise completa da equipe",category:"overview"},{icon:"",text:"Desenvolvedores Python na equipe",category:"tech"},{icon:"",text:"Distribuio CLT vs PJ",category:"contract"}].map(((e,t)=>q.jsxs("button",{onClick:()=>i(e.text),style:{background:x(e.category),border:"none",borderRadius:16,padding:"16px 12px",fontSize:13,color:"white",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)",fontWeight:600,textAlign:"left",display:"flex",flexDirection:"column",gap:4,boxShadow:"0 4px 15px rgba(0,0,0,0.1)",gridColumn:3===t?"span 2":"span 1"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-3px) scale(1.02)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.1)"},children:[q.jsx("span",{style:{fontSize:20,marginBottom:4},children:e.icon}),q.jsx("span",{style:{fontSize:12,lineHeight:1.3},children:e.text})]},t)))})]}),a.map(((e,t)=>q.jsxs("div",{style:{marginBottom:36,opacity:0,animation:`fadeInUp 0.5s ease-out ${.1*t}s both`},children:[q.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:18},children:q.jsxs("div",{style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",borderRadius:"24px 24px 6px 24px",padding:"14px 20px",maxWidth:"85%",fontSize:14,lineHeight:1.5,color:"white",fontWeight:500,boxShadow:"0 8px 25px rgba(99, 102, 241, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)",position:"relative",backdropFilter:"blur(10px)"},children:[e.question,q.jsx("div",{style:{position:"absolute",bottom:-8,right:20,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"8px solid #8b5cf6"}})]})}),q.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:16},children:[q.jsx("div",{style:{width:44,height:44,borderRadius:"50%",background:"linear-gradient(135deg, #10b981 0%, #06b6d4 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,flexShrink:0,boxShadow:"0 8px 25px rgba(16, 185, 129, 0.3), inset 0 2px 5px rgba(255,255,255,0.3)",border:"2px solid rgba(255,255,255,0.3)"},children:""}),q.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.95) 100%)",borderRadius:"6px 24px 24px 24px",padding:"20px 24px",fontSize:14,lineHeight:1.7,whiteSpace:"pre-line",border:"1px solid rgba(226, 232, 240, 0.5)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255,255,255,0.8)",flex:1,color:"#1e293b",backdropFilter:"blur(10px)",position:"relative"},children:[e.answer,q.jsx("div",{style:{position:"absolute",top:20,left:-8,width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderRight:"8px solid rgba(248,250,252,0.95)"}})]})]})]},e.id))),c&&q.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginTop:24,animation:"fadeIn 0.3s ease-out"},children:[q.jsx("div",{style:{width:44,height:44,borderRadius:"50%",background:"linear-gradient(135deg, #10b981 0%, #06b6d4 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,animation:"pulse-glow 2s infinite",boxShadow:"0 0 20px rgba(16, 185, 129, 0.4)"},children:""}),q.jsxs("div",{style:{background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",borderRadius:"6px 24px 24px 24px",padding:"20px 24px",display:"flex",alignItems:"center",gap:8,boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[[0,1,2].map((e=>q.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"linear-gradient(135deg, #64748b, #94a3b8)",animation:`bounce-dot 1.4s infinite ease-in-out ${.2*e}s`}},e))),q.jsx("span",{style:{marginLeft:8,fontSize:13,color:"#64748b",fontWeight:500},children:"IA analisando..."})]})]})]}),q.jsx("div",{style:{padding:"24px",background:"linear-gradient(180deg, rgba(255,255,255,0.85) 0%, rgba(248,250,252,0.95) 100%)",backdropFilter:"blur(25px) saturate(1.1)",borderTop:"1px solid rgba(226, 232, 240, 0.4)"},children:q.jsxs("div",{style:{display:"flex",gap:16,alignItems:"flex-end"},children:[q.jsx("input",{ref:p,type:"text",value:r,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&!o&&r.trim()&&b()},placeholder:"Pergunte sobre os profissionais da HITSS...",style:{flex:1,border:"2px solid rgba(226, 232, 240, 0.6)",borderRadius:20,padding:"16px 22px",fontSize:15,outline:"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(15px)",fontWeight:500,lineHeight:1.4,minHeight:50,color:"#1e293b"},disabled:o,onFocus:e=>{e.target.style.borderColor="#6366f1",e.target.style.boxShadow="0 0 0 4px rgba(99, 102, 241, 0.1), 0 8px 25px rgba(99, 102, 241, 0.15)",e.target.style.transform="translateY(-1px)"},onBlur:e=>{e.target.style.borderColor="rgba(226, 232, 240, 0.6)",e.target.style.boxShadow="none",e.target.style.transform="translateY(0)"}}),q.jsxs("button",{onClick:b,disabled:o||!r.trim(),style:{background:o||!r.trim()?"linear-gradient(135deg, #94a3b8 0%, #64748b 100%)":"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"white",border:"none",borderRadius:20,padding:"16px 24px",fontSize:16,cursor:o||!r.trim()?"not-allowed":"pointer",fontWeight:700,minWidth:90,height:50,transition:"all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)",transform:o?"scale(0.95)":"scale(1)",boxShadow:o||!r.trim()?"none":"0 8px 25px rgba(99, 102, 241, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:8},onMouseOver:e=>{!o&&r.trim()&&(e.currentTarget.style.transform="scale(1.05) translateY(-1px)",e.currentTarget.style.boxShadow="0 12px 30px rgba(99, 102, 241, 0.4)")},onMouseOut:e=>{o||(e.currentTarget.style.transform="scale(1) translateY(0)",e.currentTarget.style.boxShadow=r.trim()?"0 8px 25px rgba(99, 102, 241, 0.3)":"none")},children:[q.jsx("span",{style:{fontSize:18},children:o?"":""}),q.jsx("span",{style:{fontSize:14},children:o?"IA...":"Enviar"})]})]})})]}),q.jsx("style",{children:"\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        \n        @keyframes fadeInUp {\n          from { \n            opacity: 0; \n            transform: translateY(20px);\n          }\n          to { \n            opacity: 1; \n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes slideInRight {\n          from { \n            opacity: 0; \n            transform: translateX(100%);\n          }\n          to { \n            opacity: 1; \n            transform: translateX(0);\n          }\n        }\n        \n        @keyframes gradient-shift {\n          0%, 100% { background-position: 0% 50%; }\n          50% { background-position: 100% 50%; }\n        }\n        \n        @keyframes pulse-glow {\n          0%, 100% { \n            transform: scale(1);\n            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);\n          }\n          50% { \n            transform: scale(1.05);\n            box-shadow: 0 0 30px rgba(16, 185, 129, 0.6), 0 0 40px rgba(6, 182, 212, 0.3);\n          }\n        }\n        \n        @keyframes pulse-dot {\n          0%, 100% { \n            transform: scale(1);\n            opacity: 0.8;\n          }\n          50% { \n            transform: scale(1.2);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes bounce-dot {\n          0%, 80%, 100% { \n            transform: scale(0.8); \n            opacity: 0.5;\n          }\n          40% { \n            transform: scale(1.2); \n            opacity: 1;\n          }\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-10px) rotate(1deg); }\n        }\n        \n        @keyframes drift {\n          0% { transform: translateX(-10px); }\n          100% { transform: translateX(10px); }\n        }\n        \n        /* Scrollbar customization */\n        ::-webkit-scrollbar {\n          width: 6px;\n        }\n        \n        ::-webkit-scrollbar-track {\n          background: rgba(226, 232, 240, 0.3);\n          border-radius: 3px;\n        }\n        \n        ::-webkit-scrollbar-thumb {\n          background: linear-gradient(135deg, #6366f1, #8b5cf6);\n          border-radius: 3px;\n        }\n        \n        ::-webkit-scrollbar-thumb:hover {\n          background: linear-gradient(135deg, #5b21b6, #7c3aed);\n        }\n      "})]})},nhe=()=>{const[e,t]=Ie.useState("dashboard"),[n,r]=Ie.useState([]),[i,a]=Ie.useState(!0),[s,o]=Ie.useState(null);Ie.useEffect((()=>{(async()=>{a(!0),o(null);try{const e=await lW((async e=>{const{data:t,error:n}=await e.from("colaboradores").select("*");if(n)throw n;return t}));e&&r(e)}catch(she){const t=[{id:"1",nome_completo:"Joo Silva",email:"joao.silva@globalhitss.com.br",area_atuacao:"Desenvolvedor Frontend",skill_principal:"React",nivel_experiencia:"Snior",disponivel_compartilhamento:!0,percentual_compartilhamento:"75",outras_tecnologias:"TypeScript,JavaScript,CSS",created_at:(new Date).toISOString(),hora_ultima_modificacao:null,regime:"CLT",local_alocacao:"Remoto",proficiencia_cargo:"Desenvolvedor Frontend Snior",java:null,javascript:"Snior",python:null,typescript:"Snior",php:null,dotnet:null,react:"Snior",angular:null,ionic:null,flutter:null,mysql:null,postgres:"Pleno",oracle_db:null,sql_server:null,mongodb:null,aws:"Pleno",azure:null,gcp:null,android:null,cobol:null,linguagem_r:null,linguagem_c:null,linguagem_cpp:null,windows:null,raspberry_pi:null,arduino:null,gerencia_projetos:null,administracao_projetos:null,analise_requisitos:null,gestor_area:"Marcelo Costa",gestor_direto:"Ana Paula"},{id:"2",nome_completo:"Maria Santos",email:"maria.santos@globalhitss.com.br",area_atuacao:"Desenvolvedor Backend",skill_principal:"Node.js",nivel_experiencia:"Pleno",disponivel_compartilhamento:!0,percentual_compartilhamento:"50",outras_tecnologias:"JavaScript,PostgreSQL,Docker",created_at:(new Date).toISOString(),hora_ultima_modificacao:null,regime:"PJ",local_alocacao:"Cliente",proficiencia_cargo:"Desenvolvedor Backend Pleno",java:null,javascript:"Pleno",python:"Junior",typescript:"Pleno",php:null,dotnet:null,react:null,angular:null,ionic:null,flutter:null,mysql:null,postgres:"Snior",oracle_db:null,sql_server:null,mongodb:"Pleno",aws:"Pleno",azure:null,gcp:null,android:null,cobol:null,linguagem_r:null,linguagem_c:null,linguagem_cpp:null,windows:null,raspberry_pi:null,arduino:null,gerencia_projetos:null,administracao_projetos:null,analise_requisitos:null,gestor_area:"Roberto Almeida",gestor_direto:"Fernanda Lima"},{id:"3",nome_completo:"Carlos Oliveira",email:"carlos.oliveira@globalhitss.com.br",area_atuacao:"DevOps",skill_principal:"AWS",nivel_experiencia:"Snior",disponivel_compartilhamento:!1,percentual_compartilhamento:null,outras_tecnologias:"Docker,Kubernetes,Terraform",created_at:(new Date).toISOString(),hora_ultima_modificacao:null,regime:"CLT",local_alocacao:"Hbrido",proficiencia_cargo:"Engenheiro DevOps Snior",java:null,javascript:null,python:"Pleno",typescript:null,php:null,dotnet:null,react:null,angular:null,ionic:null,flutter:null,mysql:null,postgres:"Pleno",oracle_db:null,sql_server:null,mongodb:null,aws:"Snior",azure:"Pleno",gcp:"Junior",android:null,cobol:null,linguagem_r:null,linguagem_c:null,linguagem_cpp:null,windows:null,raspberry_pi:null,arduino:null,gerencia_projetos:null,administracao_projetos:null,analise_requisitos:null,gestor_area:"Carlos Moreira",gestor_direto:"Patricia Santos"}];r(t)}finally{a(!1)}})()}),[]);return i?q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-950",children:q.jsx("p",{className:"text-white text-2xl",children:"Carregando profissionais..."})}):s?q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-950",children:q.jsxs("p",{className:"text-red-500 text-2xl",children:["Erro ao carregar dados: ",s]})}):q.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-950 relative overflow-hidden",children:[q.jsx(Zue,{}),q.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900/10 via-transparent to-blue-900/10 backdrop-blur-[0.5px] z-5"}),q.jsxs("div",{className:"relative z-10",children:[q.jsx(Nd.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"p-6",children:q.jsxs("div",{className:"max-w-7xl mx-auto",children:[q.jsx(Nd.h1,{initial:{scale:.9},animate:{scale:1},transition:{delay:.2,duration:.6},className:"text-5xl md:text-7xl font-bold text-white mb-4 bg-gradient-to-r from-indigo-400 via-purple-400 to-blue-400 bg-clip-text text-transparent leading-tight",children:"Gesto Profissional HITSS"}),q.jsx(Nd.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-slate-300 text-xl font-light tracking-wide",children:"Gerencie profissionais de TI com facilidade e elegncia"}),q.jsx(Nd.div,{initial:{width:0},animate:{width:"100px"},transition:{delay:.6,duration:.8},className:"h-[2px] bg-gradient-to-r from-purple-500 to-blue-500 mt-6"})]})}),q.jsx("main",{className:"max-w-7xl mx-auto px-6 pb-6",children:q.jsxs(Nd.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:["dashboard"===e&&q.jsx(k2,{professionals:n,onNavigate:t}),"manual"===e&&q.jsx(t5,{onSubmit:async e=>{try{const{data:t,error:n}=await sW.from("colaboradores").insert([e]).select();if(n)throw n;t&&r((e=>[...e,...t]))}catch(she){o(she.message||"Falha ao salvar profissional.")}},onBack:()=>t("dashboard")}),"excel"===e&&q.jsx(n5,{onImport:async e=>{try{const{data:t,error:n}=await sW.from("colaboradores").insert(e).select();if(n)throw n;t&&r((e=>[...e,...t]))}catch(she){o(she.message||"Falha ao salvar profissionais.")}},onBack:()=>t("dashboard")})]})})]}),q.jsx(the,{professionals:n})]})},rhe=()=>{const e=Be();return Ie.useEffect((()=>{}),[e.pathname]),q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:q.jsxs("div",{className:"text-center",children:[q.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),q.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),q.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ihe=new Li,ahe=()=>q.jsx(Ui,{client:ihe,children:q.jsxs(Qr,{children:[q.jsx(lr,{}),q.jsx(Pr,{}),q.jsx(ze,{children:q.jsxs(Ve,{children:[q.jsx(He,{path:"/",element:q.jsx(nhe,{})}),q.jsx(He,{path:"*",element:q.jsx(rhe,{})})]})})]})});j(document.getElementById("root")).render(q.jsx(ahe,{}));
